import{f as m,u as T}from"./_dnt.polyfills--JVbbcbr-CSw9Ua_j.js";import{m as g,a as C}from"./map-xliCluot-c5CG0Dnr.js";const N=(s,t,e=s)=>new Proxy(e,{get(n,r){return r in n?n[r]:n[r]=t(n,r)}}),A=(s,t)=>{{const e=Object.getOwnPropertyDescriptors(s),n=[];for(const r in e)e[r].enumerable&&n.push(r);return n}},P=new WeakMap,w=(s=document)=>{let t=!1;const e=()=>{t||(t=!0,queueMicrotask(()=>{t=!1,s.adoptedStyleSheets=s.adoptedStyleSheets}))},n=l=>(...i)=>{const u=s.adoptedStyleSheets[l].apply(s.adoptedStyleSheets,i);return e(),u},r=n("push"),o=n("pop"),a=n("shift"),c=n("unshift"),E=n("splice"),h=l=>{const i=s.adoptedStyleSheets.indexOf(l);i!==-1&&(s.adoptedStyleSheets.splice(i,1),e())},d=m(()=>g(P,s.adoptedStyleSheets,()=>new Map)),R=l=>d().has(l),_=(l,i)=>{const u=d(),S=u.get(l);S!==i&&(y(S,i),u.set(l,i))},b=l=>{const i=d(),u=C(i,l);return u!=null?(h(u),!0):!1},k=l=>d().get(l),M=(l,i)=>{const u=s.adoptedStyleSheets.includes(l);i===!1?u&&h(l):i?u||(s.adoptedStyleSheets.push(l),e()):u?h(l):(s.adoptedStyleSheets.push(l),e())},y=(l,i)=>{if(l==null)s.adoptedStyleSheets.push(i),e();else{const u=s.adoptedStyleSheets.indexOf(l);u!==-1&&(s.adoptedStyleSheets.splice(u,1,i),e())}},$=new Map([["push",r],["pop",o],["shift",a],["unshift",c],["splice",E],["remove",h],["toggle",M],["replace",y],["has",R],["set",_],["delete",b],["get",k]]);return new Proxy(s.adoptedStyleSheets,{get(l,i,u){return $.get(i)||Reflect.get(l,i,u)}})},L=w(),v=s=>{let t="";for(const e of A(s)){const n=e.startsWith("--")?e:e.replace(/[A-Z]/g,r=>"-"+r.toLowerCase());t+=`${n}:${s[e]};`}return t},z=s=>s?s.nodeType!==Node.DOCUMENT_NODE?s.ownerDocument??document:s:document,D=new WeakMap,K=s=>("adoptedStyleSheets"in s||(s=z(s)),g(D,s,w)),Q="ontouchstart"in document.body&&typeof TouchEvent<"u";class O{#e;#s=!1;#l(t=!this.#s){const e=this.#e;e!=null&&(t?this.#s||(e.push(this.#n),this.#s=!0):this.#s&&(e.remove(this.#n),this.#s=!1))}constructor(t=L){this.#e=t,this.#l()}get owner(){return this.#e}set owner(t){t!==this.#e&&(this.#l(!1),this.#e=t??null,this.#l(!0))}#n=new CSSStyleSheet;get unsafeStyleSheet(){return this.#n}#t=[];get size(){return this.#t.length}addRule(t,e){const n=this.#n,r=this.#t,o=n.cssRules.length;if(n.insertRule(t,e??o),o!==n.cssRules.length){const a=n.cssRules.item(e??o);return e==null?r.push(a):e===0?r.unshift(a):r.splice(e,0,a),a}return null}addRules(t,e){p.replaceSync(t);const n=[];for(let r=p.cssRules.length-1;r>=0;r--)n[n.length]=this.addRule(p.cssRules[r].cssText,e);return e==null?n:n.reverse()}removeRule(t){let e;if(typeof t=="number"){if(this.#t[e=t]==null)return!1}else if(e=this.#t.indexOf(t),e===-1)return!1;return this.#n.deleteRule(e),this.#t.splice(e,1),!0}atRule(t){return this.#t.at(t)}[Symbol.iterator](){return this.#t[Symbol.iterator]()}#r=new Map;keys(){return this.#r.keys()}hasRule(t){return this.#r.has(t)}getRule(t){return this.#r.get(t)}setRule(t,e,n){this.deleteRule(t);const r=this.addRule(e,n);return r&&this.#r.set(t,r),r}deleteRule(t){const e=this.#r.get(t);return e!=null?(this.removeRule(e),!0):!1}}const p=new CSSStyleSheet,V={set(s,t){s.dataset.sharedElementLifecycle=t},get(s){return s.dataset.sharedElementLifecycle},delete(s){delete s.dataset.sharedElementLifecycle}},f=[{key:"group",alias:null,prop:"sharedElementGroupStyle"},{key:"new",alias:"both",prop:"sharedElementNewStyle"},{key:"old",alias:"both",prop:"sharedElementOldStyle"},{key:"imagePair",alias:null,prop:"sharedElementImagePairStyle"}],q=new Map(f.map(s=>[s.key,s.prop]));class x{set(t,e=null,n){if(e==null)return this.unset(t);const{dataset:r}=t;r.sharedElement=e;for(const o of f){const a=n?n[o.key]||o.alias&&n[o.alias]:null;a?r[o.prop]=a:delete r[o.prop]}}get(t){const{dataset:e}=t,n=e.sharedElement;if(n){let r;return{name:n,get styles(){return r??=N({},(o,a)=>{const c=q.get(a);return c?e[c]??"":""})}}}}unset(t){const{dataset:e}=t;if(e.sharedElement){delete e.sharedElement;for(const n of f)delete e[n.prop]}}queryAll(t,e){let n=[].slice.call(t.querySelectorAll(e?.selector??"[data-shared-element]"));return e?.filter&&(n=n.filter(e.filter)),n}queryAllWithConfig(t,e){const n=this.queryAll(t,e),r=[];for(const o of n){const a=this.get(o);r.push(Object.assign(a,{element:o}))}return r}}const X=new x;class ee{selectorPrefix="::view-transition";getSelector(t="group",e="*"){return`${this.selectorPrefix}-${t}(${e})`}setAnimationStyle(t=this.getSelector(),e=null){const n=`--user-${t}`;e==null?this.css.deleteRule(n):this.css.setRule(n,`${t}{${v(e)}}`)}animationDuration=350;animationEasing="cubic-bezier(0.2, 0.9, 0.5, 1)";#e=m(()=>{const t=String.raw,e=new O;return e.addRule(t`[data-shared-element-state=old]{visibility:hidden!important}`),e.addRule(t`${this.getSelector("group","*")}{animation-timing-function:${this.animationEasing};animation-duration:${this.animationDuration}ms}`),e});get css(){return this.#e()}__getPagesContext(t,e){const n={},r=o=>{if(o){const a=e.queryNavEntryNode(o,t);if(a)return{navEntryNode:a,navEntry:o}}};return n.from=r(e.from),n.dest=r(e.dest),n}}const W=s=>T(Set.prototype[s]),I=W("intersection"),j=s=>s,F=s=>Symbol.iterator in s?s:{[Symbol.iterator](){return s}},B=j((s,t)=>{G(t);let e,n;s.size<=t.size?(e=s,n=t):(e=t.keys(),n=s);const r=new Set;for(const o of F(e))n.has(o)&&r.add(o);return r});function G(s){if(!H(s))throw new TypeError;const t=s.size,e=Number(t);if(Number.isNaN(e))throw new TypeError;if(typeof s.has!="function")throw new TypeError;if(typeof s.keys!="function")throw new TypeError}function H(s){if(s===null)return!1;const t=typeof s;return t==="object"||t==="function"}const U="intersection"in Set.prototype,Y=([s,t])=>U?s:t,te=Y([I,B]);export{ee as S,V as a,te as b,v as c,K as g,Q as i,A as o,X as s};
