import{i as K,s as vt,r as Q,_ as O,a as H,t as et,b as h,x as Y,f as Ct,z as at,c as Te,n as W,d as wr,B as Er,E as Qs,e as tn,Z as xr,g as Ce,h as Sr,j as en,T as sn}from"./css-color-mix-D1rePG_O.js";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let nn=class extends Event{constructor(t,s,n,r){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.contextTarget=s,this.callback=n,this.subscribe=r??!1}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let le=class{constructor(t,s,n,r){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(i,o)=>{this.unsubscribe&&(this.unsubscribe!==o&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=i,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(i,o)),this.unsubscribe=o},this.host=t,s.context!==void 0){const i=s;this.context=i.context,this.callback=i.callback,this.subscribe=i.subscribe??!1}else this.context=s,this.callback=n,this.subscribe=r??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new nn(this.context,this.host,this.t,this.subscribe))}};/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function zt({context:e,subscribe:t}){return(s,n)=>{typeof n=="object"?n.addInitializer(function(){new le(this,{context:e,callback:r=>{s.set.call(this,r)},subscribe:t})}):s.constructor.addInitializer(r=>{new le(r,{context:e,callback:i=>{r[n]=i},subscribe:t})})}}const kr={setProperty:e=>e==null||e===""||/^auto$/i.test(e)?"auto":!!e,fromAttribute:e=>e===null||e==="auto"||/^auto$/i.test(e)?"auto":!/^false$/i.test(e),toAttribute:e=>{switch(e){case!0:case!1:return e.toString();default:return"auto"}}},rn=()=>vt(kr),an=K`:host{background-color:var(--color-canvas)}:host([data-translucent=yes]){background-color:transparent;--_light-brightness:calc(1.5 * var(--color-scheme-light, 1));--_dark-brightness:calc(0.5 * var(--color-scheme-dark, 0));backdrop-filter:blur(20px) contrast(0.5) brightness(max(var(--_light-brightness),var(--_dark-brightness)))}`,yt=(e,t,s)=>{let n;return e.has(t)?n=e.get(t):(n=s(t,e),e.set(t,n)),n},on=(e,t)=>{let s;return e.has(t)&&(s=e.get(t),e.delete(t)),s},Tr=e=>Cr(e,()=>{}),Cr=(e,t)=>{for(const s of e)return s;return t()},$r=(e,t)=>{const s=[];for(const n of e)n!=null&&s.push(n);return s},Ss=e=>{if(typeof e=="object"&&e!==null){if(typeof Object.getPrototypeOf=="function"){const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}return Object.prototype.toString.call(e)==="[object Object]"}return!1},ut=(...e)=>e.reduce((t,s)=>{if(Array.isArray(s))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(s).forEach(n=>{["__proto__","constructor","prototype"].includes(n)||(Array.isArray(t[n])&&Array.isArray(s[n])?t[n]=ut.options.mergeArrays?ut.options.uniqueArrayItems?Array.from(new Set(t[n].concat(s[n]))):[...t[n],...s[n]]:s[n]:Ss(t[n])&&Ss(s[n])?t[n]=ut(t[n],s[n]):t[n]=s[n]===void 0?ut.options.allowUndefinedOverrides?s[n]:t[n]:s[n])}),t},{}),Ke={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};ut.options=Ke;ut.withOptions=(e,...t)=>{ut.options=Object.assign(Object.assign({},Ke),e);const s=ut(...t);return ut.options=Ke,s};const Jt=(e,...t)=>ut.withOptions({mergeArrays:!1,allowUndefinedOverrides:!1},e,...t),be=Symbol("appn-theme"),ds=new Map,Ir=()=>[...new Set([...ds.values()].map(e=>[...e]).flat())],ln=(...e)=>{for(const t of e)for(const s of t.class)yt(ds,s,()=>new Set).add(t)},ks=e=>{let t;for(const s of e){const n=ds.get(s);if(n==null||n.size===0)continue;if(t==null){t=n;continue}const r=n.intersection(t);r.size!==0&&(t=r)}return t?Tr(t):void 0};/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */(()=>{let e=[et("appn-footer")],t,s=[],n,r=Q,i,o=[],a=[],c,u,T=[],d=[];return class extends r{static{n=this}static{const g=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[zt({context:be,subscribe:!0})],u=[rn()],O(this,c={get:H(function(){return this.#s},"#theme","get"),set:H(function(w){this.#s=w},"#theme","set")},i,{kind:"accessor",name:"#theme",static:!1,private:!0,access:{has:w=>#t in w,get:w=>w.#t,set:(w,A)=>{w.#t=A}},metadata:g},o,a),O(this,null,u,{kind:"accessor",name:"translucent",static:!1,private:!1,access:{has:w=>"translucent"in w,get:w=>w.translucent,set:(w,A)=>{w.translucent=A}},metadata:g},T,d),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:g},null,s),n=t.value,g&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})}#s=h(this,o,void 0);get#t(){return c.get.call(this)}set#t(g){return c.set.call(this,g)}#n=(h(this,a),h(this,T,"auto"));get translucent(){return this.#n}set translucent(g){this.#n=g}static styles=[K`:host{display:flex;flex-direction:column;padding-bottom:var(--safe-area-inset-bottom,0)}`,an];render(){const g=(this.translucent=="auto"&&this.#t?.class.includes("ios"))??!1;return this.dataset.translucent=g?"yes":"no",Y`<slot></slot>`}constructor(){super(...arguments),h(this,d)}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */(()=>{let e=[et("appn-header")],t,s=[],n,r=Q,i,o=[],a=[],c,u,T=[],d=[];return class extends r{static{n=this}static{const g=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[zt({context:be,subscribe:!0})],u=[rn()],O(this,c={get:H(function(){return this.#s},"#theme","get"),set:H(function(w){this.#s=w},"#theme","set")},i,{kind:"accessor",name:"#theme",static:!1,private:!0,access:{has:w=>#t in w,get:w=>w.#t,set:(w,A)=>{w.#t=A}},metadata:g},o,a),O(this,null,u,{kind:"accessor",name:"translucent",static:!1,private:!1,access:{has:w=>"translucent"in w,get:w=>w.translucent,set:(w,A)=>{w.translucent=A}},metadata:g},T,d),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:g},null,s),n=t.value,g&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})}#s=h(this,o,void 0);get#t(){return c.get.call(this)}set#t(g){return c.set.call(this,g)}#n=(h(this,a),h(this,T,"auto"));get translucent(){return this.#n}set translucent(g){this.#n=g}static styles=[K`:host{display:flex;flex-direction:column;padding-top:var(--safe-area-inset-top,0)}`,an];render(){const g=(this.translucent=="auto"&&this.#t?.class.includes("ios"))??!1;return this.dataset.translucent=g?"yes":"no",Y`<slot></slot>`}constructor(){super(...arguments),h(this,d)}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cn={ELEMENT:6},we=e=>(...t)=>({_$litDirective$:e,values:t});let Ee=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,s,n){this._$Ct=t,this._$AM=s,this._$Ci=n}_$AS(t,s){return this.update(t,s)}update(t,s){return this.render(...s)}};const Qt=(e,t)=>{{const s=Object.getOwnPropertyDescriptors(e),n=[];for(const r in s)s[r].enumerable&&n.push(r);return n}},zr=new WeakMap,hn=(e=document)=>{let t=!1;const s=()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e.adoptedStyleSheets=e.adoptedStyleSheets}))},n=C=>(...E)=>{const k=e.adoptedStyleSheets[C].apply(e.adoptedStyleSheets,E);return s(),k},r=n("push"),i=n("pop"),o=n("shift"),a=n("unshift"),c=n("splice"),u=C=>{const E=e.adoptedStyleSheets.indexOf(C);E!==-1&&(e.adoptedStyleSheets.splice(E,1),s())},T=Ct(()=>yt(zr,e.adoptedStyleSheets,()=>new Map)),d=C=>T().has(C),g=(C,E)=>{const k=T(),$=k.get(C);$!==E&&(R($,E),k.set(C,E))},w=C=>{const E=T(),k=on(E,C);return k!=null?(u(k),!0):!1},A=C=>T().get(C),L=(C,E)=>{const k=e.adoptedStyleSheets.includes(C);E===!1?k&&u(C):E?k||(e.adoptedStyleSheets.push(C),s()):k?u(C):(e.adoptedStyleSheets.push(C),s())},R=(C,E)=>{if(C==null)e.adoptedStyleSheets.push(E),s();else{const k=e.adoptedStyleSheets.indexOf(C);k!==-1&&(e.adoptedStyleSheets.splice(k,1,E),s())}},U=new Map([["push",r],["pop",i],["shift",o],["unshift",a],["splice",c],["remove",u],["toggle",L],["replace",R],["has",d],["set",g],["delete",w],["get",A]]);return new Proxy(e.adoptedStyleSheets,{get(C,E,k){return U.get(E)||Reflect.get(C,E,k)}})},Nr=hn(),Or=e=>{let t="";for(const s of Qt(e)){const n=s.startsWith("--")?s:s.replace(/[A-Z]/g,r=>"-"+r.toLowerCase());t+=`${n}:${e[s]};`}return t},Pr=e=>e?e.nodeType!==Node.DOCUMENT_NODE?e.ownerDocument??document:e:document,Rr=new WeakMap,Ar=e=>("adoptedStyleSheets"in e||(e=Pr(e)),yt(Rr,e,hn)),Lr=CSS.supports("view-transition-name: none");function It(e,t){if(!e||e.length===0)throw new Error("valuesToEnumConverter requires a non-empty array of possible values.");const s=new Set(e),n=t?.defaultValue??e[0];if(!s.has(n))throw new Error(`The effective defaultValue (${n}) is not present in the provided values array.`);const r=new Map,i=new Map;for(const o of s){const a=String(o),c=a.toLowerCase();if(i.set(o,a),r.has(c)){const u=r.get(c);console.warn(`Warning: Multiple values map to the same case-insensitive attribute string: ${c}. Attribute lookup will resolve to the last encountered value (${o}). Previous value was (${u}).`)}r.set(c,o)}return{setProperty(o){return s.has(o)?o:(console.warn(`Invalid value set via property: received "${o}" (type: ${typeof o}). Expected one of [${e.map(a=>JSON.stringify(a)).join(", ")}]. Using default value "${n}".`),n)},fromAttribute(o){if(o===null)return n;const a=o.toLowerCase();return r.has(a)?r.get(a):(console.warn(`Invalid attribute value "${o}" received. Expected value mappable to one of [${e.map(c=>JSON.stringify(c)).join(", ")}]. Using default value "${n}".`),n)},toAttribute(o){return i.has(o)?i.get(o):(console.warn(`Invalid enum value "${o}" provided to toAttribute. Expected one of [${e.map(a=>JSON.stringify(a)).join(", ")}]. Returning null.`),null)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Dr=Symbol();let un=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((t,s)=>{this.o=t,this.h=s}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(t,s,n){this.p=0,this.i=0,(this._=t).addController(this);const r=typeof s=="object"?s:{task:s,args:n};this.v=r.task,this.j=r.args,this.m=r.argsEqual??Ur,this.k=r.onComplete,this.A=r.onError,this.autoRun=r.autoRun??!0,"initialValue"in r&&(this.u=r.initialValue,this.i=2,this.O=this.T?.())}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;const t=this.j();if(!Array.isArray(t))throw Error("The args function must return an array");return t}async S(){const t=this.T(),s=this.O;this.O=t,t===s||t===void 0||s!==void 0&&this.m(s,t)||await this.run(t)}async run(t){let s,n;t??=this.T(),this.O=t,this.i===1?this.q?.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();const r=++this.p;this.q=new AbortController;let i=!1;try{s=await this.v(t,{signal:this.q.signal})}catch(o){i=!0,n=o}if(this.p===r){if(s===Dr)this.i=0;else{if(i===!1){try{this.k?.(s)}catch{}this.i=2,this.o?.(s)}else{try{this.A?.(n)}catch{}this.i=3,this.h?.(n)}this.u=s,this.l=n}this._.requestUpdate()}}abort(t){this.i===1&&this.q?.abort(t)}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(t){switch(this.i){case 0:return t.initial?.();case 1:return t.pending?.();case 2:return t.complete?.(this.value);case 3:return t.error?.(this.error);default:throw Error("Unexpected status: "+this.i)}}};const Ur=(e,t)=>e===t||e.length===t.length&&e.every((s,n)=>!wr(s,t[n]));/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function dn(e,t,s){return e?t(e):s?.(e)}const Ye=new Map,fn=new EventTarget,fs=(e,t)=>{if(Ye.has(e))throw new Error(`icon ${e} already defined`);Ye.set(e,t),fn.dispatchEvent(new jr(e,t))},pn=e=>Ye.get(e),gn=(e,t)=>{fn.addEventListener("appn-icon-define-"+e,s=>{t(s.detail)},{once:!0})};class jr extends CustomEvent{constructor(t,s){super("appn-icon-define-"+t,{detail:{name:t,icon:s}})}}const Ts=async e=>{let t=pn(e);return t==null&&(t=await new Promise(s=>{gn(e,({icon:n})=>{s(n)})})),t},Mr=[K`:host{display:inline-flex;min-width:1em;min-height:1em;line-height:1;box-sizing:border-box;padding:.15em;align-self:center;object-fit:contain}svg{flex:1}`];fs("",{viewBox:{minX:0,minY:0,width:0,height:0},layers:[]});fs("chevron.backward",{viewBox:{minX:0,minY:0,width:16.8523,height:23.7394},layers:[{type:"path",d:"M0 11.8672C0 12.209 0.123047 12.5098 0.382812 12.7695L11.2246 23.3652C11.457 23.6113 11.7578 23.7344 12.1133 23.7344C12.8242 23.7344 13.3711 23.2012 13.3711 22.4902C13.3711 22.1348 13.2207 21.834 13.002 21.6016L3.04883 11.8672L13.002 2.13281C13.2207 1.90039 13.3711 1.58594 13.3711 1.24414C13.3711 0.533203 12.8242 0 12.1133 0C11.7578 0 11.457 0.123047 11.2246 0.355469L0.382812 10.9648C0.123047 11.2109 0 11.5254 0 11.8672Z",fill:"currentColor"}],variants:[{selector:":dir(rtl)",type:"style",style:{transform:"scaleX(-1)"}},{selector:'[data-font-weight="700"]',type:"icon",viewBox:{minX:0,minY:0,width:18.6604,height:25.037},layers:[{type:"path",d:"M0 12.5098C0 13.1852 0.244306 13.7429 0.804815 14.294L11.1403 24.4109C11.554 24.8327 12.0638 25.0276 12.6564 25.0276C13.8694 25.0276 14.8517 24.0561 14.8517 22.8563C14.8517 22.2491 14.6008 21.6994 14.1485 21.2471L5.14763 12.5018L14.1485 3.77248C14.6088 3.32019 14.8517 2.76245 14.8517 2.17129C14.8517 0.971451 13.8694 0 12.6564 0C12.0558 0 11.554 0.194887 11.1403 0.61664L0.804815 10.7256C0.2523 11.2767 0.0079938 11.8264 0 12.5098Z",fill:"currentColor"}]}]});const Hr=["normal","bold",100,200,300,400,500,600,700,800,900,"bolder","lighter"];(()=>{let e=[et("appn-icon")],t,s=[],n,r=Q,i,o=[],a=[],c,u=[],T=[];return class extends r{static{n=this}static{const d=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:!0})],c=[vt(It(Hr))],O(this,null,i,{kind:"accessor",name:"name",static:!1,private:!1,access:{has:g=>"name"in g,get:g=>g.name,set:(g,w)=>{g.name=w}},metadata:d},o,a),O(this,null,c,{kind:"accessor",name:"widget",static:!1,private:!1,access:{has:g=>"widget"in g,get:g=>g.widget,set:(g,w)=>{g.widget=w}},metadata:d},u,T),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:d},null,s),n=t.value,d&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}static define=fs;static get=pn;static whenDefine=gn;static safeGet=Ts;static styles=Mr;#s=h(this,o,null);get name(){return this.#s}set name(d){this.#s=d}#t=(h(this,a),h(this,u,"normal"));get widget(){return this.#t}set widget(d){this.#t=d}__icon=(h(this,T),new un(this,{task:([d])=>Ts(d??""),args:()=>[this.name]}));__effect_widget=Ct(d=>{const g=at(d).with("bolder","lighter",w=>{const A=this.style.fontWeight;try{return this.style.fontWeight=w,+getComputedStyle(this).fontWeight}finally{this.style.fontWeight=A}}).with("bold",()=>700).with("normal",()=>400).otherwise(w=>w);this.dataset.fontWeight=g.toString()},d=>d);__effect_icon_style=Ct(d=>{if(d.variants)return d.variants.filter(A=>A.type==="style").map(({selector:A,style:L})=>`:host(${A}){${Or(L)}}`).join(`
`)},d=>d);render(){return this.__effect_widget(this.widget),this.__icon.render({complete:d=>{const g=d.variants?.find(R=>R.type==="icon"&&this.matches(R.selector)),{viewBox:w,layers:A}=g??d,L=this.__effect_icon_style(d);return Y`${dn(L,()=>Y`<style>${L}</style>`)} <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${w.minX} ${w.minY} ${w.width} ${w.height}"><g>${A.map(R=>at(R).with({type:"path"},U=>Te`<path ${$e(U)}>`).with({type:"polyline"},U=>Te`<polyline ${$e(U)}>`).with({type:"rect"},U=>Te`<rect ${$e(U)}>`).exhaustive())}</g></svg>`}})}static{h(n,s)}},n})();class Wr extends Ee{update(t,[s]){const n=t.element;for(const r in s)if(r in n)n[r]=s[r];else{const i=s[r];i!=null&&n.setAttribute(r,String(i))}return this.render(s)}render(t){return""}}const $e=we(Wr);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:Vr}=xr,Cs=(e,t)=>e?._$litType$!==void 0,qr=e=>e?._$litType$?.h!=null,$s=()=>document.createComment(""),Is=(e,t,s)=>{const n=e._$AA.parentNode,r=e._$AB;if(s===void 0){const i=n.insertBefore($s(),r),o=n.insertBefore($s(),r);s=new Vr(i,o,e,e.options)}else{const i=s._$AB.nextSibling,o=s._$AM,a=o!==e;if(a){let c;s._$AQ?.(e),s._$AM=e,s._$AP!==void 0&&(c=e._$AU)!==o._$AU&&s._$AP(c)}if(i!==r||a){let c=s._$AA;for(;c!==i;){const u=c.nextSibling;n.insertBefore(c,r),c=u}}}return s},Fr={},zs=(e,t=Fr)=>e._$AH=t,Ns=e=>e._$AH,Br=e=>{e._$AR()};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Os=e=>qr(e)?e._$litType$.h:e.strings,ps=we(class extends Ee{constructor(e){super(e),this.et=new WeakMap}render(e){return[e]}update(e,[t]){const s=Cs(this.it)?Os(this.it):null,n=Cs(t)?Os(t):null;if(s!==null&&(n===null||s!==n)){const r=Ns(e).pop();let i=this.et.get(s);if(i===void 0){const o=document.createDocumentFragment();i=Er(Qs,o),i.setConnected(!1),this.et.set(s,i)}zs(i,[r]),Is(i,void 0,r)}if(n!==null){if(s===null||s!==n){const r=this.et.get(n);if(r!==void 0){const i=Ns(r).pop();Br(e),Is(e,void 0,i),zs(e,[i])}}this.it=t}else this.it=void 0;return this.render(t)}}),Ps=new WeakMap,St=(e,t={})=>tn((s,n)=>{if(n.name in s&&!t.override)return;if(!e){const i=n.name,o=typeof i=="symbol"?i.description:i;if(typeof o!="string"||o.startsWith("on")===!1)throw new Error(`eventName is required for property ${String(i)}`);e=o.slice(2)}const r=e;return vt({setProperty(i){const o=yt(Ps,this,()=>new Map),a=o.get(r);if(typeof i=="function"||typeof i=="object"&&i!==null)if(a)a.handleEvent=i;else{const c={handleEvent:i};this.addEventListener(r,c),o.set(r,c)}else a&&(this.removeEventListener(r,a),o.delete(r)),i=null;return i},getProperty(){return Ps.get(this)?.get(r)?.handleEvent??null},fromAttribute(i){if(i!=null){const o=Function("event",i);this.addEventListener(r,o)}return n.access.get(this)},toAttribute:!1})(s,n)}),gs=Symbol("appn-navigation"),Wt=Symbol("appn-navigation-history-entry");/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gr=e=>e??Qs;CSS.registerProperty({name:"--_link-halo-angle",syntax:"<angle>",inherits:!0,initialValue:"0deg"});const Kr=K`:host{display:contents}.link{display:inline-flex;flex-direction:row;align-items:baseline;box-sizing:border-box;-webkit-tap-highlight-color:transparent}button{font:var(--font);color:var(--color-accent);background:0 0;border:none;padding:.45em .75em;border-radius:.75em;cursor:pointer;position:relative;box-shadow:0 1px 5px -3px var(--color-canvas-text);transition-property:all;transition-duration:.3s;transition-timing-function:ease-out;--_link-halo-angle:36deg}button::before{content:'';display:block;position:absolute;inset:0;border-radius:calc(.5em);padding:1px;background:linear-gradient(var(--_link-halo-angle),var(--color-accent),rgb(0 0 0 / 50%),#fff);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;pointer-events:none;box-sizing:border-box;opacity:.5;transition-property:--_link-halo-angle;transition-duration:.5s;transition-timing-function:ease-out}button:not(:disabled):hover{transition-duration:.1s;box-shadow:0 1px 4px -2px var(--color-canvas-text);--_link-halo-angle:180deg}button:not(:disabled):active{transition-duration:.1s;box-shadow:0 0 3px -1px var(--color-canvas-text);transform:translateY(1px);--_link-halo-angle:318deg}button:not(:disabled):focus-within:focus-visible{transition-duration:.1s;box-shadow:0 1px 4px -2px var(--color-canvas-text)}button:disabled{filter:grayscale(.5) contrast(.5);cursor:not-allowed}a{font:var(--font);color:var(--color-accent);text-decoration:none;cursor:pointer;transition-property:all;transition-duration:var(--common-leave-duration);transition-timing-function:var(--common-leave-ease)}.a{text-decoration:underline 1px transparent;text-underline-offset:0.3em}.a:hover,.a:target{transition-duration:.1s;text-decoration-color:currentColor;text-underline-offset:0.1em}.text-button:active{opacity:.5;transition-property:all;transition-duration:var(--common-enter-duration);transition-timing-function:var(--common-enter-ease)}`,Yr=["push","replace","forward","back","back-or-push","forward-or-push"],Xr=["button","submit","a","text-button","contents"],Zr=["click","pointerup"];(()=>{let e=[et("appn-link")],t,s=[],n,r=Q,i,o=[],a=[],c,u=[],T=[],d,g,w=[],A=[],L,R,U=[],C=[],E,k=[],$=[],I,b=[],P=[],S,p=[],v=[],D,M=[],B=[],G,x=[],f=[];return class extends r{static{n=this}static{const y=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[vt(It(Xr))],c=[zt({context:gs})],g=[zt({context:Wt,subscribe:!0})],R=[W({type:String,attribute:!0,reflect:!0})],E=[W({type:String,attribute:"to-key",reflect:!0})],I=[W({type:Object,attribute:!0,reflect:!0})],S=[vt(It(Yr))],D=[vt(It(Zr))],G=[St()],O(this,null,i,{kind:"accessor",name:"type",static:!1,private:!1,access:{has:_=>"type"in _,get:_=>_.type,set:(_,N)=>{_.type=N}},metadata:y},o,a),O(this,d={get:H(function(){return this.#t},"#nav","get"),set:H(function(_){this.#t=_},"#nav","set")},c,{kind:"accessor",name:"#nav",static:!1,private:!0,access:{has:_=>#n in _,get:_=>_.#n,set:(_,N)=>{_.#n=N}},metadata:y},u,T),O(this,L={get:H(function(){return this.#e},"#navigationEntry","get"),set:H(function(_){this.#e=_},"#navigationEntry","set")},g,{kind:"accessor",name:"#navigationEntry",static:!1,private:!0,access:{has:_=>#r in _,get:_=>_.#r,set:(_,N)=>{_.#r=N}},metadata:y},w,A),O(this,null,R,{kind:"accessor",name:"to",static:!1,private:!1,access:{has:_=>"to"in _,get:_=>_.to,set:(_,N)=>{_.to=N}},metadata:y},U,C),O(this,null,E,{kind:"accessor",name:"toKey",static:!1,private:!1,access:{has:_=>"toKey"in _,get:_=>_.toKey,set:(_,N)=>{_.toKey=N}},metadata:y},k,$),O(this,null,I,{kind:"accessor",name:"state",static:!1,private:!1,access:{has:_=>"state"in _,get:_=>_.state,set:(_,N)=>{_.state=N}},metadata:y},b,P),O(this,null,S,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:_=>"mode"in _,get:_=>_.mode,set:(_,N)=>{_.mode=N}},metadata:y},p,v),O(this,null,D,{kind:"accessor",name:"actionType",static:!1,private:!1,access:{has:_=>"actionType"in _,get:_=>_.actionType,set:(_,N)=>{_.actionType=N}},metadata:y},M,B),O(this,null,G,{kind:"accessor",name:"onnavigate",static:!1,private:!1,access:{has:_=>"onnavigate"in _,get:_=>_.onnavigate,set:(_,N)=>{_.onnavigate=N}},metadata:y},x,f),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:y},null,s),n=t.value,y&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:y})}static styles=Kr;#s=h(this,o,"button");get type(){return this.#s}set type(y){this.#s=y}#t=(h(this,a),h(this,u,null));get#n(){return d.get.call(this)}set#n(y){return d.set.call(this,y)}#e=(h(this,T),h(this,w,null));get#r(){return L.get.call(this)}set#r(y){return L.set.call(this,y)}#i=(h(this,A),h(this,U,null));get to(){return this.#i}set to(y){this.#i=y}#a=(h(this,C),h(this,k,null));get toKey(){return this.#a}set toKey(y){this.#a=y}#l=(h(this,$),h(this,b,null));get state(){return this.#l}set state(y){this.#l=y}#c=(h(this,P),h(this,p,"push"));get mode(){return this.#c}set mode(y){this.#c=y}#h=(h(this,v),h(this,M,"click"));get actionType(){return this.#h}set actionType(y){this.#h=y}#o=(h(this,B),h(this,x,void 0));get onnavigate(){return this.#o}set onnavigate(y){this.#o=y}__onClick=(h(this,f),async y=>{y.preventDefault();const _=this.#n,N=this.#r,{to:z,toKey:l,state:m}=this;if(_==null)return;const j=z&&new URL(z,_.baseURI).href,q={to:j,mode:this.mode};await at(this.mode).with("push",()=>{if(j){const V=new ft({type:"push",url:j,state:m,info:q});this.dispatchEvent(V),V.applyNavigate(_,N)}}).with("replace",()=>{if(j){const V=new ft({type:"replace",url:j,state:m,info:q});this.dispatchEvent(V),V.applyNavigate(_,N)}}).with("forward",()=>{if(j)_.navigate(j,{state:m,info:q});else if(_.canGoForward){const V=new ft({type:"forward",info:q});this.dispatchEvent(V),V.applyNavigate(_,N)}}).with("back",async()=>{if(j||l){const V=await _.findFirstEntry(l?{key:l}:{url:j});if(V){const F=new ft({type:"traverse",key:V.key,info:q});this.dispatchEvent(F),F.applyNavigate(_,N)}}else if(_.canGoBack){const V=new ft({type:"back",info:q});this.dispatchEvent(V),V.applyNavigate(_,N)}}).with("back-or-push",async()=>{if(j||l){const V=await _.findLastEntry(l?{key:l}:{url:j},this.#r);if(V){const F=new ft({type:"traverse",key:V.key,info:q});this.dispatchEvent(F),F.applyNavigate(_,N)}else if(j){const F=new ft({type:"push",url:j,state:m,info:q});this.dispatchEvent(F),F.applyNavigate(_,N)}}}).with("forward-or-push",async()=>{if(j||l){const V=await _.findFirstEntry(l?{key:l}:{url:j},this.#r);if(V){const F=new ft({type:"traverse",key:V.key,info:q});this.dispatchEvent(F),F.applyNavigate(_,N)}else if(j){const F=new ft({type:"push",url:j,state:m,info:q});this.dispatchEvent(F),F.applyNavigate(_,N)}}}).exhaustive()});constructor(){super(),this.addEventListener(this.actionType,this.__onClick)}willUpdate(y){const _=y.get("actionType");_&&(this.removeEventListener(_,this.__onClick),this.addEventListener(this.actionType,this.__onClick)),super.willUpdate(y)}render(){return ps(at(this.type).with("button","submit",y=>Y`<button part="link button" class="link ${y}" role="link" type="${y}"><slot></slot></button>`).with("a","text-button",y=>Y`<a part="link a" class="link ${y}" href="${Gr(this.to)}"><slot></slot></a>`).with("contents",()=>Y`<slot></slot>`).exhaustive())}static{h(n,s)}},n})();class ft extends CustomEvent{constructor(t){super("navigate",{detail:t,cancelable:!0,bubbles:!0,composed:!0})}#s;get result(){return this.#s}applyNavigate(t,s){if(this.defaultPrevented)return;const{detail:n}=this,r=at(n).with({type:"push"},i=>t.navigate(i.url,i)).with({type:"replace"},i=>t.navigate(i.url,{...i,history:"replace"})).with({type:"back"},i=>t.back(i)).with({type:"traverse"},i=>t.traverseTo(i.key,i)).with({type:"forward"},i=>t.forward(i)).exhaustive();navigator.vibrate&&r.committed.then(i=>{i.key!==s?.key&&navigator.vibrate([10])}),this.#s=r}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Jr{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,s=!1){const n=s||!Object.is(t,this.o);this.o=t,n&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[s,{disposer:n}]of this.subscriptions)s(this.o,n)},t!==void 0&&(this.value=t)}addCallback(t,s,n){if(!n)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:s});const{disposer:r}=this.subscriptions.get(t);t(this.value,r)}clearCallbacks(){this.subscriptions.clear()}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Qr=class extends Event{constructor(t,s){super("context-provider",{bubbles:!0,composed:!0}),this.context=t,this.contextTarget=s}};class Xe extends Jr{constructor(t,s,n){super(s.context!==void 0?s.initialValue:n),this.onContextRequest=r=>{if(r.context!==this.context)return;const i=r.contextTarget??r.composedPath()[0];i!==this.host&&(r.stopPropagation(),this.addCallback(r.callback,i,r.subscribe))},this.onProviderRequest=r=>{if(r.context!==this.context||(r.contextTarget??r.composedPath()[0])===this.host)return;const i=new Set;for(const[o,{consumerHost:a}]of this.subscriptions)i.has(o)||(i.add(o),a.dispatchEvent(new nn(this.context,a,o,!0)));r.stopPropagation()},this.host=t,s.context!==void 0?this.context=s.context:this.context=s,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new Qr(this.context,this.host))}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ms({context:e}){return(t,s)=>{const n=new WeakMap;if(typeof s=="object")return s.addInitializer(function(){n.set(this,new Xe(this,{context:e}))}),{get(){return t.get.call(this)},set(r){return n.get(this)?.setValue(r),t.set.call(this,r)},init(r){return n.get(this)?.setValue(r),r}};{t.constructor.addInitializer(o=>{n.set(o,new Xe(o,{context:e}))});const r=Object.getOwnPropertyDescriptor(t,s);let i;if(r===void 0){const o=new WeakMap;i={get(){return o.get(this)},set(a){n.get(this).setValue(a),o.set(this,a)},configurable:!0,enumerable:!0}}else{const o=r.set;i={...r,set(a){n.get(this).setValue(a),o?.call(this,a)}}}return void Object.defineProperty(t,s,i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mn=(e,t,s)=>(s.configurable=!0,s.enumerable=!0,s),ti=["auto","native","shim"];(()=>{var e;let t=[et("css-starting-style")],s,n=[],r,i=Q,o,a=[],c=[],u,T=[],d=[],g,w=[],A=[],L,R=[],U=[],C,E=[],k=[],$,I=[],b=[];var P=class extends i{static{r=this}static{H(this,"CssStartingStyleElement")}static{const S=typeof Symbol=="function"&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;o=[vt(It(ti))],u=[W({type:String,attribute:!0,reflect:!0})],g=[W({type:String,attribute:!0,reflect:!0})],L=[W({type:Boolean,attribute:!0,reflect:!0})],C=[W({type:String,attribute:!0,reflect:!0})],$=[W({type:String,attribute:!0,reflect:!0})],O(this,null,o,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:p=>"mode"in p,get:p=>p.mode,set:(p,v)=>{p.mode=v}},metadata:S},a,c),O(this,null,u,{kind:"accessor",name:"selector",static:!1,private:!1,access:{has:p=>"selector"in p,get:p=>p.selector,set:(p,v)=>{p.selector=v}},metadata:S},T,d),O(this,null,g,{kind:"accessor",name:"slotted",static:!1,private:!1,access:{has:p=>"slotted"in p,get:p=>p.slotted,set:(p,v)=>{p.slotted=v}},metadata:S},w,A),O(this,null,L,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:p=>"host"in p,get:p=>p.host,set:(p,v)=>{p.host=v}},metadata:S},R,U),O(this,null,C,{kind:"accessor",name:"layer",static:!1,private:!1,access:{has:p=>"layer"in p,get:p=>p.layer,set:(p,v)=>{p.layer=v}},metadata:S},E,k),O(this,null,$,{kind:"accessor",name:"cssText",static:!1,private:!1,access:{has:p=>"cssText"in p,get:p=>p.cssText,set:(p,v)=>{p.cssText=v}},metadata:S},I,b),O(null,s={value:r},t,{kind:"class",name:r.name,metadata:S},null,n),P=r=s.value,S&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:S})}static isSupports=typeof CSSStartingStyleRule=="function";static shadowRootOptions={...Q.shadowRootOptions,mode:"closed"};static styles=K`:host{display:none}`;#s=h(this,a,"auto");get mode(){return this.#s}set mode(S){this.#s=S}#t=(h(this,c),h(this,T,""));get selector(){return this.#t}set selector(S){this.#t=S}#n=(h(this,d),h(this,w,null));get slotted(){return this.#n}set slotted(S){this.#n=S}#e=(h(this,A),h(this,R,!1));get host(){return this.#e}set host(S){this.#e=S}#r=(h(this,U),h(this,E,""));get layer(){return this.#r}set layer(S){this.#r=S}#i=(h(this,k),h(this,I,""));get cssText(){return this.#i}set cssText(S){this.#i=S}__styleEle=(h(this,b),document.createElement("style"));constructor(){super(),this.append(this.__styleEle)}static{e={value:new WeakMap}}__watcher=new MutationObserver(S=>{let p=this.selector,v=this.slotted;v!=null&&(v?p=`${p}:[name=${v}]`:p=`${p}:not([name])`);for(const D of S){for(const M of D.addedNodes)M instanceof Element&&yt(Ce(P,r,"f",e),M,G=>{const x=Object.assign(()=>{Ce(P,r,"f",e).delete(G);for(const f of x.matchs)if(G.matches(f)){G.setAttribute("css-starting-style-hook",""),requestAnimationFrame(()=>{G.removeAttribute("css-starting-style-hook")});break}},{matchs:[]});return queueMicrotask(x),x}).matchs.push(p);for(const M of D.removedNodes)M instanceof Element&&on(Ce(P,r,"f",e),M)&&M.removeAttribute("css-starting-style-hook")}});__watched=null;__effect_watch(S){S?this.__watched!=S&&(this.__watched&&this.__watcher.disconnect(),this.__watched=S,this.__watcher.observe(S,{childList:!0,subtree:!0})):this.__watched&&(this.__watched=null,this.__watcher.disconnect())}__root=null;connectedCallback(){const S=this.getRootNode();"querySelector"in S&&(this.__root=S),super.connectedCallback(),this.host&&S instanceof ShadowRoot&&queueMicrotask(()=>{if(this.dataset.mode==="native")return;const p=S.host;let v=this.selector;p.matches(v)&&(this.__hostEle=p,p.setAttribute("css-starting-style-hook",""),requestAnimationFrame(()=>{p.removeAttribute("css-starting-style-hook")}))})}__hostEle=null;disconnectedCallback(){super.disconnectedCallback(),this.__hostEle&&(this.__hostEle.removeAttribute("css-starting-style-hook"),this.__hostEle=null),this.__effect_watch(null),this.__root=null}render(){const{mode:S,cssText:p,layer:v,selector:D,slotted:M,host:B}=this,G=S==="auto"?P.isSupports?"native":"shim":S;this.dataset.mode=G;let x=at(G).with("native",()=>{this.__effect_watch(null);let f=D;return M!=null?M?f=`::slotted(${D}:where([name=${M}]))`:f=`::slotted(${D}:not([name]))`:B&&(f=`:host(${f})`),`${f}{@starting-style{${p}}}`}).with("shim",()=>{let f=this.__root;M!=null&&f instanceof ShadowRoot&&(f=f.host),B?this.__effect_watch(null):this.__effect_watch(f);let y=`${D}:where([css-starting-style-hook])`;return M!=null?M?y=`::slotted(${y}:where([name=${M}])`:y=`::slotted(${y}:not([name]))`:B&&(y=`:host(${y})`),`${y}{${p}}`}).exhaustive();v&&(x=`@layer ${v}{${x}}`),this.__styleEle.innerHTML=x}static{h(r,n)}};return P=r})();const tt=e=>Sr(e);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ei(e){return(t,s)=>{const{slot:n,selector:r}=e??{},i="slot"+(n?`[name=${n}]`:":not([name])");return mn(t,s,{get(){const o=this.renderRoot?.querySelector(i),a=o?.assignedElements(e)??[];return r===void 0?a:a.filter(c=>c.matches(r))}})}}class si{#s;#t=!1;#n(t=!this.#t){const s=this.#s;s!=null&&(t?this.#t||(s.push(this.#e),this.#t=!0):this.#t&&(s.remove(this.#e),this.#t=!1))}constructor(t=Nr){this.#s=t,this.#n()}get owner(){return this.#s}set owner(t){t!==this.#s&&(this.#n(!1),this.#s=t??null)}#e=new CSSStyleSheet;get unsafeStyleSheet(){return this.#e}#r=[];get size(){return this.#r.length}addRule(t,s){const n=this.#e,r=this.#r,i=n.cssRules.length;if(n.insertRule(t,s??i),i!==n.cssRules.length){const o=n.cssRules.item(s??i);return s==null?r.push(o):s===0?r.unshift(o):r.splice(s,0,o),o}return null}addRules(t,s){Ie.replaceSync(t);const n=[];for(let r=Ie.cssRules.length-1;r>=0;r--)n[n.length]=this.addRule(Ie.cssRules[r].cssText,s);return s==null?n:n.reverse()}removeRule(t){let s;if(typeof t=="number"){if(this.#r[s=t]==null)return!1}else if(s=this.#r.indexOf(t),s===-1)return!1;return this.#e.deleteRule(s),this.#r.splice(s,1),!0}atRule(t){return this.#r.at(t)}[Symbol.iterator](){return this.#r[Symbol.iterator]()}#i=new Map;keys(){return this.#i.keys()}hasRule(t){return this.#i.has(t)}getRule(t){return this.#i.get(t)}setRule(t,s,n){this.deleteRule(t);const r=this.addRule(s,n);return r&&this.#i.set(t,r),r}deleteRule(t){const s=this.#i.get(t);return s!=null?(this.removeRule(s),!0):!1}}const Ie=new CSSStyleSheet;let ce;if(typeof window<"u"&&window.navigation){const e=window.navigation;ni(e),ce=e}function ni(e){if(!e)throw new Error("Expected Navigation")}function vs(e){function t(s){return!!s}return t(e)&&(typeof e.type=="string"||typeof e.type=="symbol")}function ri(e,t){if(!vs(e))throw new Error("Expected event");if(typeof t<"u"&&e.type!==t)throw new Error(`Expected event type ${String(t)}, got ${e.type.toString()}`)}function ii(e){return vs(e)&&e.parallel!==!1}class vn extends Error{constructor(t){super(`AbortError${t?`: ${t}`:""}`),this.name="AbortError"}}function yn(e){return e instanceof Error&&e.name==="AbortError"}class J extends Error{constructor(t){super(`InvalidStateError${t?`: ${t}`:""}`),this.name="InvalidStateError"}}function ai(e){return e instanceof Error&&e.name==="InvalidStateError"}function oi(e){function t(s){return typeof s=="object"}return t(e)&&typeof e.aborted=="boolean"&&typeof e.addEventListener=="function"}function ne(e){function t(s){return s.hasOwnProperty("signal")}return vs(e)&&t(e)&&oi(e.signal)}function Rs(e,t){if(ne(e)&&e.signal.aborted&&t instanceof Error&&yn(t))return!0}const kt=Symbol.for("@opennetwork/environment/events/target/listeners"),ze=Symbol.for("@opennetwork/environment/events/target/listeners/ignore"),_n=Symbol.for("@opennetwork/environment/events/target/listeners/match"),Ne=Symbol.for("@opennetwork/environment/events/target/listeners/this"),Ze=Symbol.for("@opennetwork/environment/events/descriptor");function te(e,t,s){const n=r(s)?s:void 0;return i=>n?n===i:(!t||t===i.callback)&&e===i.type;function r(i){function o(a){return!!a}return o(i)&&i[Ze]===!0}}function Oe(e){return typeof e=="function"}const pt=Symbol.for("@virtualstate/navigation/event-target/descriptors");class li{[pt]=[];[ze]=new WeakSet;get[kt](){return[...this[pt]??[]]}[_n](t){const s=this[kt],n=[...new Set([...s??[],...this[pt]??[]])].filter(i=>i.type===t||i.type==="*").filter(i=>!this[ze]?.has(i)),r=typeof t=="string"?this[`on${t}`]:void 0;return typeof r=="function"&&Oe(r)&&n.push({type:t,callback:r,[Ze]:!0}),n}addEventListener(t,s,n){const r={...n,isListening:()=>!!this[pt]?.find(te(t,s)),descriptor:{[Ze]:!0,...n,type:t,callback:s},timestamp:Date.now()};r.isListening()||this[pt]?.push(r.descriptor)}removeEventListener(t,s,n){if(!Oe(s))return;const r=this[kt]??this[pt]??[],i=r.findIndex(te(t,s,n));if(i===-1)return;const o=this[pt]?.findIndex(te(t,s,n))??-1;o!==-1&&this[pt]?.splice(o,1);const a=r[i];a&&this[ze]?.add(a)}hasEventListener(t,s){return s&&!Oe(s)?!1:(this[pt]?.findIndex(te(t,s))??-1)>-1}}class re extends li{[Ne];constructor(t=void 0){super(),this[Ne]=t}async dispatchEvent(t){const s=this[_n]?.(t.type)??[];if(ne(t)&&t.signal.aborted)throw new vn;const n=ii(t),r=[];for(let i=0;i<s.length;i+=1){const o=s[i],a=(async()=>{o.once&&this.removeEventListener(o.type,o.callback,o),await o.callback.call(this[Ne]??this,t)})();if(n)r.push(a);else{try{await a}catch(c){Rs(t,c)||await Promise.reject(c)}if(ne(t)&&t.signal.aborted)return}}if(r.length){const o=(await Promise.allSettled(r)).filter(a=>a.status==="rejected");if(o.length){let a=o;if(ne(t)&&t.signal.aborted&&(a=a.filter(c=>!Rs(t,c.reason))),a.length===1)throw await Promise.reject(a[0].reason),a[0].reason;if(a.length>1)throw new AggregateError(a.map(({reason:c})=>c))}}}}const ci={EventTarget:re,AsyncEventTarget:re,SyncEventTarget:re};let Pe=ci;const Re=Pe.EventTarget||Pe.SyncEventTarget||Pe.AsyncEventTarget;function hi(e){if(typeof e!="function")throw new Error("Could not load EventTarget implementation")}let bn=class extends re{constructor(...t){if(super(),Re){hi(Re);const{dispatchEvent:s}=new Re(...t);this.dispatchEvent=s}}};class wn extends bn{addEventListener(t,s,n){return r(s),super.addEventListener(t,s,typeof n=="boolean"?{once:n}:n);function r(i){if(typeof i!="function")throw new Error("Please us the function variant of event listener")}}removeEventListener(t,s,n){return r(s),super.removeEventListener(t,s);function r(i){if(typeof i!="function")throw new Error("Please us the function variant of event listener")}}}const ui="crypto"in globalThis&&typeof globalThis.crypto.randomUUID=="function",he=ui?globalThis.crypto.randomUUID.bind(globalThis.crypto):()=>Array.from({length:5},()=>`${Math.random()}`.replace(/^0\./,"")).join("-").replace(".",""),As=Symbol.for("@virtualstate/navigation/getState"),Je=Symbol.for("@virtualstate/navigation/entry/navigationType"),ue=Symbol.for("@virtualstate/navigation/entry/knownAs"),En=Symbol.for("@virtualstate/navigation/entry/setState");function xn(e){return typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"||typeof e=="string"}function Ls(e){return!!(e||xn(e))}class Ae extends wn{#s;#t;get index(){return typeof this.#s=="number"?this.#s:this.#s()}key;id;url;sameDocument;get[Je](){return this.#n.navigationType}get[ue](){const t=new Set(this.#n[ue]);return t.add(this.id),t}#n;get[kt](){return[...super[kt]??[],...this.#n[kt]??[]]}constructor(t){super(),this.#n=t,this.key=t.key||he(),this.id=he(),this.url=t.url??void 0,this.#s=t.index,this.sameDocument=t.sameDocument??!0,this.#t=t.state??void 0}[As](){return this.#n?.getState?.(this)}getState(){let t=this.#t;if(!Ls(t)){const s=this[As]();Ls(s)&&(t=this.#t=s)}return typeof t>"u"||xn(t)?t:(typeof t=="function"&&(console.warn("State passed to Navigation.navigate was a function, this may be unintentional"),console.warn("Unless a state value is primitive, with a standard implementation of Navigation"),console.warn("your state value will be serialized and deserialized before this point, meaning"),console.warn("a function would not be usable.")),{...t})}[En](t){this.#t=t}}function Ds(e){let t,s;const n=new Promise((r,i)=>{t=r,s=i});return Us(t),Us(s),{resolve:t,reject:s,promise:e?n.catch(e):n}}function Us(e){if(!e)throw new Error("Value not provided")}const Sn=typeof AbortController<"u"?AbortController:void 0;if(!Sn)throw new Error("AbortController expected to be available or polyfilled");const kn=Sn;function Tn(e){return _t(e)&&typeof e.then=="function"}function Nt(e,t="Expected value"){if(!e)throw new Error(t)}function di(e){return e.status==="rejected"}function _t(e){return!!e}const fi="This will be removed when the first major release of @virtualstate/navigation is published",pi={EVENT_INTERCEPT_HANDLER:`You are using a non standard interface, please update your code to use event.intercept({ async handler() {} })
${fi}`};let gi=!0;function js(e,...t){try{gi&&console.trace(pi[e],...t)}catch{}}const jt=Symbol.for("@virtualstate/navigation/rollback"),Ms=Symbol.for("@virtualstate/navigation/unset"),Qe=Symbol.for("@virtualstate/navigation/transition/parentEventTarget"),Et=Symbol.for("@virtualstate/navigation/transition/deferred/finished"),ht=Symbol.for("@virtualstate/navigation/transition/deferred/committed"),Kt=Symbol.for("@virtualstate/navigation/transition/navigationType"),Zt=Symbol.for("@virtualstate/navigation/transition/entries/initial"),Le=Symbol.for("@virtualstate/navigation/transition/entries/finished"),de=Symbol.for("@virtualstate/navigation/transition/index/initial"),De=Symbol.for("@virtualstate/navigation/transition/index/finished"),rt=Symbol.for("@virtualstate/navigation/transition/entry"),Hs=Symbol.for("@virtualstate/navigation/transition/isCommitted"),ee=Symbol.for("@virtualstate/navigation/transition/isFinished"),Ue=Symbol.for("@virtualstate/navigation/transition/isRejected"),ie=Symbol.for("@virtualstate/navigation/transition/known"),Cn=Symbol.for("@virtualstate/navigation/transition/promises"),lt=Symbol.for("@virtualstate/navigation/intercept"),fe=Symbol.for("@virtualstate/navigation/transition/isOngoing"),Ws=Symbol.for("@virtualstate/navigation/transition/isPending"),ts=Symbol.for("@virtualstate/navigation/transition/isAsync"),pe=Symbol.for("@virtualstate/navigation/transition/wait"),Vs=Symbol.for("@virtualstate/navigation/transition/promise/resolved"),Ft=Symbol.for("@virtualstate/navigation/transition/rejected"),es=Symbol.for("@virtualstate/navigation/transition/commit"),Pt=Symbol.for("@virtualstate/navigation/transition/finish"),mi=Symbol.for("@virtualstate/navigation/transition/start"),vi=Symbol.for("@virtualstate/navigation/transition/start/deadline"),$n=Symbol.for("@virtualstate/navigation/transition/error"),yi=Symbol.for("@virtualstate/navigation/transition/finally"),Rt=Symbol.for("@virtualstate/navigation/transition/abort"),Vt=Symbol.for("@virtualstate/navigation/transition/intercept/options/commit"),ss=Symbol.for("@virtualstate/navigation/transition/commit/isManual");class _i extends bn{finished;committed;from;navigationType;[ts]=!1;[Vt];#s;[Et]=Ds();[ht]=Ds();get[Ws](){return!!this.#t.size}get[Kt](){return this.#s[Kt]}get[Zt](){return this.#s[Zt]}get[de](){return this.#s[de]}get[ss](){return!!(this[Vt]?.includes("after-transition")||this[Vt]?.includes("manual"))}[Le];[De];[Hs]=!1;[ee]=!1;[Ue]=!1;[fe]=!1;[ie]=new Set;[rt];#t=new Set;#n=!1;#e=new kn;get signal(){return this.#e.signal}get[Cn](){return this.#t}constructor(t){super(),this[Vt]=[],this[Et]=t[Et]??this[Et],this[ht]=t[ht]??this[ht],this.#s=t;const s=this.finished=this[Et].promise,n=this.committed=this[ht].promise;s.catch(i=>i),n.catch(i=>i),this.from=t.from,this.navigationType=t.navigationType,this[Le]=t[Le],this[De]=t[De];const r=t[ie];if(r)for(const i of r)this[ie].add(i);this[rt]=t[rt],this.addEventListener(es,this.#l,{once:!0}),this.addEventListener(Pt,this.#a,{once:!0}),this.addEventListener(es,this.#r,{once:!0}),this.addEventListener(Pt,this.#i,{once:!0}),this.addEventListener($n,this.#c,{once:!0}),this.addEventListener(Rt,()=>{if(!this[ee])return this[Ft](new vn)}),this.addEventListener("*",this[rt].dispatchEvent.bind(this[rt])),this.addEventListener("*",t[Qe].dispatchEvent.bind(t[Qe]))}rollback=t=>{if(this.#n)throw new J("Rollback invoked multiple times: Please raise an issue at https://github.com/virtualstate/navigation with the use case where you want to use a rollback multiple times, this may have been unexpected behaviour");return this.#n=!0,this.#s.rollback(t)};#r=()=>{this[Hs]=!0};#i=()=>{this[ee]=!0};#a=()=>{this[Et].resolve(this[rt])};#l=()=>{this.signal.aborted||this[ht].resolve(this[rt])};#c=t=>this[Ft](t.error);[Vs]=(...t)=>{for(const s of t)this.#t.delete(s)};[Ft]=async t=>{if(this[Ue])return;this[Ue]=!0,this[Rt]();const s=this[Kt];if((typeof s=="string"||s===jt)&&(await this.dispatchEvent({type:"navigateerror",error:t,get message(){return t instanceof Error?t.message:`${t}`}}),s!==jt&&!(ai(t)||yn(t))))try{await this.rollback()?.finished}catch{throw new J("Failed to rollback, please raise an issue at https://github.com/virtualstate/navigation/issues")}this[ht].reject(t),this[Et].reject(t)};[lt]=t=>{const s=this,n=i();if(this[fe]=!0,!n)return;this[ts]=!0;const r=n.then(()=>({status:"fulfilled",value:void 0})).catch(async o=>(await this[Ft](o),{status:"rejected",reason:o}));this.#t.add(r);function i(){if(!t)return;if(Tn(t))return js("EVENT_INTERCEPT_HANDLER"),t;if(typeof t=="function")return js("EVENT_INTERCEPT_HANDLER"),t();const{handler:o,commit:a}=t;if(a&&typeof a=="string"&&s[Vt].push(a),typeof o=="function")return o()}};[pe]=async()=>{if(!this.#t.size)return this[rt];try{const t=[...this.#t],n=(await Promise.all(t)).filter(r=>r.status==="rejected");if(n.length)throw n.length===1?n[0].reason:typeof AggregateError<"u"?new AggregateError(n.map(({reason:r})=>r)):new Error;return this[Vs](...t),this[Ws]?this[pe]():this[rt]}catch(t){throw await this.#c(t),await Promise.reject(t)}finally{await this[Pt]()}};[Rt](){this.#e.signal.aborted||(this.#e.abort(),this.dispatchEvent({type:Rt,transition:this,entry:this[rt]}))}[Pt]=async()=>{this[ee]||await this.dispatchEvent({type:Pt,transition:this,entry:this[rt],intercept:this[lt]})}}function bi(){try{if(typeof window<"u"&&window.location)return window.location.href}catch{}}function ys(e){const t=bi()??"https://html.spec.whatwg.org/";return new URL((e??"").toString(),t)}function wi(){let e,t,s=!1,n="pending";const r=new Promise((i,o)=>{e=a=>{n="fulfilled",s=!0,i(a)},t=a=>{n="rejected",s=!0,o(a)}});return Nt(e),Nt(t),{get settled(){return s},get status(){return n},resolve:e,reject:t,promise:r}}class In{type;from;navigationType;constructor(t,s){if(this.type=t,!s)throw new TypeError("init required");if(!s.from)throw new TypeError("from required");this.from=s.from,this.navigationType=s.navigationType??void 0}}class Ei{type;canIntercept;canTransition;destination;downloadRequest;formData;hashChange;info;signal;userInitiated;navigationType;constructor(t,s){if(this.type=t,!s)throw new TypeError("init required");if(!s.destination)throw new TypeError("destination required");if(!s.signal)throw new TypeError("signal required");this.canIntercept=s.canIntercept??!1,this.canTransition=s.canIntercept??!1,this.destination=s.destination,this.downloadRequest=s.downloadRequest,this.formData=s.formData,this.hashChange=s.hashChange??!1,this.info=s.info,this.signal=s.signal,this.userInitiated=s.userInitiated??!1,this.navigationType=s.navigationType??"push"}commit(){throw new Error("Not implemented")}intercept(t){throw new Error("Not implemented")}preventDefault(){throw new Error("Not implemented")}reportError(t){throw new Error("Not implemented")}scroll(){throw new Error("Not implemented")}transitionWhile(t){return this.intercept(t)}}const zn=Symbol.for("@virtualstate/navigation/formData"),Nn=Symbol.for("@virtualstate/navigation/downloadRequest"),xi=Symbol.for("@virtualstate/navigation/canIntercept"),ns=Symbol.for("@virtualstate/navigation/userInitiated"),rs=Symbol.for("@virtualstate/navigation/originalEvent");function Si(){}function ki(e,t){const s=t.index;return s!==-1?s:-1}function Ti(e){const{commit:t,currentIndex:s,options:n,known:r,currentEntry:i,transition:o,transition:{[Zt]:a,[rt]:c,[lt]:u},reportError:T}=e;let{transition:{[Kt]:d}}=e,g=[...a];const w=new Set(r);let A=-1,L=s;if(d===jt){const{index:N}=n??{index:void 0};if(typeof N!="number")throw new J("Expected index to be provided for rollback");A=N,L=N}else d==="traverse"||d==="reload"?(A=ki(a,c),L=A):d==="replace"?s===-1?(d="push",A=s+1,L=A):(A=s,L=s):(A=s+1,L=A);if(typeof A!="number"||A===-1)throw new J("Could not resolve next index");if(!c.url)throw console.trace({navigationType:d,entry:c,options:n}),new J("Expected entry url");const R={url:c.url,key:c.key,index:A,sameDocument:c.sameDocument,getState(){return c.getState()}};let U=!1;const C=ys(i?.url),E=new URL(R.url),k=C.hash,$=E.hash;if(k!==$){const N=new URL(C.toString());N.hash="";const z=new URL(E.toString());z.hash="",U=N.toString()===z.toString()}let I;const{resolve:b,promise:P}=wi();function S(){Nt(I,"Expected contextToCommit"),b(t(I))}const p=new kn,v=new Ei("navigate",{signal:p.signal,info:void 0,...n,canIntercept:n?.[xi]??!0,formData:n?.[zn]??void 0,downloadRequest:n?.[Nn]??void 0,hashChange:U,navigationType:n?.navigationType??(typeof d=="string"?d:"replace"),userInitiated:n?.[ns]??!1,destination:R}),D=n?.[rs],M=o[Rt].bind(o);if(D){const N=D;v.intercept=function(l){return N.preventDefault(),u(l)},v.preventDefault=function(){return N.preventDefault(),M()}}else v.intercept=u,v.preventDefault=M;v.transitionWhile=v.intercept,v.commit=S,T&&(v.reportError=T),v.scroll=Si,D&&(v.originalEvent=D);const B=new In("currententrychange",{from:i,navigationType:v.navigationType});let G=[],x=[],f=[];const y=a.map(N=>N.key);if(d===jt){const{entries:N}=n??{entries:void 0};if(!N)throw new J("Expected entries to be provided for rollback");g=N,g.forEach(l=>w.add(l));const z=g.map(l=>l.key);x=a.filter(l=>!z.includes(l.key)),f=g.filter(l=>!y.includes(l.key))}else if(d==="replace"||d==="traverse"||d==="reload"){g[R.index]=c,d!=="traverse"&&G.push(c),d==="replace"&&(g=g.slice(0,R.index+1));const N=g.map(z=>z.key);x=a.filter(z=>!N.includes(z.key)),y.includes(c.id)&&(f=[c])}else if(d==="push"){let N=!1;if(g[R.index]&&(g=g.slice(0,R.index),N=!0),g.push(c),f=[c],N){const z=g.map(l=>l.key);x=a.filter(l=>!z.includes(l.key))}}w.add(c);let _;return(G.length||f.length||x.length)&&(_={updatedEntries:G,addedEntries:f,removedEntries:x}),I={entries:g,index:L,known:w,entriesChange:_},{entries:g,known:w,index:L,currentEntryChange:B,destination:R,navigate:v,navigationType:d,waitForCommit:P,commit:S,abortController:p}}function gt(e){if(typeof CustomEvent<"u"&&typeof e.type=="string"){if(e instanceof CustomEvent)return e;const{type:t,detail:s,...n}=e,r=new CustomEvent(t,{detail:s??n});return Object.assign(r,n),ri(r,e.type),r}return e}const is=Symbol.for("@virtualstate/navigation/setOptions"),ge=Symbol.for("@virtualstate/navigation/setEntries"),qs=Symbol.for("@virtualstate/navigation/setCurrentIndex"),as=Symbol.for("@virtualstate/navigation/setCurrentKey"),Ot=Symbol.for("@virtualstate/navigation/getState"),je=Symbol.for("@virtualstate/navigation/setState"),Fs=Symbol.for("@virtualstate/navigation/disposeState");function Ci(e){return e==="reload"||e==="push"||e==="replace"||e==="traverse"}class _s extends wn{#s=0;#t=[];#n=new Set;#e=-1;#r;#i=new WeakSet;#a="";#l=void 0;#c=void 0;get canGoBack(){return!!this.#t[this.#e-1]}get canGoForward(){return!!this.#t[this.#e+1]}get currentEntry(){return this.#e===-1?(this.#l||(this.#l=new Ae({getState:this[Ot],navigationType:"push",index:-1,sameDocument:!1,url:this.#a.toString()})),this.#l):this.#t[this.#e]}get transition(){const t=this.#r;return t?.signal.aborted?void 0:t}constructor(t={}){super(),this[is](t)}[is](t){this.#c=t,this.#a=ys(t?.baseURL),this.#t=[],t.entries&&this[ge](t.entries),t.currentKey?this[as](t.currentKey):typeof t.currentIndex=="number"&&this[qs](t.currentIndex)}[as](t){const s=this.#t.findIndex(n=>n.key===t);s!==-1&&(this.#e=s)}[qs](t){t<=-1||t>=this.#t.length||(this.#e=t)}[ge](t){this.#t=t.map(({key:s,url:n,navigationType:r,state:i,sameDocument:o},a)=>new Ae({getState:this[Ot],navigationType:Ci(r)?r:"push",sameDocument:o??!0,index:a,url:n,key:s,state:i})),this.#e===-1&&this.#t.length&&(this.#e=0)}[Ot]=t=>this.#c?.getState?.(t)??void 0;[je]=t=>this.#c?.setState?.(t);[Fs]=t=>this.#c?.disposeState?.(t);back(t){if(!this.canGoBack)throw new J("Cannot go back");const s=this.#t[this.#e-1];return this.#f("traverse",this.#o(s,{...t,navigationType:"traverse"}))}entries(){return[...this.#t]}forward(t){if(!this.canGoForward)throw new J;const s=this.#t[this.#e+1];return this.#f("traverse",this.#o(s,{...t,navigationType:"traverse"}))}goTo(t,s){return this.traverseTo(t,s)}traverseTo(t,s){const n=this.#t.find(r=>r.key===t);if(n)return this.#f("traverse",this.#o(n,{...s,navigationType:"traverse"}));throw new J}#h=t=>{function s(r,i){return r.origin===i.origin}const n=this.currentEntry?.url;return n?s(new URL(n),new URL(t)):!0};navigate(t,s){let n=this.#a;this.currentEntry?.url&&(n=this.currentEntry?.url);const r=new URL(t,n).toString();let i="push";(s?.history==="push"||s?.history==="replace")&&(i=s?.history);const o=this.#u({getState:this[Ot],url:r,...s,sameDocument:this.#h(r),navigationType:i});return this.#f(i,o,void 0,s)}#o=(t,s)=>this.#u({...t,getState:this[Ot],index:t?.index??void 0,state:s?.state??t?.getState(),navigationType:t?.[Je]??(typeof s?.navigationType=="string"?s.navigationType:"replace"),...s,get[ue](){return t?.[ue]},get[kt](){return t?.[kt]}});#u=t=>{const s=new Ae({...t,index:t.index??(()=>this.#t.indexOf(s))});return s};#f=(t,s,n,r)=>{if(s===this.currentEntry)throw new J;if(this.#t.findIndex(o=>o.id===s.id)>-1)throw new J;return this.#p(t,s,n,r)};#p=(t,s,n,r)=>{const i=n??new _i({from:this.currentEntry,navigationType:typeof t=="string"?t:"replace",rollback:u=>this.#b(i,u),[Kt]:t,[Zt]:[...this.#t],[de]:this.#e,[ie]:[...this.#n],[rt]:s,[Qe]:this}),{finished:o,committed:a}=i,c=()=>this.#d(t,s,i,r);return this.#v(i),c().catch(u=>{}),{committed:a,finished:o}};#v=t=>{this.#i.add(t)};#d=(t,s,n,r)=>{try{return this.#s+=1,this.#w(t,s,n,r)}finally{this.#s-=1}};#b=(t,s)=>{const n=t[Zt],r=t[de],i=n[r],o=i?this.#o(i,s):void 0,a={...s,index:r,known:new Set([...this.#n,...n]),navigationType:o?.[Je]??"replace",entries:n},c=o?jt:Ms,u=o??this.#u({getState:this[Ot],navigationType:"replace",index:a.index,sameDocument:!0,...s});return this.#f(c,u,void 0,a)};#w=(t,s,n,r)=>{let i=t;const o=$i();o&&s.sameDocument&&typeof i=="string"&&o?.mark?.(`same-document-navigation:${s.id}`);let a=!1,c=!1;const{currentEntry:u}=this;this.#r?.finished?.catch(C=>C),this.#r?.[Et]?.promise?.catch(C=>C),this.#r?.[ht]?.promise?.catch(C=>C),this.#r?.[Rt](),this.#r=n;const T=n.dispatchEvent({type:mi,transition:n,entry:s}),d=({entries:C,index:E,known:k})=>{n.signal.aborted||(this.#t=C,k&&(this.#n=new Set([...this.#n,...k])),this.#e=E,this[je](this.currentEntry))},g=async C=>{if(c)return;c=!0,d(C);const{entriesChange:E}=C,k=[n.dispatchEvent(gt({type:es,transition:n,entry:s}))];E&&k.push(this.dispatchEvent(gt({type:"entrieschange",...E}))),await Promise.all(k)},w=async()=>{if(await T,!(typeof r?.index=="number"&&r.entries))throw new J;const C=this.entries(),E=C.map(b=>b.key),k=r.entries.map(b=>b.key),$=C.filter(b=>!k.includes(b.key)),I=r.entries.filter(b=>!E.includes(b.key));return await g({entries:r.entries,index:r.index,known:r.known,entriesChange:$.length||I.length?{removedEntries:$,addedEntries:I,updatedEntries:[]}:void 0}),await this.dispatchEvent(gt({type:"currententrychange"})),a=!0,s},A=()=>{if(t===Ms)return w();const C=Ti({currentEntry:u,currentIndex:this.#e,options:r,transition:n,known:this.#n,commit:g,reportError:n[Ft]}),E=new Promise(queueMicrotask);let k=[];const $=R(C)[Symbol.iterator](),I={[Symbol.iterator]:()=>({next:()=>$.next()})};async function b(){for(const S of I){if(Tn(S)&&k.push(Promise.allSettled([S]).then(([p])=>p)),n[ss]||a&&n[ts])return P().then(b);if(n.signal.aborted)break}if(k.length)return P()}async function P(){const S=[...k];if(S.length){k=[];const v=(await Promise.all(S)).filter(di);if(v.length===1)throw await Promise.reject(v[0]);if(v.length)throw new AggregateError(v,v[0].reason?.message)}else n[fe]||await E}return b().then(()=>n[fe]?void 0:E).then(()=>s)},L=async()=>this.#y();function*R(C){const E=new Promise(queueMicrotask),{currentEntryChange:k,navigate:$,waitForCommit:I,commit:b,abortController:P}=C,S=P.abort.bind(P);if(n.signal.addEventListener("abort",S,{once:!0}),typeof i=="string"||i===jt){const p=u?.dispatchEvent(gt({type:"navigatefrom",intercept:n[lt],transitionWhile:n[lt]}));p&&(yield p)}typeof i=="string"&&(yield n.dispatchEvent($)),n[ss]||b(),yield I,s.sameDocument&&(yield n.dispatchEvent(k)),a=!0,typeof i=="string"&&(yield s.dispatchEvent(gt({type:"navigateto",intercept:n[lt],transitionWhile:n[lt]}))),yield L(),n[Cn].size||(yield E),yield n.dispatchEvent({type:vi,transition:n,entry:s}),yield n[pe](),n.signal.removeEventListener("abort",S),yield n[Pt](),typeof i=="string"&&(yield n.dispatchEvent(gt({type:"finish",intercept:n[lt],transitionWhile:n[lt]})),yield n.dispatchEvent(gt({type:"navigatesuccess",intercept:n[lt],transitionWhile:n[lt]})))}const U=()=>{try{return A()}catch(C){return Promise.reject(C)}};return Promise.allSettled([U()]).then(async([C])=>{C.status==="rejected"&&await n.dispatchEvent({type:$n,error:C.reason,transition:n,entry:s}),await L(),await n.dispatchEvent({type:yi,transition:n,entry:s}),await n[pe](),this.#r===n&&(this.#r=void 0),s.sameDocument&&typeof i=="string"&&(o.mark(`same-document-navigation-finish:${s.id}`),o.measure(`same-document-navigation:${s.url}`,`same-document-navigation:${s.id}`,`same-document-navigation-finish:${s.id}`))}).then(()=>s)};#y=async()=>{for(const t of this.#n){if(this.#t.findIndex(r=>r.key===t.key)!==-1)continue;this.#n.delete(t);const n=gt({type:"dispose",entry:t});this[Fs](t),await t.dispatchEvent(n),await this.dispatchEvent(n)}};reload(t){const{currentEntry:s}=this;if(!s)throw new J;const n=this.#o(s,t);return this.#f("reload",n,void 0,t)}updateCurrentEntry(t){const{currentEntry:s}=this;if(!s)throw new J("Expected current entry");s[En](t.state),this[je](s);const n=new In("currententrychange",{from:s,navigationType:void 0}),r=gt({type:"entrieschange",addedEntries:[],removedEntries:[],updatedEntries:[s]});return Promise.all([this.dispatchEvent(n),this.dispatchEvent(r)])}}function $i(){return typeof performance<"u"?performance:{now(){return Date.now()},mark(){},measure(){}}}let Me;function On(){return ce||Me||(Me=new _s)}let Pn=JSON;function Ii(e){return Pn.stringify(e)}function zi(e){return Pn.parse(e)}const Ni=Symbol.for("@virtualstate/navigation/location/checkChange"),os=Symbol.for("@virtualstate/navigation/location/awaitFinished"),Bt=Symbol.for("@virtualstate/navigation/location/transitionURL"),nt=Symbol.for("@virtualstate/navigation/location/url"),Oi="https://html.spec.whatwg.org/";class Pi{#s;#t;constructor(t){this.#s=t,this.#t=t.navigation;const s=()=>{this.#e=void 0,this.#r=void 0};this.#t.addEventListener("navigate",()=>{const n=this.#t.transition;n&&r(n)&&n[ht].promise.then(s,s);function r(i){return ht in i}}),this.#t.addEventListener("currententrychange",s)}#n=new WeakMap;#e;#r;get[nt](){if(this.#e)return this.#e;const{currentEntry:t}=this.#t;if(!t)return this.#r=ys(this.#s.baseURL),this.#r;const s=this.#n.get(t);if(s)return s;const n=new URL(t.url??Oi);return this.#n.set(t,n),n}get hash(){return this[nt].hash}set hash(t){this.#i("hash",t)}get host(){return this[nt].host}set host(t){this.#i("host",t)}get hostname(){return this[nt].hostname}set hostname(t){this.#i("hostname",t)}get href(){return this[nt].href}set href(t){this.#i("href",t)}get origin(){return this[nt].origin}get pathname(){return this[nt].pathname}set pathname(t){this.#i("pathname",t)}get port(){return this[nt].port}set port(t){this.#i("port",t)}get protocol(){return this[nt].protocol}set protocol(t){this.#i("protocol",t)}get search(){return this[nt].search}set search(t){this.#i("search",t)}#i=(t,s)=>{const n=this[nt].toString();let r;t==="href"?r=new URL(s,n):(r=new URL(n),r[t]=s);const i=r.toString();n!==i&&this.#a(r,()=>this.#t.navigate(i))};replace(t){return this.#a(t,s=>this.#t.navigate(s.toString(),{history:"replace"}))}reload(){return this.#l(this.#t.reload())}assign(t){return this.#a(t,s=>this.#t.navigate(s.toString()))}[Bt](t,s){return this.#a(t,s)}#a=async(t,s)=>{const n=this.#e=typeof t=="string"?new URL(t,this[nt].toString()):t;try{await this.#l(s(n))}finally{this.#e===n&&(this.#e=void 0)}};[os](t){return this.#l(t)}#l=async t=>{if(this.#r=void 0,!t)return;const{committed:s,finished:n}=t;await Promise.all([s||Promise.resolve(void 0),n||Promise.resolve(void 0)])};#c=()=>{const t=this[nt],s=t.toString(),n=this.#t.currentEntry?.url;if(s!==n)return this.#a(t,()=>this.#t.navigate(s))};[Ni](){return this.#c()}}const Ri=Symbol.for("@virtualstate/navigation/history/state");class ls extends Pi{#s;#t;constructor(t){super(t),this.#s=t,this.#t=t.navigation}get length(){return this.#t.entries().length}scrollRestoration="manual";get state(){const t=this.#t.currentEntry?.getState();return typeof t=="string"||typeof t=="number"||typeof t=="boolean"?t:this.#s[Ri]??void 0}back(){const t=this.#t.entries(),s=this.#t.currentEntry?.index??-1,r=t[s-1]?.url;if(!r)throw new J("Cannot go back");return this[Bt](r,()=>this.#t.back())}forward(){const t=this.#t.entries(),s=this.#t.currentEntry?.index??-1,r=t[s+1]?.url;if(!r)throw new J("Cannot go forward");return this[Bt](r,()=>this.#t.forward())}go(t){if(typeof t!="number"||t===0||isNaN(t))return this[os](this.#t.reload());const s=this.#t.entries(),{currentEntry:n}=this.#t;if(!n)throw new Error(`Could not go ${t}`);const r=n.index+t,i=s[r];if(!i)throw new Error(`Could not go ${t}`);const o=i.key;return this[os](this.#t.traverseTo(o))}replaceState(t,s,n){return n?this[Bt](n,r=>this.#t.navigate(r.toString(),{state:t,history:"replace"})):this.#t.updateCurrentEntry({state:t})}pushState(t,s,n){return n?this[Bt](n,r=>this.#t.navigate(r.toString(),{state:t})):this.#t.updateCurrentEntry({state:t})}}const me=typeof window>"u"?void 0:window,Bs=typeof self>"u"?void 0:self,Tt="__@virtualstate/navigation/key",Rn="__@virtualstate/navigation/meta";function Ai(e=me){if(!(typeof e>"u"))return e.history}function An(e){return _t(e)&&e[Rn]===!0}function Ut(e){return _t(e)&&An(e[Tt])}function Li(e,t){t&&(typeof sessionStorage>"u"||sessionStorage.removeItem(e.key))}function Di(e,t=Mt.limit){let s=e.entries();return typeof t=="number"&&(s=s.slice(-t)),s.map(({id:n,key:r,url:i,sameDocument:o})=>({id:n,key:r,url:i,sameDocument:o}))}function Ui(e,t,s=Mt.limit){return{[Rn]:!0,currentIndex:t.index,key:t.key,entries:Di(e,s),state:t.getState()}}function ae(e,t,s=Mt.limit){return{[Tt]:Ui(e,t,s)}}function ji(e,t,s,n,r){o();function i(){return ae(e,s,r)}function o(){if(!(typeof sessionStorage>"u"))try{const a=Ii(i());sessionStorage.setItem(s.key,a)}catch{}}}function Mi(e,t){return r()??i();function s(){try{return e.state}catch{return}}function n(){const o=e.originalState??s();return _t(o)?o:void 0}function r(){const o=n();if(Ut(o)&&o[Tt].key===t.key)return o[Tt].state}function i(){if(!(typeof sessionStorage>"u"))try{const o=sessionStorage.getItem(t.key);if(!o)return;const a=zi(o);return!_t(a)||!Ut(a)?void 0:a[Tt].state}catch{return}}}const Mt=Object.freeze({persist:!0,persistState:!0,history:!0,limit:50,patch:!0,interceptEvents:!0});function Ln(e){return _t(e)&&typeof e[ge]=="function"&&typeof e[as]=="function"}function Hi(e){const t=[{key:he()}],s=e??new _s({entries:t}),n=new ls({navigation:s});return{navigation:s,history:n,apply(){Ln(e)&&!s.entries().length&&e[ge](t)}}}function Wi(e,t){function s(r,i){o();function o(){if(!Fi(r))return;Nt(r);const a=i.getAttribute("target");if(a&&(a==="_blank"||a!==t.name))return;const c={history:"auto",[ns]:!0,[Nn]:i.download,[rs]:r};e.navigate(i.href,c)}}function n(r,i){o();function o(){if(r.defaultPrevented)return;const a=r.submitter&&"formMethod"in r.submitter&&r.submitter.formMethod?r.submitter.formMethod:i.method;if(a==="dialog")return;const c=r.submitter&&"formAction"in r.submitter&&r.submitter.formAction?r.submitter.formAction:i.action,u=i.getAttribute("target");if(u&&(u==="_blank"||u!==t.name))return;let T;try{T=new FormData(i)}catch{T=new FormData(void 0)}const d=a==="get"?new URLSearchParams([...T].map(([R,U])=>U instanceof File?[R,U.name]:[R,U])):void 0,g=a==="post"?T:void 0,w=new URL(c,e.currentEntry.url);d&&(w.search=d.toString());const A=r;Nt(A);const L={history:"auto",[ns]:!0,[zn]:g,[rs]:A};e.navigate(w.href,L)}}t.addEventListener("click",r=>{if(r.target?.ownerDocument===t.document){const i=Dn(r);_t(i)&&s(r,i)}}),t.addEventListener("submit",r=>{if(r.target?.ownerDocument===t.document){const i=Un(r);_t(i)&&n(r,i)}})}function Dn(e){return Mn(jn(e),"a[href]:not([data-navigation-ignore])")}function Un(e){return Mn(jn(e),"form:not([data-navigation-ignore])")}function jn(e){return e.composedPath?e.composedPath()[0]??e.target:e.target}function Vi(e,t,s){r(),o(),i();function n(a){try{Object.defineProperty(a,"navigation",{value:s})}catch{}if(!a.history)try{Object.defineProperty(a,"history",{value:t})}catch{}}function r(){if(n(e),e===me){if(Bs)try{Object.defineProperty(Bs,"navigation",{value:s})}catch{}if(typeof globalThis<"u")try{Object.defineProperty(globalThis,"navigation",{value:s})}catch{}}}function i(){if(t instanceof ls)return;const a=new ls({navigation:s}),c=a.pushState.bind(a),u=a.replaceState.bind(a),T=a.go.bind(a),d=a.back.bind(a),g=a.forward.bind(a),w=Object.getPrototypeOf(t),A={pushState:{...Object.getOwnPropertyDescriptor(w,"pushState"),value:c},replaceState:{...Object.getOwnPropertyDescriptor(w,"replaceState"),value:u},go:{...Object.getOwnPropertyDescriptor(w,"go"),value:T},back:{...Object.getOwnPropertyDescriptor(w,"back"),value:d},forward:{...Object.getOwnPropertyDescriptor(w,"forward"),value:g}};Object.defineProperties(w,A);const L=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"state");Object.defineProperty(t,"state",{...L,get(){return a.state}}),Object.defineProperty(t,"originalState",{...L})}function o(){if(!e.PopStateEvent)return;const a=e.PopStateEvent.prototype;if(!a)return;const c=Object.getOwnPropertyDescriptor(a,"state");Object.defineProperty(a,"state",{...c,get(){const u=c.get.call(this);return Ut(u)?u[Tt].state:u}}),Object.defineProperty(a,"originalState",{...c})}}function qi(e=Mt){const{persist:t,persistState:s,history:n,limit:r,patch:i,interceptEvents:o,window:a=me,navigation:c}={...Mt,...e},u=t||s,T=a??me,d=e.history&&typeof e.history!="boolean"?e.history:Ai(T);if(!d)return Hi();Nt(T,"window required when using polyfill with history, this shouldn't be seen");const g=d?.state;let w={currentIndex:-1,entries:[],key:""};Ut(g)&&(w=g[Tt]);let A=w.entries;const L=!!((a||n)&&d);if(!A.length){let $;T.location?.href&&($=T.location.href);let I;!Ut(g)&&!An(g)&&(I=g);const b=he();A=[{key:b,state:I,url:$}],w.key=b,w.currentIndex=0}const R={entries:A,currentIndex:w?.currentIndex,currentKey:w?.key,getState($){if(L)return Mi(d,$)},setState($){L&&$.sameDocument&&ji(U,d,$,u,r)},disposeState($){L&&Li($,u)}},U=c??new _s(R),C=d?.pushState.bind(d),E=d?.replaceState.bind(d),k=d?.go.bind(d);return{navigation:U,history:d,apply(){if(Ln(U)&&U[is](R),L){const $=new Set,I=new Set;U.addEventListener("navigate",b=>{if(b.destination.sameDocument)return;b.intercept({commit:"after-transition",async handler(){queueMicrotask(()=>{b.signal.aborted||P()})}});function P(){if(_t(b.originalEvent)){const v=Dn(b.originalEvent);if(v)return S(v);{const D=Un(b.originalEvent);if(D)return p(D)}}location.href=b.destination.url}function S(v){const D=v.cloneNode();D.setAttribute("data-navigation-ignore","1"),D.click()}function p(v){const D=v.cloneNode();D.setAttribute("data-navigation-ignore","1"),D.submit()}}),U.addEventListener("currententrychange",({navigationType:b,from:P})=>{const{currentEntry:S}=U;if(!S)return;const{key:p,url:v}=S;if(I.delete(p)||!S?.sameDocument)return;const D=ae(U,S,r);switch(b||"replace"){case"push":return C(D,"",v);case"replace":return E(D,"",v);case"traverse":const M=S.index-P.index;return $.add(p),k(M)}}),T.addEventListener("popstate",b=>{const{state:P,originalState:S}=b,p=S??P;if(!Ut(p))return;const{[Tt]:{key:v}}=p;if($.delete(v))return;I.add(v);let D;try{D=U.traverseTo(v).committed}catch(M){if(M instanceof J&&!t)return;throw M}(t||s)&&D.then(M=>{const B=ae(U,M,r);E(B,"",M.url)}).catch(()=>{})})}if(o&&Wi(U,T),i&&Vi(T,d,U),!d.state){const $=ae(U,U.currentEntry,r);E($,"",U.currentEntry.url)}}}}function Fi(e){return e.button===0&&!e.defaultPrevented&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey}function Mn(e,t){let s=n();for(;s;){if(s.matches(t))return Nt(s),s;s=s.parentElement??s.getRootNode()?.host}return;function n(){if(e)return e.matches instanceof Function?e:e.parentElement}}function Bi(e=Mt){const{apply:t,navigation:s}=qi(e);return t(),s}function Gi(e=On()){const t=globalThis;return e!==ce&&!Object.hasOwn(t,"navigation")&&typeof window<"u"}const Gs=On();if(Gi(Gs))try{Bi({navigation:Gs})}catch(e){console.error("Failed to apply polyfill"),console.error(e)}var Yt=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(e,t,s,n,r,i){this.type=e,this.name=t,this.prefix=s,this.value=n,this.suffix=r,this.modifier=i}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},Ki=/[$_\p{ID_Start}]/u,Yi=/[$_\u200C\u200D\p{ID_Continue}]/u,cs=".*";function Xi(e,t){return/^[\x00-\x7F]*$/.test(e)}function Hn(e,t=!1){let s=[],n=0;for(;n<e.length;){let r=e[n],i=function(o){if(!t)throw new TypeError(o);s.push({type:"INVALID_CHAR",index:n,value:e[n++]})};if(r==="*"){s.push({type:"ASTERISK",index:n,value:e[n++]});continue}if(r==="+"||r==="?"){s.push({type:"OTHER_MODIFIER",index:n,value:e[n++]});continue}if(r==="\\"){s.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if(r==="{"){s.push({type:"OPEN",index:n,value:e[n++]});continue}if(r==="}"){s.push({type:"CLOSE",index:n,value:e[n++]});continue}if(r===":"){let o="",a=n+1;for(;a<e.length;){let c=e.substr(a,1);if(a===n+1&&Ki.test(c)||a!==n+1&&Yi.test(c)){o+=e[a++];continue}break}if(!o){i(`Missing parameter name at ${n}`);continue}s.push({type:"NAME",index:n,value:o}),n=a;continue}if(r==="("){let o=1,a="",c=n+1,u=!1;if(e[c]==="?"){i(`Pattern cannot start with "?" at ${c}`);continue}for(;c<e.length;){if(!Xi(e[c])){i(`Invalid character '${e[c]}' at ${c}.`),u=!0;break}if(e[c]==="\\"){a+=e[c++]+e[c++];continue}if(e[c]===")"){if(o--,o===0){c++;break}}else if(e[c]==="("&&(o++,e[c+1]!=="?")){i(`Capturing groups are not allowed at ${c}`),u=!0;break}a+=e[c++]}if(u)continue;if(o){i(`Unbalanced pattern at ${n}`);continue}if(!a){i(`Missing pattern at ${n}`);continue}s.push({type:"REGEX",index:n,value:a}),n=c;continue}s.push({type:"CHAR",index:n,value:e[n++]})}return s.push({type:"END",index:n,value:""}),s}function Wn(e,t={}){let s=Hn(e);t.delimiter??="/#?",t.prefixes??="./";let n=`[^${it(t.delimiter)}]+?`,r=[],i=0,o=0,a=new Set,c=C=>{if(o<s.length&&s[o].type===C)return s[o++].value},u=()=>c("OTHER_MODIFIER")??c("ASTERISK"),T=C=>{let E=c(C);if(E!==void 0)return E;let{type:k,index:$}=s[o];throw new TypeError(`Unexpected ${k} at ${$}, expected ${C}`)},d=()=>{let C="",E;for(;E=c("CHAR")??c("ESCAPED_CHAR");)C+=E;return C},g=C=>C,w=t.encodePart||g,A="",L=C=>{A+=C},R=()=>{A.length&&(r.push(new Yt(3,"","",w(A),"",3)),A="")},U=(C,E,k,$,I)=>{let b=3;switch(I){case"?":b=1;break;case"*":b=0;break;case"+":b=2;break}if(!E&&!k&&b===3){L(C);return}if(R(),!E&&!k){if(!C)return;r.push(new Yt(3,"","",w(C),"",b));return}let P;k?k==="*"?P=cs:P=k:P=n;let S=2;P===n?(S=1,P=""):P===cs&&(S=0,P="");let p;if(E?p=E:k&&(p=i++),a.has(p))throw new TypeError(`Duplicate name '${p}'.`);a.add(p),r.push(new Yt(S,p,w(C),P,w($),b))};for(;o<s.length;){let C=c("CHAR"),E=c("NAME"),k=c("REGEX");if(!E&&!k&&(k=c("ASTERISK")),E||k){let I=C??"";t.prefixes.indexOf(I)===-1&&(L(I),I=""),R();let b=u();U(I,E,k,"",b);continue}let $=C??c("ESCAPED_CHAR");if($){L($);continue}if(c("OPEN")){let I=d(),b=c("NAME"),P=c("REGEX");!b&&!P&&(P=c("ASTERISK"));let S=d();T("CLOSE");let p=u();U(I,b,P,S,p);continue}R(),T("END")}return r}function it(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function Ks(e){return e&&e.ignoreCase?"ui":"u"}function Zi(e,t,s){return Vn(Wn(e,s),t,s)}function At(e){switch(e){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function Vn(e,t,s={}){s.delimiter??="/#?",s.prefixes??="./",s.sensitive??=!1,s.strict??=!1,s.end??=!0,s.start??=!0,s.endsWith="";let n=s.start?"^":"";for(let a of e){if(a.type===3){a.modifier===3?n+=it(a.value):n+=`(?:${it(a.value)})${At(a.modifier)}`;continue}t&&t.push(a.name);let c=`[^${it(s.delimiter)}]+?`,u=a.value;if(a.type===1?u=c:a.type===0&&(u=cs),!a.prefix.length&&!a.suffix.length){a.modifier===3||a.modifier===1?n+=`(${u})${At(a.modifier)}`:n+=`((?:${u})${At(a.modifier)})`;continue}if(a.modifier===3||a.modifier===1){n+=`(?:${it(a.prefix)}(${u})${it(a.suffix)})`,n+=At(a.modifier);continue}n+=`(?:${it(a.prefix)}`,n+=`((?:${u})(?:`,n+=it(a.suffix),n+=it(a.prefix),n+=`(?:${u}))*)${it(a.suffix)})`,a.modifier===0&&(n+="?")}let r=`[${it(s.endsWith)}]|$`,i=`[${it(s.delimiter)}]`;if(s.end)return s.strict||(n+=`${i}?`),s.endsWith.length?n+=`(?=${r})`:n+="$",new RegExp(n,Ks(s));s.strict||(n+=`(?:${i}(?=${r}))?`);let o=!1;if(e.length){let a=e[e.length-1];a.type===3&&a.modifier===3&&(o=s.delimiter.indexOf(a)>-1)}return o||(n+=`(?=${i}|${r})`),new RegExp(n,Ks(s))}var xt={delimiter:"",prefixes:"",sensitive:!0,strict:!0},Ji={delimiter:".",prefixes:"",sensitive:!0,strict:!0},Qi={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function ta(e,t){return e.length?e[0]==="/"?!0:!t||e.length<2?!1:(e[0]=="\\"||e[0]=="{")&&e[1]=="/":!1}function qn(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}function ea(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}function Fn(e){return!e||e.length<2?!1:e[0]==="["||(e[0]==="\\"||e[0]==="{")&&e[1]==="["}var Bn=["ftp","file","http","https","ws","wss"];function Gn(e){if(!e)return!0;for(let t of Bn)if(e.test(t))return!0;return!1}function sa(e,t){if(e=qn(e,"#"),t||e==="")return e;let s=new URL("https://example.com");return s.hash=e,s.hash?s.hash.substring(1,s.hash.length):""}function na(e,t){if(e=qn(e,"?"),t||e==="")return e;let s=new URL("https://example.com");return s.search=e,s.search?s.search.substring(1,s.search.length):""}function ra(e,t){return t||e===""?e:Fn(e)?Xn(e):Yn(e)}function ia(e,t){if(t||e==="")return e;let s=new URL("https://example.com");return s.password=e,s.password}function aa(e,t){if(t||e==="")return e;let s=new URL("https://example.com");return s.username=e,s.username}function oa(e,t,s){if(s||e==="")return e;if(t&&!Bn.includes(t))return new URL(`${t}:${e}`).pathname;let n=e[0]=="/";return e=new URL(n?e:"/-"+e,"https://example.com").pathname,n||(e=e.substring(2,e.length)),e}function la(e,t,s){return Kn(t)===e&&(e=""),s||e===""?e:Zn(e)}function ca(e,t){return e=ea(e,":"),t||e===""?e:bs(e)}function Kn(e){switch(e){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function bs(e){if(e==="")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol '${e}'.`)}function ha(e){if(e==="")return e;let t=new URL("https://example.com");return t.username=e,t.username}function ua(e){if(e==="")return e;let t=new URL("https://example.com");return t.password=e,t.password}function Yn(e){if(e==="")return e;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(e))throw new TypeError(`Invalid hostname '${e}'`);let t=new URL("https://example.com");return t.hostname=e,t.hostname}function Xn(e){if(e==="")return e;if(/[^0-9a-fA-F[\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname '${e}'`);return e.toLowerCase()}function Zn(e){if(e===""||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port '${e}'.`)}function da(e){if(e==="")return e;let t=new URL("https://example.com");return t.pathname=e[0]!=="/"?"/-"+e:e,e[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}function fa(e){return e===""?e:new URL(`data:${e}`).pathname}function pa(e){if(e==="")return e;let t=new URL("https://example.com");return t.search=e,t.search.substring(1,t.search.length)}function ga(e){if(e==="")return e;let t=new URL("https://example.com");return t.hash=e,t.hash.substring(1,t.hash.length)}var ma=class{#s;#t=[];#n={};#e=0;#r=1;#i=0;#a=0;#l=0;#c=0;#h=!1;constructor(e){this.#s=e}get result(){return this.#n}parse(){for(this.#t=Hn(this.#s,!0);this.#e<this.#t.length;this.#e+=this.#r){if(this.#r=1,this.#t[this.#e].type==="END"){if(this.#a===0){this.#f(),this.#m()?this.#o(9,1):this.#_()?this.#o(8,1):this.#o(7,0);continue}else if(this.#a===2){this.#p(5);continue}this.#o(10,0);break}if(this.#l>0)if(this.#T())this.#l-=1;else continue;if(this.#k()){this.#l+=1;continue}switch(this.#a){case 0:this.#b()&&this.#p(1);break;case 1:if(this.#b()){this.#I();let e=7,t=1;this.#w()?(e=2,t=3):this.#h&&(e=2),this.#o(e,t)}break;case 2:this.#y()?this.#p(3):(this.#E()||this.#_()||this.#m())&&this.#p(5);break;case 3:this.#x()?this.#o(4,1):this.#y()&&this.#o(5,1);break;case 4:this.#y()&&this.#o(5,1);break;case 5:this.#C()?this.#c+=1:this.#$()&&(this.#c-=1),this.#S()&&!this.#c?this.#o(6,1):this.#E()?this.#o(7,0):this.#_()?this.#o(8,1):this.#m()&&this.#o(9,1);break;case 6:this.#E()?this.#o(7,0):this.#_()?this.#o(8,1):this.#m()&&this.#o(9,1);break;case 7:this.#_()?this.#o(8,1):this.#m()&&this.#o(9,1);break;case 8:this.#m()&&this.#o(9,1);break}}this.#n.hostname!==void 0&&this.#n.port===void 0&&(this.#n.port="")}#o(e,t){switch(this.#a){case 0:break;case 1:this.#n.protocol=this.#g();break;case 2:break;case 3:this.#n.username=this.#g();break;case 4:this.#n.password=this.#g();break;case 5:this.#n.hostname=this.#g();break;case 6:this.#n.port=this.#g();break;case 7:this.#n.pathname=this.#g();break;case 8:this.#n.search=this.#g();break;case 9:this.#n.hash=this.#g();break}this.#a!==0&&e!==10&&([1,2,3,4].includes(this.#a)&&[6,7,8,9].includes(e)&&(this.#n.hostname??=""),[1,2,3,4,5,6].includes(this.#a)&&[8,9].includes(e)&&(this.#n.pathname??=this.#h?"/":""),[1,2,3,4,5,6,7].includes(this.#a)&&e===9&&(this.#n.search??="")),this.#u(e,t)}#u(e,t){this.#a=e,this.#i=this.#e+t,this.#e+=t,this.#r=0}#f(){this.#e=this.#i,this.#r=0}#p(e){this.#f(),this.#a=e}#v(e){return e<0&&(e=this.#t.length-e),e<this.#t.length?this.#t[e]:this.#t[this.#t.length-1]}#d(e,t){let s=this.#v(e);return s.value===t&&(s.type==="CHAR"||s.type==="ESCAPED_CHAR"||s.type==="INVALID_CHAR")}#b(){return this.#d(this.#e,":")}#w(){return this.#d(this.#e+1,"/")&&this.#d(this.#e+2,"/")}#y(){return this.#d(this.#e,"@")}#x(){return this.#d(this.#e,":")}#S(){return this.#d(this.#e,":")}#E(){return this.#d(this.#e,"/")}#_(){if(this.#d(this.#e,"?"))return!0;if(this.#t[this.#e].value!=="?")return!1;let e=this.#v(this.#e-1);return e.type!=="NAME"&&e.type!=="REGEX"&&e.type!=="CLOSE"&&e.type!=="ASTERISK"}#m(){return this.#d(this.#e,"#")}#k(){return this.#t[this.#e].type=="OPEN"}#T(){return this.#t[this.#e].type=="CLOSE"}#C(){return this.#d(this.#e,"[")}#$(){return this.#d(this.#e,"]")}#g(){let e=this.#t[this.#e],t=this.#v(this.#i).index;return this.#s.substring(t,e.index)}#I(){let e={};Object.assign(e,xt),e.encodePart=bs;let t=Zi(this.#g(),void 0,e);this.#h=Gn(t)}},He=["protocol","username","password","hostname","port","pathname","search","hash"],wt="*";function Ys(e,t){if(typeof e!="string")throw new TypeError("parameter 1 is not of type 'string'.");let s=new URL(e,t);return{protocol:s.protocol.substring(0,s.protocol.length-1),username:s.username,password:s.password,hostname:s.hostname,port:s.port,pathname:s.pathname,search:s.search!==""?s.search.substring(1,s.search.length):void 0,hash:s.hash!==""?s.hash.substring(1,s.hash.length):void 0}}function mt(e,t){return t?Gt(e):e}function qt(e,t,s){let n;if(typeof t.baseURL=="string")try{n=new URL(t.baseURL),t.protocol===void 0&&(e.protocol=mt(n.protocol.substring(0,n.protocol.length-1),s)),!s&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&(e.username=mt(n.username,s)),!s&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&t.password===void 0&&(e.password=mt(n.password,s)),t.protocol===void 0&&t.hostname===void 0&&(e.hostname=mt(n.hostname,s)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&(e.port=mt(n.port,s)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&(e.pathname=mt(n.pathname,s)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&(e.search=mt(n.search.substring(1,n.search.length),s)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&t.hash===void 0&&(e.hash=mt(n.hash.substring(1,n.hash.length),s))}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol=="string"&&(e.protocol=ca(t.protocol,s)),typeof t.username=="string"&&(e.username=aa(t.username,s)),typeof t.password=="string"&&(e.password=ia(t.password,s)),typeof t.hostname=="string"&&(e.hostname=ra(t.hostname,s)),typeof t.port=="string"&&(e.port=la(t.port,e.protocol,s)),typeof t.pathname=="string"){if(e.pathname=t.pathname,n&&!ta(e.pathname,s)){let r=n.pathname.lastIndexOf("/");r>=0&&(e.pathname=mt(n.pathname.substring(0,r+1),s)+e.pathname)}e.pathname=oa(e.pathname,e.protocol,s)}return typeof t.search=="string"&&(e.search=na(t.search,s)),typeof t.hash=="string"&&(e.hash=sa(t.hash,s)),e}function Gt(e){return e.replace(/([+*?:{}()\\])/g,"\\$1")}function va(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function ya(e,t){t.delimiter??="/#?",t.prefixes??="./",t.sensitive??=!1,t.strict??=!1,t.end??=!0,t.start??=!0,t.endsWith="";let s=".*",n=`[^${va(t.delimiter)}]+?`,r=/[$_\u200C\u200D\p{ID_Continue}]/u,i="";for(let o=0;o<e.length;++o){let a=e[o];if(a.type===3){if(a.modifier===3){i+=Gt(a.value);continue}i+=`{${Gt(a.value)}}${At(a.modifier)}`;continue}let c=a.hasCustomName(),u=!!a.suffix.length||!!a.prefix.length&&(a.prefix.length!==1||!t.prefixes.includes(a.prefix)),T=o>0?e[o-1]:null,d=o<e.length-1?e[o+1]:null;if(!u&&c&&a.type===1&&a.modifier===3&&d&&!d.prefix.length&&!d.suffix.length)if(d.type===3){let g=d.value.length>0?d.value[0]:"";u=r.test(g)}else u=!d.hasCustomName();if(!u&&!a.prefix.length&&T&&T.type===3){let g=T.value[T.value.length-1];u=t.prefixes.includes(g)}u&&(i+="{"),i+=Gt(a.prefix),c&&(i+=`:${a.name}`),a.type===2?i+=`(${a.value})`:a.type===1?c||(i+=`(${n})`):a.type===0&&(!c&&(!T||T.type===3||T.modifier!==3||u||a.prefix!=="")?i+="*":i+=`(${s})`),a.type===1&&c&&a.suffix.length&&r.test(a.suffix[0])&&(i+="\\"),i+=Gt(a.suffix),u&&(i+="}"),a.modifier!==3&&(i+=At(a.modifier))}return i}var _a=class{#s;#t={};#n={};#e={};#r={};#i=!1;constructor(e={},t,s){try{let n;if(typeof t=="string"?n=t:s=t,typeof e=="string"){let a=new ma(e);if(a.parse(),e=a.result,n===void 0&&typeof e.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");e.baseURL=n}else{if(!e||typeof e!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(n)throw new TypeError("parameter 1 is not of type 'string'.")}typeof s>"u"&&(s={ignoreCase:!1});let r={ignoreCase:s.ignoreCase===!0},i={pathname:wt,protocol:wt,username:wt,password:wt,hostname:wt,port:wt,search:wt,hash:wt};this.#s=qt(i,e,!0),Kn(this.#s.protocol)===this.#s.port&&(this.#s.port="");let o;for(o of He){if(!(o in this.#s))continue;let a={},c=this.#s[o];switch(this.#n[o]=[],o){case"protocol":Object.assign(a,xt),a.encodePart=bs;break;case"username":Object.assign(a,xt),a.encodePart=ha;break;case"password":Object.assign(a,xt),a.encodePart=ua;break;case"hostname":Object.assign(a,Ji),Fn(c)?a.encodePart=Xn:a.encodePart=Yn;break;case"port":Object.assign(a,xt),a.encodePart=Zn;break;case"pathname":Gn(this.#t.protocol)?(Object.assign(a,Qi,r),a.encodePart=da):(Object.assign(a,xt,r),a.encodePart=fa);break;case"search":Object.assign(a,xt,r),a.encodePart=pa;break;case"hash":Object.assign(a,xt,r),a.encodePart=ga;break}try{this.#r[o]=Wn(c,a),this.#t[o]=Vn(this.#r[o],this.#n[o],a),this.#e[o]=ya(this.#r[o],a),this.#i=this.#i||this.#r[o].some(u=>u.type===2)}catch{throw new TypeError(`invalid ${o} pattern '${this.#s[o]}'.`)}}}catch(n){throw new TypeError(`Failed to construct 'URLPattern': ${n.message}`)}}test(e={},t){let s={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return!1;try{typeof e=="object"?s=qt(s,e,!1):s=qt(s,Ys(e,t),!1)}catch{return!1}let n;for(n of He)if(!this.#t[n].exec(s[n]))return!1;return!0}exec(e={},t){let s={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return;try{typeof e=="object"?s=qt(s,e,!1):s=qt(s,Ys(e,t),!1)}catch{return null}let n={};t?n.inputs=[e,t]:n.inputs=[e];let r;for(r of He){let i=this.#t[r].exec(s[r]);if(!i)return null;let o={};for(let[a,c]of this.#n[r].entries())if(typeof c=="string"||typeof c=="number"){let u=i[a+1];o[c]=u}n[r]={input:s[r]??"",groups:o}}return n}static compareComponent(e,t,s){let n=(a,c)=>{for(let u of["type","modifier","prefix","value","suffix"]){if(a[u]<c[u])return-1;if(a[u]!==c[u])return 1}return 0},r=new Yt(3,"","","","",3),i=new Yt(0,"","","","",3),o=(a,c)=>{let u=0;for(;u<Math.min(a.length,c.length);++u){let T=n(a[u],c[u]);if(T)return T}return a.length===c.length?0:n(a[u]??r,c[u]??r)};return!t.#e[e]&&!s.#e[e]?0:t.#e[e]&&!s.#e[e]?o(t.#r[e],[i]):!t.#e[e]&&s.#e[e]?o([i],s.#r[e]):o(t.#r[e],s.#r[e])}get protocol(){return this.#e.protocol}get username(){return this.#e.username}get password(){return this.#e.password}get hostname(){return this.#e.hostname}get port(){return this.#e.port}get pathname(){return this.#e.pathname}get search(){return this.#e.search}get hash(){return this.#e.hash}get hasRegExpGroups(){return this.#i}};globalThis.URLPattern||(globalThis.URLPattern=_a);const Xs=(e,t)=>{try{const s=e instanceof URL?e:new URL(e),n=t instanceof URL?t:new URL(t,document.baseURI);if(s.origin!==n.origin)return null;const r=s.pathname,i=n.pathname;let o,a=i;if(a.endsWith("/")||(a+="/"),r.startsWith(a))o=r.slice(a.length);else if(r===i&&!i.endsWith("/"))o="";else if(r===i&&i.endsWith("/"))o="";else return null;return{pathname:o,search:s.search,hash:s.hash}}catch(s){return console.error("Error parsing URLs for relative parts:",s),null}},Jn=tt("100%"),Qn=tt("0%"),tr=tt("100%"),er=tt("100%"),sr=tt("100%"),ba=tt("-38%"),wa=tt("0%"),Ea=tt("100%"),xa=tt("100%"),Sa=tt("100%");tt("0%");tt("0%");tt("90%");tt("90%");tt("50%");CSS.registerProperty({name:"--page-translate-x",syntax:"<length-percentage>",inherits:!1,initialValue:"0px"});CSS.registerProperty({name:"--page-translate-y",syntax:"<length-percentage>",inherits:!1,initialValue:"0px"});CSS.registerProperty({name:"--page-scale-x",syntax:"<percentage>",inherits:!1,initialValue:"100%"});CSS.registerProperty({name:"--page-scale-y",syntax:"<percentage>",inherits:!1,initialValue:"100%"});const ka=K`:host{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;grid-template-areas:'stack';width:100cqw;height:100cqh;overflow:hidden;background-color:var(--color-canvas)}::slotted(*){grid-area:stack;z-index:var(--index,1)}slot[name=router]{display:none}:host([stack]){perspective:calc(var(--z,1200) * 1px);transform-style:preserve-3d;perspective-origin:calc(var(--x,50) * 1%) calc(var(--y,50) * 1%)}:host([stack-direction=horizontal]){--x:130}:host([stack-direction=vertical]){--y:130}::slotted(*){transform-style:preserve-3d;user-select:none}::slotted(*){--page-translate-z:calc((var(--present-index, -1) - var(--index, 0)) * -36px);translate:var(--page-translate-x,0) var(--page-translate-y,0) var(--page-translate-z);scale:var(--page-scale-x,100%) var(--page-scale-y,100%)}`,Ta=$r([K`:host{place-self:stretch;display:grid;transition-property:all;transition-behavior:allow-discrete}:host([data-tense=future]){--page-translate-x:${Jn};--page-translate-y:${Qn};--page-scale-x:${tr};--page-scale-y:${er};--page-opacity:${sr}}:host([data-tense=past]){--page-translate-x:${ba};--page-translate-y:${wa};--page-scale-x:${Ea};--page-scale-y:${xa};--page-opacity:${Sa}}:host([data-tense=future]:not([data-view-transition-lifecycle])),:host([data-tense=past]:not([data-view-transition-lifecycle])){display:none}`,Lr?null:K`:host([data-from-tense=present]){transition-duration:var(--page-leave-duration);transition-timing-function:var(--page-leave-ease)}:host([data-tense=present]){transition-duration:var(--page-enter-duration);transition-timing-function:var(--page-enter-ease)}`]),Ca=[null,"horizontal","vertical"];(()=>{let e=[et("appn-navigation-provider")],t,s=[],n,r=Q,i,o=[],a=[],c,u=[],T=[],d,g=[],w=[],A,L=[],R=[],U,C=[],E=[],k,$=[],I=[],b,P=[],S=[],p,v=[],D=[],M,B=[],G=[];return class extends r{static{n=this}static{const x=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:"base-uri"})],c=[ms({context:Wt})],d=[St()],A=[St()],U=[St()],k=[St()],b=[W({type:Boolean,reflect:!0,attribute:!0})],p=[vt({...It(Ca),attribute:"stack-direction"})],M=[ei({slot:"router",flatten:!0})],O(this,null,i,{kind:"accessor",name:"baseURI",static:!1,private:!1,access:{has:f=>"baseURI"in f,get:f=>f.baseURI,set:(f,y)=>{f.baseURI=y}},metadata:x},o,a),O(this,null,c,{kind:"accessor",name:"currentEntry",static:!1,private:!1,access:{has:f=>"currentEntry"in f,get:f=>f.currentEntry,set:(f,y)=>{f.currentEntry=y}},metadata:x},u,T),O(this,null,d,{kind:"accessor",name:"onnavigate",static:!1,private:!1,access:{has:f=>"onnavigate"in f,get:f=>f.onnavigate,set:(f,y)=>{f.onnavigate=y}},metadata:x},g,w),O(this,null,A,{kind:"accessor",name:"onnavigatesuccess",static:!1,private:!1,access:{has:f=>"onnavigatesuccess"in f,get:f=>f.onnavigatesuccess,set:(f,y)=>{f.onnavigatesuccess=y}},metadata:x},L,R),O(this,null,U,{kind:"accessor",name:"onnavigateerror",static:!1,private:!1,access:{has:f=>"onnavigateerror"in f,get:f=>f.onnavigateerror,set:(f,y)=>{f.onnavigateerror=y}},metadata:x},C,E),O(this,null,k,{kind:"accessor",name:"oncurrententrychange",static:!1,private:!1,access:{has:f=>"oncurrententrychange"in f,get:f=>f.oncurrententrychange,set:(f,y)=>{f.oncurrententrychange=y}},metadata:x},$,I),O(this,null,b,{kind:"accessor",name:"stack",static:!1,private:!1,access:{has:f=>"stack"in f,get:f=>f.stack,set:(f,y)=>{f.stack=y}},metadata:x},P,S),O(this,null,p,{kind:"accessor",name:"stackDirection",static:!1,private:!1,access:{has:f=>"stackDirection"in f,get:f=>f.stackDirection,set:(f,y)=>{f.stackDirection=y}},metadata:x},v,D),O(this,null,M,{kind:"accessor",name:"routersElements",static:!1,private:!1,access:{has:f=>"routersElements"in f,get:f=>f.routersElements,set:(f,y)=>{f.routersElements=y}},metadata:x},B,G),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:x},null,s),n=t.value,x&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:x})}static styles=ka;__nav=window.navigation;__previousEntry=null;__currentEntry=this.__nav.currentEntry;constructor(){super(),new Xe(this,{context:gs,initialValue:this}),this.__nav.addEventListener("navigate",x=>{x.canIntercept&&(this.__previousEntry=this.__nav.currentEntry,x.intercept({handler:()=>(this.__currentEntry=this.__nav.currentEntry,this.__effectRoutes(x.navigationType))}))}),this.__nav.addEventListener("currententrychange",x=>{this.currentEntry=this.__nav.currentEntry})}#s=h(this,o,location.href);get baseURI(){return this.#s}set baseURI(x){this.#s=x}async entries(){return this.__nav.entries().filter(y=>y.url?Xs(y.url,this.baseURI):!1)}async findFirstEntry(x,f){const y=await this.entries(),_=f?y.indexOf(f):0;for(let N=_>0?_:0;N<y.length;N++){const z=y[N],l=at(z).with(x,m=>m).otherwise(()=>null);if(l)return l}return null}async findLastEntry(x,f){const y=await this.entries(),_=f?y.indexOf(f):y.length-1;for(let N=_<y.length?_:y.length-1;N>=0;N--){const z=y[N],l=at(z).with(x,m=>m).otherwise(()=>null);if(l)return l}return null}#t=(h(this,a),h(this,u,this.__nav.currentEntry));get currentEntry(){return this.#t}set currentEntry(x){this.#t=x}#n=(h(this,T),-1);get currentEntryIndex(){return this.#n}updateCurrentEntry(x){this.__nav.updateCurrentEntry(x)}get transition(){return this.__nav.transition}get activation(){return this.__nav.activation??null}get canGoBack(){return this.__nav.canGoBack}get canGoForward(){return this.__nav.canGoForward}navigate(x,f){return this.__nav.navigate(x,f)}reload(x){return this.__nav.reload(x)}traverseTo(x,f){return this.__nav.traverseTo(x,f)}back(x){return this.__nav.back(x)}forward(x){return this.__nav.forward(x)}#e=h(this,g,void 0);get onnavigate(){return this.#e}set onnavigate(x){this.#e=x}#r=(h(this,w),h(this,L,void 0));get onnavigatesuccess(){return this.#r}set onnavigatesuccess(x){this.#r=x}#i=(h(this,R),h(this,C,void 0));get onnavigateerror(){return this.#i}set onnavigateerror(x){this.#i=x}#a=(h(this,E),h(this,$,void 0));get oncurrententrychange(){return this.#a}set oncurrententrychange(x){this.#a=x}#l=(h(this,I),h(this,P,!1));get stack(){return this.#l}set stack(x){this.#l=x}#c=(h(this,S),h(this,v,null));get stackDirection(){return this.#c}set stackDirection(x){this.#c=x}setCamera(x,f,y){this.style.setProperty("--x",`${x}`),this.style.setProperty("--y",`${f}`),this.style.setProperty("--z",`${y}`)}#h=(h(this,D),h(this,B,void 0));get routersElements(){return this.#h}set routersElements(x){this.#h=x}__effectRoutes=(h(this,G),async x=>{const f=new Map;for(const z of this.querySelectorAll("appn-navigation-history-entry")){const l=z.dataset.index;l&&f.set(+l,z)}const y=new Set(f.values()),_=async z=>{const l=this.routersElements.filter(V=>V instanceof HTMLTemplateElement),m=this.__nav.entries(),j=z==="prepare"?this.__previousEntry:this.__currentEntry,q=j?m.indexOf(j):-1;if(this.#n=q,q!==-1){if(this.style.setProperty("--present-index",`${q}`),z!=="finished")for(const V of m){const F=await this.__effectRoute(V,l,f,{allEntries:m,currentEntry:j,currentEntryIndex:q,navigationType:x});F&&y.delete(F)}else for(const V of y)V.remove();this.__effectPagesSharedElement({previousEntry:this.__previousEntry,subsequentEntry:this.__currentEntry,lifecycle:z})}};await _("prepare"),await document.startViewTransition(()=>_("started")).finished,await _("finished")});__effectRoute=async(x,f,y,_)=>{const N=x.url;if(!N)return;const z=Xs(N,this.baseURI);if(z)for(const l of f){const{pathname:m="*",search:j="*",hash:q="*"}=l.dataset;if(new URLPattern({pathname:m,search:j,hash:q}).exec(z)){const ct=l.dataset.target?at(l.ownerDocument.getElementById(l.dataset.target)).when(st=>st instanceof HTMLTemplateElement,st=>st).otherwise(()=>(console.warn(`no found templateElement by id: ${JSON.stringify(l.dataset.target)}`),null)):l;if(!ct)break;const ot=y.get(x.index);let dt;if(ot)dt=ot,ot.navigationEntry=x,ot.templateEle!==ct&&(ot.templateEle=ct,ot.hash=z.hash,ot.innerHTML="",ot.appendChild(ct.content.cloneNode(!0)));else{const st=new $a;y.set(x.index,st),dt=st,st.navigationEntry=x,st.templateEle=ct,st.pathname=z.pathname,st.search=z.search,st.hash=z.hash,st.appendChild(ct.content.cloneNode(!0))}return dt.navigationType=_.navigationType??null,dt.presentEntryIndex=_.currentEntryIndex,dt.parentElement||await this.appendChild(dt),dt}}};__effectPagesSharedElement=async x=>{const f={},y=N=>{if(N){const z=this.querySelector(`appn-navigation-history-entry[data-index="${N.index}"]`);if(z)return{node:z,navEntry:N}}};f.previous=y(x.previousEntry),f.subsequent=y(x.subsequentEntry);const _=N=>N.node.querySelectorAll("[data-shared-element],[data-shared-element-old],[data-shared-element-new]");if(x.lifecycle==="finished"){for(const N of[f.previous,f.subsequent])if(N){N.node.removeAttribute("data-view-transition-lifecycle");const z=_(N);N.node.style.viewTransitionName="";for(const l of z)l.style.viewTransitionName="",l.removeAttribute("data-shared-element-state")}}else{const N=this.__sharedElementCss(),z=new Map,l=[f.previous?.navEntry.index??0,f.subsequent?.navEntry.index??0].sort((F,ct)=>F-ct),[m,j]=l,q=(j-m+1)*10+1,V=at(x.lifecycle).with("prepare",()=>[f.subsequent,f.previous]).with("started",()=>[f.previous,f.subsequent]).exhaustive();for(const F of V)if(F){F.node.dataset.viewTransitionLifecycle=x.lifecycle;const ct=_(F),ot=F.node.style.viewTransitionName="appn-"+F.navEntry.index,dt=(F.navEntry.index-m+1)*10;N.setRule(`group(${ot})`,`::view-transition-group(${ot}){z-index:${dt};}`);for(const st of ct){const{dataset:br}=st,xs=br.sharedElement;xs&&this.__setSharedElement(N,xs,st,z,`z-index:${q};`)}}}};__sharedElementCss=Ct(()=>{const x=new si;return x.addRule("[data-shared-element-state='old'] { visibility: hidden !important; }"),x});__setSharedElement(x,f,y,_,N){const z=_.get(f);z&&(z.style.viewTransitionName="",z.dataset.sharedElementState="old"),_.set(f,y),y.style.viewTransitionName=f,y.dataset.sharedElementState="new";const l=y.dataset,m=l.sharedElementStyle;x.setRule(`group(${f})`,`::view-transition-group(${f}){${N}${m??""}}`);const j=l.sharedElementOldStyle;j&&x.setRule(`old(${f})`,`::view-transition-old(${f}){${j}}`);const q=l.sharedElementNewStyle;q&&x.setRule(`new(${f})`,`::view-transition-new(${f}){${q}}`)}render(){return this.__html}__html=ps(Y`<slot name="router" @slotchange="${()=>this.__effectRoutes()}"></slot><slot></slot><css-starting-style slotted="" selector="appn-navigation-history-entry[data-tense='present'][data-from-tense='future']" cssText="--page-translate-x: ${Jn};--page-translate-y: ${Qn};--page-scale-x: ${tr};--page-scale-y: ${er};--page-opacity: ${sr};"></css-starting-style>`);static{h(n,s)}},n})();let $a=(()=>{let e=[et("appn-navigation-history-entry")],t,s=[],n,r=Q,i,o=[],a=[],c,u=[],T=[],d,g=[],w=[],A,L=[],R=[],U,C=[],E=[],k,$=[],I=[],b,P=[],S=[];return class extends r{static{n=this}static{const p=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:!0})],c=[W({type:String,reflect:!0,attribute:!0})],d=[W({type:String,reflect:!0,attribute:!0})],A=[W({type:Object})],U=[vt(It([null,"reload","push","replace","traverse"]))],k=[W({type:Number,reflect:!0,attribute:!0})],b=[ms({context:Wt})],O(this,null,i,{kind:"accessor",name:"pathname",static:!1,private:!1,access:{has:v=>"pathname"in v,get:v=>v.pathname,set:(v,D)=>{v.pathname=D}},metadata:p},o,a),O(this,null,c,{kind:"accessor",name:"search",static:!1,private:!1,access:{has:v=>"search"in v,get:v=>v.search,set:(v,D)=>{v.search=D}},metadata:p},u,T),O(this,null,d,{kind:"accessor",name:"hash",static:!1,private:!1,access:{has:v=>"hash"in v,get:v=>v.hash,set:(v,D)=>{v.hash=D}},metadata:p},g,w),O(this,null,A,{kind:"accessor",name:"templateEle",static:!1,private:!1,access:{has:v=>"templateEle"in v,get:v=>v.templateEle,set:(v,D)=>{v.templateEle=D}},metadata:p},L,R),O(this,null,U,{kind:"accessor",name:"navigationType",static:!1,private:!1,access:{has:v=>"navigationType"in v,get:v=>v.navigationType,set:(v,D)=>{v.navigationType=D}},metadata:p},C,E),O(this,null,k,{kind:"accessor",name:"presentEntryIndex",static:!1,private:!1,access:{has:v=>"presentEntryIndex"in v,get:v=>v.presentEntryIndex,set:(v,D)=>{v.presentEntryIndex=D}},metadata:p},$,I),O(this,null,b,{kind:"accessor",name:"navigationEntry",static:!1,private:!1,access:{has:v=>"navigationEntry"in v,get:v=>v.navigationEntry,set:(v,D)=>{v.navigationEntry=D}},metadata:p},P,S),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:p},null,s),n=t.value,p&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p})}static styles=Ta;#s=h(this,o,void 0);get pathname(){return this.#s}set pathname(p){this.#s=p}#t=(h(this,a),h(this,u,void 0));get search(){return this.#t}set search(p){this.#t=p}#n=(h(this,T),h(this,g,void 0));get hash(){return this.#n}set hash(p){this.#n=p}#e=(h(this,w),h(this,L,void 0));get templateEle(){return this.#e}set templateEle(p){this.#e=p}#r=(h(this,R),h(this,C,null));get navigationType(){return this.#r}set navigationType(p){this.#r=p}#i=(h(this,E),h(this,$,-1));get presentEntryIndex(){return this.#i}set presentEntryIndex(p){this.#i=p}#a=(h(this,I),h(this,P,null));get navigationEntry(){return this.#a}set navigationEntry(p){this.#a=p}render(){this.dataset.key=this.navigationEntry?.key;const p=this.navigationEntry?.index??-1,v=this.presentEntryIndex;this.style.setProperty("--index",this.dataset.index=`${p}`);let D=this.dataset.tense;if(D==null){const B=at(this.navigationType).with("push",()=>1).with("traverse",()=>-1).otherwise(()=>0);p>v-B?D="future":p<v-B?D="past":D="present"}this.dataset.fromTense=D;const M=v===-1?void 0:at(p).with(v,()=>"present").otherwise(()=>p<v?"past":"future");return this.dataset.tense=M,this.inert=M!=="present",Y`<slot></slot>`}constructor(){super(...arguments),h(this,S)}static{h(n,s)}},n})();var Ia=Object.defineProperty,za=(e,t,s)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,We=(e,t,s)=>(za(e,typeof t!="symbol"?t+"":t,s),s),Na=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},Ve=(e,t)=>{if(Object(t)!==t)throw TypeError('Cannot use the "in" operator on this value');return e.has(t)},se=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},Zs=(e,t,s)=>(Na(e,t,"access private method"),s);/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function nr(e,t){return Object.is(e,t)}/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let X=null,Xt=!1,oe=1;const ve=Symbol("SIGNAL");function Lt(e){const t=X;return X=e,t}function Oa(){return X}function Pa(){return Xt}const ws={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xe(e){if(Xt)throw new Error(typeof ngDevMode<"u"&&ngDevMode?"Assertion error: signal read during notification phase":"");if(X===null)return;X.consumerOnSignalRead(e);const t=X.nextProducerIndex++;if(Ht(X),t<X.producerNode.length&&X.producerNode[t]!==e&&hs(X)){const s=X.producerNode[t];Se(s,X.producerIndexOfThis[t])}X.producerNode[t]!==e&&(X.producerNode[t]=e,X.producerIndexOfThis[t]=hs(X)?ar(e,X,t):0),X.producerLastReadVersion[t]=e.version}function Ra(){oe++}function rr(e){if(!(!e.dirty&&e.lastCleanEpoch===oe)){if(!e.producerMustRecompute(e)&&!ja(e)){e.dirty=!1,e.lastCleanEpoch=oe;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=oe}}function ir(e){if(e.liveConsumerNode===void 0)return;const t=Xt;Xt=!0;try{for(const s of e.liveConsumerNode)s.dirty||La(s)}finally{Xt=t}}function Aa(){return X?.consumerAllowSignalWrites!==!1}function La(e){var t;e.dirty=!0,ir(e),(t=e.consumerMarkedDirty)==null||t.call(e.wrapper??e)}function Da(e){return e&&(e.nextProducerIndex=0),Lt(e)}function Ua(e,t){if(Lt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(hs(e))for(let s=e.nextProducerIndex;s<e.producerNode.length;s++)Se(e.producerNode[s],e.producerIndexOfThis[s]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ja(e){Ht(e);for(let t=0;t<e.producerNode.length;t++){const s=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==s.version||(rr(s),n!==s.version))return!0}return!1}function ar(e,t,s){var n;if(Es(e),Ht(e),e.liveConsumerNode.length===0){(n=e.watched)==null||n.call(e.wrapper);for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=ar(e.producerNode[r],e,r)}return e.liveConsumerIndexOfThis.push(s),e.liveConsumerNode.push(t)-1}function Se(e,t){var s;if(Es(e),Ht(e),typeof ngDevMode<"u"&&ngDevMode&&t>=e.liveConsumerNode.length)throw new Error(`Assertion error: active consumer index ${t} is out of bounds of ${e.liveConsumerNode.length} consumers)`);if(e.liveConsumerNode.length===1){(s=e.unwatched)==null||s.call(e.wrapper);for(let r=0;r<e.producerNode.length;r++)Se(e.producerNode[r],e.producerIndexOfThis[r])}const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ht(i),i.producerIndexOfThis[r]=t}}function hs(e){var t;return e.consumerIsAlwaysLive||(((t=e?.liveConsumerNode)==null?void 0:t.length)??0)>0}function Ht(e){e.producerNode??(e.producerNode=[]),e.producerIndexOfThis??(e.producerIndexOfThis=[]),e.producerLastReadVersion??(e.producerLastReadVersion=[])}function Es(e){e.liveConsumerNode??(e.liveConsumerNode=[]),e.liveConsumerIndexOfThis??(e.liveConsumerIndexOfThis=[])}/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function or(e){if(rr(e),xe(e),e.value===us)throw e.error;return e.value}function Ma(e){const t=Object.create(Ha);t.computation=e;const s=()=>or(t);return s[ve]=t,s}const qe=Symbol("UNSET"),Fe=Symbol("COMPUTING"),us=Symbol("ERRORED"),Ha={...ws,value:qe,dirty:!0,error:null,equal:nr,producerMustRecompute(e){return e.value===qe||e.value===Fe},producerRecomputeValue(e){if(e.value===Fe)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Fe;const s=Da(e);let n,r=!1;try{n=e.computation.call(e.wrapper),r=t!==qe&&t!==us&&e.equal.call(e.wrapper,t,n)}catch(i){n=us,e.error=i}finally{Ua(e,s)}if(r){e.value=t;return}e.value=n,e.version++}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Wa(){throw new Error}let Va=Wa;function qa(){Va()}/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Fa(e){const t=Object.create(Ka);t.value=e;const s=()=>(xe(t),t.value);return s[ve]=t,s}function Ba(){return xe(this),this.value}function Ga(e,t){Aa()||qa(),e.equal.call(e.wrapper,e.value,t)||(e.value=t,Ya(e))}const Ka={...ws,equal:nr,value:void 0};function Ya(e){e.version++,Ra(),ir(e)}/**
 * @license
 * Copyright 2024 Bloomberg Finance L.P.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z=Symbol("node");var bt;(e=>{var t,s,n,r;class i{constructor(c,u={}){se(this,s),We(this,t);const d=Fa(c)[ve];if(this[Z]=d,d.wrapper=this,u){const g=u.equals;g&&(d.equal=g),d.watched=u[e.subtle.watched],d.unwatched=u[e.subtle.unwatched]}}get(){if(!(0,e.isState)(this))throw new TypeError("Wrong receiver type for Signal.State.prototype.get");return Ba.call(this[Z])}set(c){if(!(0,e.isState)(this))throw new TypeError("Wrong receiver type for Signal.State.prototype.set");if(Pa())throw new Error("Writes to signals not permitted during Watcher callback");const u=this[Z];Ga(u,c)}}t=Z,s=new WeakSet,e.isState=a=>typeof a=="object"&&Ve(s,a),e.State=i;class o{constructor(c,u){se(this,r),We(this,n);const d=Ma(c)[ve];if(d.consumerAllowSignalWrites=!0,this[Z]=d,d.wrapper=this,u){const g=u.equals;g&&(d.equal=g),d.watched=u[e.subtle.watched],d.unwatched=u[e.subtle.unwatched]}}get(){if(!(0,e.isComputed)(this))throw new TypeError("Wrong receiver type for Signal.Computed.prototype.get");return or(this[Z])}}n=Z,r=new WeakSet,e.isComputed=a=>typeof a=="object"&&Ve(r,a),e.Computed=o,(a=>{var c,u,T,d;function g(E){let k,$=null;try{$=Lt(null),k=E()}finally{Lt($)}return k}a.untrack=g;function w(E){var k;if(!(0,e.isComputed)(E)&&!(0,e.isWatcher)(E))throw new TypeError("Called introspectSources without a Computed or Watcher argument");return((k=E[Z].producerNode)==null?void 0:k.map($=>$.wrapper))??[]}a.introspectSources=w;function A(E){var k;if(!(0,e.isComputed)(E)&&!(0,e.isState)(E))throw new TypeError("Called introspectSinks without a Signal argument");return((k=E[Z].liveConsumerNode)==null?void 0:k.map($=>$.wrapper))??[]}a.introspectSinks=A;function L(E){if(!(0,e.isComputed)(E)&&!(0,e.isState)(E))throw new TypeError("Called hasSinks without a Signal argument");const k=E[Z].liveConsumerNode;return k?k.length>0:!1}a.hasSinks=L;function R(E){if(!(0,e.isComputed)(E)&&!(0,e.isWatcher)(E))throw new TypeError("Called hasSources without a Computed or Watcher argument");const k=E[Z].producerNode;return k?k.length>0:!1}a.hasSources=R;class U{constructor(k){se(this,u),se(this,T),We(this,c);let $=Object.create(ws);$.wrapper=this,$.consumerMarkedDirty=k,$.consumerIsAlwaysLive=!0,$.consumerAllowSignalWrites=!1,$.producerNode=[],this[Z]=$}watch(...k){if(!(0,e.isWatcher)(this))throw new TypeError("Called unwatch without Watcher receiver");Zs(this,T,d).call(this,k);const $=this[Z];$.dirty=!1;const I=Lt($);for(const b of k)xe(b[Z]);Lt(I)}unwatch(...k){if(!(0,e.isWatcher)(this))throw new TypeError("Called unwatch without Watcher receiver");Zs(this,T,d).call(this,k);const $=this[Z];Ht($);for(let I=$.producerNode.length-1;I>=0;I--)if(k.includes($.producerNode[I].wrapper)){Se($.producerNode[I],$.producerIndexOfThis[I]);const b=$.producerNode.length-1;if($.producerNode[I]=$.producerNode[b],$.producerIndexOfThis[I]=$.producerIndexOfThis[b],$.producerNode.length--,$.producerIndexOfThis.length--,$.nextProducerIndex--,I<$.producerNode.length){const P=$.producerIndexOfThis[I],S=$.producerNode[I];Es(S),S.liveConsumerIndexOfThis[P]=I}}}getPending(){if(!(0,e.isWatcher)(this))throw new TypeError("Called getPending without Watcher receiver");return this[Z].producerNode.filter($=>$.dirty).map($=>$.wrapper)}}c=Z,u=new WeakSet,T=new WeakSet,d=function(E){for(const k of E)if(!(0,e.isComputed)(k)&&!(0,e.isState)(k))throw new TypeError("Called watch/unwatch without a Computed or State argument")},e.isWatcher=E=>Ve(u,E),a.Watcher=U;function C(){var E;return(E=Oa())==null?void 0:E.wrapper}a.currentComputed=C,a.watched=Symbol("watched"),a.unwatched=Symbol("unwatched")})(e.subtle||(e.subtle={}))})(bt||(bt={}));let Be=!1,ye=new bt.subtle.Watcher(()=>{Be||(Be=!0,queueMicrotask(()=>{Be=!1,Xa()}))});function Xa(){for(const e of ye.getPending())e.get();ye.watch()}function Za(e){let t=new bt.Computed(()=>e());return ye.watch(t),t.get(),()=>{ye.unwatch(t)}}class Ja{__cb;constructor(t,s){s&&s.length?this.__cb=()=>{for(const n of s)n.get();t()}:this.__cb=t}__off;connect(){this.__off==null&&(this.__off=Za(this.__cb))}disconnect(){this.__off?.(),this.__off=void 0}toReactiveController(){return{hostConnected:()=>{this.connect()},hostDisconnected:()=>{this.disconnect()}}}}const Qa=(e,t)=>new bt.Computed(()=>t(e.get())),lr=()=>tn((e,t)=>{t.addInitializer(function(){const n=new Ja(()=>{s?.get(),this.requestUpdate()});this.addController({hostConnected(){n.connect()},hostDisconnected(){n.disconnect()}})});let s;return{init:n=>s=n,get:()=>s,set:n=>{s=n}}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Dt(e){return W({...e,state:!0,attribute:!1})}const to=(e,t)=>{const s=e.indexOf(t);return s!==-1&&e.splice(s,1),s};class eo extends Ee{constructor(t){if(super(t),t.type!==cn.ELEMENT)throw new Error("The `resizeDirective` directive must be used on property of Element or SVGElement.")}update(t,[s]){return s.bindElement(t.element),sn}render(t){return""}}const so=we(eo);class _e{__resizeObserver;__options;__host;__callback;constructor(t,s,n){this.__host=t,this.__host.addController(this),this.__callback=s,this.__options=n,this.__resizeObserver=new ResizeObserver(r=>{this.__callback(r[0])})}hostConnected(){this.__bindingElement&&this.bindElement(this.__bindingElement)}hostDisconnected(){this.__resizeObserver.disconnect()}__bindingElement;get bindingElement(){return this.__bindingElement}bindElement(t){return this.__bindingElement!==t&&(this.__bindingElement!=null&&this.__resizeObserver.unobserve(this.__bindingElement),this.__bindingElement=t,this.__resizeObserver.observe(t,this.__options)),this}unbindElement(t=this.__bindingElement){return this.__bindingElement===t&&this.__bindingElement&&this.__bindingElement!=null&&(this.__resizeObserver.unobserve(this.__bindingElement),this.__bindingElement=void 0),this.__bindingElement==null}observe(){return so(this)}}class cr extends HTMLElement{isOverlayState;constructor(t,s={}){super(),this.isOverlayState=t,this.attachShadow({mode:"open"});const n=String.raw;this.shadowRoot.innerHTML=n`<style>${K`:host{position:absolute;top:-9999px;width:100px;height:100px;overflow:scroll;pointer-events:none;visibility:hidden;scrollbar-width:${tt(s.scrollbarWidth??"auto")}}.scroll-view,:host{position:absolute;top:-9999px;overflow:scroll;pointer-events:none;visibility:hidden}:host{width:0;height:0}.scroll-view{width:100px;height:100px;scrollbar-width:auto}.scroll-view-thin{width:100px;height:100px;scrollbar-width:thin}`}</style><div class="scroll-view"></div><div class="scroll-view-thin"></div>`,this.__scrollViewEle=this.shadowRoot.querySelector(".scroll-view"),this.__scrollViewThinEle=this.shadowRoot.querySelector(".scroll-view-thin")}scrollbarAutoWidth=new bt.State(16);scrollbarThinWidth=new bt.State(11);__scrollViewEle;__scrollViewThinEle;__resizeObserver;connectedCallback(){this.__resizeObserver=new ResizeObserver(t=>{for(const n of t){const r=t[0].borderBoxSize[0].inlineSize-t[0].contentBoxSize[0].inlineSize;n.target.className==="scroll-view"?this.scrollbarAutoWidth.set(r):n.target.className==="scroll-view-thin"&&this.scrollbarThinWidth.set(r)}const s=this.scrollbarAutoWidth.get()===0;this.isOverlayState.set(s)}),this.__resizeObserver.observe(this.__scrollViewEle),this.__resizeObserver.observe(this.__scrollViewThinEle)}disconnectedCallback(){this.__resizeObserver?.disconnect(),this.__resizeObserver=void 0}}customElements.define("iappn-scrollbar-tracker",cr);const no=Ct(()=>{const e=new bt.State(matchMedia("(hover: none) and (pointer: coarse)").matches),t=new cr(e);return document.body.appendChild(t),e}),hr=new WeakMap,ro=(e,t,s)=>{const n=yt(hr,e,()=>new WeakMap);yt(n,t,()=>[]).push(s)},ur=(e,t,s)=>{const n=hr.get(e),r=n?.get(t);if(r!=null)return s===void 0?([s]=r.splice(0,1),r.length===0&&n?.delete(t)):to(r,s),s},dr=typeof window>"u"?!0:"onscrollend"in window,io=en(()=>dr?(e,t)=>e.removeEventListener("scrollend",t):(e,t)=>{ur(e,t)?.()}),ao=en(()=>{if(dr)return(n,r)=>(n.addEventListener("scrollend",r),()=>n.removeEventListener("scrollend",r));const e=new WeakMap,t=new Set;document.addEventListener("touchstart",n=>{for(const r of n.changedTouches)t.add(r.identifier)},{passive:!0}),document.addEventListener("touchend",n=>{for(const r of n.changedTouches)t.delete(r.identifier)},{passive:!0}),document.addEventListener("touchcancel",n=>{for(const r of n.changedTouches)t.delete(r.identifier)},{passive:!0}),document.addEventListener("pointerdown",n=>{t.add(n.pointerId)},{passive:!0}),document.addEventListener("pointerup",n=>{t.delete(n.pointerId)},{passive:!0}),document.addEventListener("pointercancel",n=>{t.delete(n.pointerId)},{passive:!0});const s=n=>{const r={scrollport:n,timeout:0,scrollListener:i=>{clearTimeout(r.timeout),r.timeout=setTimeout(()=>{t.size?setTimeout(r.scrollListener,100):(r.scrollport.dispatchEvent(new Event("scrollend")),r.timeout=0)},100)},listeners:0,start(){r.listeners===0&&n.addEventListener("scroll",r.scrollListener),r.listeners++},stop(){r.listeners--,r.listeners===0&&n.removeEventListener("scroll",r.scrollListener)}};return r};return(n,r)=>{n.addEventListener("scrollend",r);const i=yt(e,n,s);i.start();const o=()=>{ur(n,r,o),n.removeEventListener("scrollend",r),i.stop()};return ro(n,r,o),o}});class oo extends Ee{constructor(t){if(super(t),t.type!==cn.ELEMENT)throw new Error("The `scrollDirective` directive must be used on property of Element or SVGElement.")}update(t,[s]){return s.bindElement(t.element),sn}render(t){return""}}const lo=we(oo);class Ge{__scrollObserver;__host;__callback;__options;constructor(t,s,n){this.__host=t,this.__host.addController(this),this.__callback=s,this.__options=n,this.__scrollObserver=new co(this.__callback)}hostConnected(){this.__bindingElement&&this.bindElement(this.__bindingElement)}hostDisconnected(){this.__scrollObserver.disconnect()}__bindingElement;get bindingElement(){return this.__bindingElement}bindElement(t){return this.__bindingElement!==t&&(this.__bindingElement!=null&&this.__scrollObserver.unobserve(this.__bindingElement),this.__bindingElement=t,this.__scrollObserver.observe(t,this.__options),this.__options?.init?.(t)),this}unbindElement(t=this.__bindingElement){return this.__bindingElement===t&&this.__bindingElement&&this.__bindingElement!=null&&(this.__scrollObserver.unobserve(this.__bindingElement),this.__bindingElement=void 0),this.__bindingElement==null}observe(){return lo(this)}}class co{__callback;constructor(t){this.__callback=t}__onscroll=t=>{this.__callback(t)};__onscrollend=t=>{this.__callback(t)};__eles=new Map;observe(t,s={}){this.__eles.has(t)||(this.__eles.set(t,s),t.addEventListener("scroll",this.__onscroll),ao(t,this.__onscrollend))}unobserve(t){this.__eles.has(t)&&(this.__eles.delete(t),t.removeEventListener("scroll",this.__onscroll),io(t,this.__onscrollend))}disconnect(){for(const t of[...this.__eles.keys()])this.unobserve(t)}}const ho=[{name:"--scrollbar-blur-color",syntax:"<color>",initialValue:"#0001"},{name:"--scrollbar-color",syntax:"<color>",initialValue:"#0003"},{name:"--scrollbar-hover-color",syntax:"<color>",initialValue:"#0006"},{name:"--scrollbar-size",syntax:"<length>",initialValue:"6px"}];for(const e of ho)CSS.registerProperty({...e,inherits:!0});const uo=K`@media (prefers-color-scheme:dark){:host{--scrollbar-blur-color:#fff1;--scrollbar-color:#fff3;--scrollbar-hover-color:#fff6}}:host(:not(:hover):not(:focus-within)){--scrollbar-color:var(--scrollbar-blur-color)}:host{display:block;overflow:auto;position:relative;overflow:scroll;scroll-behavior:smooth;container-type:size;container-type:size scroll-state;container-name:scrollview}.content{width:max-content;height:max-content;z-index:1;position:relative;transform:translateZ(0)}.scrollbar-sticky{position:sticky;z-index:2;width:0;height:0;top:0;left:0;pointer-events:none}.scrollbar-wrapper{width:var(--view-width);height:var(--view-height);position:relative}.scrollbar{scroll-behavior:auto;-ms-overflow-style:auto;position:absolute;pointer-events:all}.axis-y{overflow-x:clip;overflow-y:auto;right:0;top:0;width:var(--scrollbar-track-size);height:calc(100% - var(--scrollbar-track-size))}.axis-x{overflow-x:auto;overflow-y:clip;left:0;bottom:0;height:var(--scrollbar-track-size);width:calc(100% - var(--scrollbar-track-size))}`;(()=>{let e=[et("appn-scroll-view")],t,s=[],n,r=Q,i,o=[],a=[],c,u=[],T=[],d,g=[],w=[],A,L=[],R=[],U,C=[],E=[],k,$,I=[],b=[],P,S,p=[],v=[],D,M,B=[],G=[],x,f,y=[],_=[],N;var z=class extends r{static{n=this}static{const l=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:"scrollbar-size"})],c=[W({type:String})],d=[St()],A=[St()],U=[Dt()],$=[Dt()],S=[Dt()],M=[Dt()],f=[lr()],O(this,null,i,{kind:"accessor",name:"scrollbarSize",static:!1,private:!1,access:{has:m=>"scrollbarSize"in m,get:m=>m.scrollbarSize,set:(m,j)=>{m.scrollbarSize=j}},metadata:l},o,a),O(this,null,c,{kind:"accessor",name:"scrollbarColor",static:!1,private:!1,access:{has:m=>"scrollbarColor"in m,get:m=>m.scrollbarColor,set:(m,j)=>{m.scrollbarColor=j}},metadata:l},u,T),O(this,null,d,{kind:"accessor",name:"onscrollend",static:!1,private:!1,access:{has:m=>"onscrollend"in m,get:m=>m.onscrollend,set:(m,j)=>{m.onscrollend=j}},metadata:l},g,w),O(this,null,A,{kind:"accessor",name:"onscroll",static:!1,private:!1,access:{has:m=>"onscroll"in m,get:m=>m.onscroll,set:(m,j)=>{m.onscroll=j}},metadata:l},L,R),O(this,k={get:H(function(){return this.#r},"#contentWidth","get"),set:H(function(m){this.#r=m},"#contentWidth","set")},U,{kind:"accessor",name:"#contentWidth",static:!1,private:!0,access:{has:m=>#i in m,get:m=>m.#i,set:(m,j)=>{m.#i=j}},metadata:l},C,E),O(this,P={get:H(function(){return this.#a},"#contentHeight","get"),set:H(function(m){this.#a=m},"#contentHeight","set")},$,{kind:"accessor",name:"#contentHeight",static:!1,private:!0,access:{has:m=>#l in m,get:m=>m.#l,set:(m,j)=>{m.#l=j}},metadata:l},I,b),O(this,D={get:H(function(){return this.#c},"#hostWidth","get"),set:H(function(m){this.#c=m},"#hostWidth","set")},S,{kind:"accessor",name:"#hostWidth",static:!1,private:!0,access:{has:m=>#h in m,get:m=>m.#h,set:(m,j)=>{m.#h=j}},metadata:l},p,v),O(this,x={get:H(function(){return this.#o},"#hostHeight","get"),set:H(function(m){this.#o=m},"#hostHeight","set")},M,{kind:"accessor",name:"#hostHeight",static:!1,private:!0,access:{has:m=>#u in m,get:m=>m.#u,set:(m,j)=>{m.#u=j}},metadata:l},B,G),O(this,N={get:H(function(){return this.#f},"#scrollbarOverlayState","get"),set:H(function(m){this.#f=m},"#scrollbarOverlayState","set")},f,{kind:"accessor",name:"#scrollbarOverlayState",static:!1,private:!0,access:{has:m=>#p in m,get:m=>m.#p,set:(m,j)=>{m.#p=j}},metadata:l},y,_),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:l},null,s),z=n=t.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})}static styles=uo;#s=h(this,o,"auto");get scrollbarSize(){return this.#s}set scrollbarSize(l){this.#s=l}#t=(h(this,a),h(this,u,""));get scrollbarColor(){return this.#t}set scrollbarColor(l){this.#t=l}#n=(h(this,T),h(this,g,void 0));get onscrollend(){return this.#n}set onscrollend(l){this.#n=l}#e=(h(this,w),h(this,L,void 0));get onscroll(){return this.#e}set onscroll(l){this.#e=l}#r=(h(this,R),h(this,C,0));get#i(){return k.get.call(this)}set#i(l){return k.set.call(this,l)}#a=(h(this,E),h(this,I,0));get#l(){return P.get.call(this)}set#l(l){return P.set.call(this,l)}__contentSize=(h(this,b),new _e(this,l=>{const m=l.borderBoxSize[0];this.#i=m.inlineSize,this.#l=m.blockSize}));#c=h(this,p,0);get#h(){return D.get.call(this)}set#h(l){return D.set.call(this,l)}#o=(h(this,v),h(this,B,0));get#u(){return x.get.call(this)}set#u(l){return x.set.call(this,l)}__hostSize=(h(this,G),new _e(this,l=>{const m=l.borderBoxSize[0];this.#h=m.inlineSize,this.#u=m.blockSize}));__currentScrollElement;__canEffectScrollEvent(l){const m=this.__currentScrollElement==null||this.__currentScrollElement===l.target;return l.type==="scrollend"?this.__currentScrollElement=void 0:this.__currentScrollElement===void 0&&(this.__currentScrollElement=l.target),m}__axisYScroll=new Ge(this,l=>{this.__canEffectScrollEvent(l)&&this.scrollTo({top:l.target.scrollTop,behavior:"instant"})},{init:l=>{l.scrollTop=this.scrollTop}});__axisXScroll=new Ge(this,l=>{this.__canEffectScrollEvent(l)&&this.scrollTo({left:l.target.scrollLeft,behavior:"instant"})},{init:l=>{l.scrollLeft=this.scrollLeft}});__hostScroll=new Ge(this,l=>{if(this.__canEffectScrollEvent(l)){const m=this.__axisXScroll.bindingElement,j=this.__axisYScroll.bindingElement;if(m&&j){const q=l.target;j.scrollTop=q.scrollTop,m.scrollLeft=q.scrollLeft}}});__getScrollbarSizePx(){switch(this.scrollbarSize){case"auto":return 10;case"thin":return 6;case"none":return 0;default:return 10}}static __supportsCssScrollbar=CSS.supports("scrollbar-width: none")&&CSS.supports("scrollbar-color: currentColor transparent");#f=h(this,y,no());get#p(){return N.get.call(this)}set#p(l){return N.set.call(this,l)}get canOverlayScrollbar(){return this.#p.get()}render(){this.__hostSize.bindElement(this);const{canOverlayScrollbar:l}=this,m=[];if(l)this.__hostScroll.unbindElement(this);else{this.__hostScroll.bindElement(this);const j=this.__getScrollbarSizePx();if(m.push(K`:host{--scrollbar-size:${j}px;--view-width:${this.#h}px;--view-height:${this.#u}px}.mock-content{width:calc(${this.#i}px - var(--scrollbar-track-size));height:calc(${this.#l}px - var(--scrollbar-track-size))}`),z.__supportsCssScrollbar){const q=j+4;m.push(K`:host{scrollbar-width:none;--scrollbar-track-size:${q}px}.scrollbar{scrollbar-width:${tt(this.scrollbarSize)};scrollbar-color:var(--scrollbar-color) transparent;transition-property:scrollbar-color;transition-duration:250ms;transition-timing-function:ease-out}.scrollbar:hover{scrollbar-color:var(--scrollbar-hover-color) transparent}`)}else m.push(K`:host{--scrollbar-track-size:${j}px}:host::-webkit-scrollbar{width:0;height:0}.scrollbar::-webkit-scrollbar{width:${j}px;height:${j}px}.scrollbar::-webkit-scrollbar-thumb{background-color:var(--scrollbar-color);border-radius:${j}px;border:2px solid transparent}.scrollbar:hover::-webkit-scrollbar-thumb{background-color:var(--scrollbar-hover-color)}.scrollbar::-webkit-scrollbar-track{background-color:transparent}.scrollbar::-webkit-scrollbar-corner{background-color:transparent}`)}return Y`<style>${m}</style><div class="scrollbar-sticky">${ps(l?null:Y`<div class="scrollbar-wrapper"><div part="scrollbar axis-y" class="scrollbar axis-y" role="scrollbar" ${this.__axisYScroll.observe()}><div class="mock-content" .inert="${!0}"></div></div><div part="scrollbar axis-x" class="scrollbar axis-x" role="scrollbar" ${this.__axisXScroll.observe()}><div class="mock-content" .inert="${!0}"></div></div></div>`)}</div><div part="content" class="content" ${this.__contentSize.observe()}><slot></slot></div>`}constructor(){super(...arguments),h(this,_)}static{h(n,s)}};return z=n})();const fo=K`::slotted(appn-view){padding-left:var(--safe-area-inset-left,0);padding-right:var(--safe-area-inset-right,0)}`;for(const e of["header","footer"])CSS.registerProperty({name:`--page-${e}-height`,syntax:"<length-percentage>",inherits:!0,initialValue:"0px"});const po=[K`:host{display:contents}.layer{margin:0;border:0;padding:0;width:fit-content;height:fit-content;overflow:hidden;color:var(--color-canvas-text);background-color:var(--color-canvas);box-sizing:border-box;box-shadow:0 0 2px -1px var(--color-canvas-text)}:host([mode=block]) .layer{position:relative}:host([mode=screen]) .layer{width:100%;height:100%}:host([mode=screen]) .layer::backdrop{background-color:var(--color-canvas-text);background-color:color-mix(in hsl,var(--color-canvas-text),transparent 80%)}.root{display:grid;grid-template-columns:1fr;grid-template-rows:min-content 1fr min-content;gap:0 0;width:100%;height:100%}.scrollable{overflow:auto;scroll-behavior:smooth;scrollbar-width:none;scrollbar-color:var(--color-canvas-text) transparent;scrollbar-color:color-mix(in hsl,var(--color-canvas-text),transparent 75.3%) transparent;position:absolute}.scrollable::after{content:' ';overflow:scroll;position:absolute;width:10px;height:100%;right:0;top:0}.header{width:100cqw;grid-area:1/1/2/2;z-index:3;position:sticky;top:0}.body{width:100cqw;grid-area:1/1/4/2;z-index:1;box-sizing:border-box}.footer{width:100cqw;grid-area:3/1/4/2;z-index:2;position:sticky;bottom:0}::slotted(*){transform:translateZ(0)}`,fo];/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */(()=>{let e=[et("appn-page")],t,s=[],n,r=Q,i,o=[],a=[],c,u,T=[],d=[],g,w,A=[],L=[],R,U=[],C=[],E,k=[],$=[],I,b=[],P=[],S,p=[],v=[],D,M=[],B=[],G,x=[],f=[],y,_=[],N=[];return class extends r{static{n=this}static{const z=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[Dt()],u=[Dt()],w=[W({type:Boolean,reflect:!0,attribute:!0})],R=[W({type:String,reflect:!0,attribute:!0})],E=[zt({context:be,subscribe:!0})],I=[W({type:String,reflect:!0,attribute:!0})],S=[W({type:String,reflect:!0,attribute:!0})],D=[W({type:String,reflect:!0,attribute:!0})],G=[zt({context:Wt,subscribe:!0})],y=[St()],O(this,c={get:H(function(){return this.#s},"#headerHeight","get"),set:H(function(l){this.#s=l},"#headerHeight","set")},i,{kind:"accessor",name:"#headerHeight",static:!1,private:!0,access:{has:l=>#t in l,get:l=>l.#t,set:(l,m)=>{l.#t=m}},metadata:z},o,a),O(this,g={get:H(function(){return this.#n},"#footerHeight","get"),set:H(function(l){this.#n=l},"#footerHeight","set")},u,{kind:"accessor",name:"#footerHeight",static:!1,private:!0,access:{has:l=>#e in l,get:l=>l.#e,set:(l,m)=>{l.#e=m}},metadata:z},T,d),O(this,null,w,{kind:"accessor",name:"open",static:!1,private:!1,access:{has:l=>"open"in l,get:l=>l.open,set:(l,m)=>{l.open=m}},metadata:z},A,L),O(this,null,R,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:l=>"mode"in l,get:l=>l.mode,set:(l,m)=>{l.mode=m}},metadata:z},U,C),O(this,null,E,{kind:"accessor",name:"theme",static:!1,private:!1,access:{has:l=>"theme"in l,get:l=>l.theme,set:(l,m)=>{l.theme=m}},metadata:z},k,$),O(this,null,I,{kind:"accessor",name:"pathname",static:!1,private:!1,access:{has:l=>"pathname"in l,get:l=>l.pathname,set:(l,m)=>{l.pathname=m}},metadata:z},b,P),O(this,null,S,{kind:"accessor",name:"search",static:!1,private:!1,access:{has:l=>"search"in l,get:l=>l.search,set:(l,m)=>{l.search=m}},metadata:z},p,v),O(this,null,D,{kind:"accessor",name:"hash",static:!1,private:!1,access:{has:l=>"hash"in l,get:l=>l.hash,set:(l,m)=>{l.hash=m}},metadata:z},M,B),O(this,null,G,{kind:"accessor",name:"navigationEntry",static:!1,private:!1,access:{has:l=>"navigationEntry"in l,get:l=>l.navigationEntry,set:(l,m)=>{l.navigationEntry=m}},metadata:z},x,f),O(this,null,y,{kind:"accessor",name:"onactivated",static:!1,private:!1,access:{has:l=>"onactivated"in l,get:l=>l.onactivated,set:(l,m)=>{l.onactivated=m}},metadata:z},_,N),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:z},null,s),n=t.value,z&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:z})}static __all=Object.freeze([]);static get all(){return this.__all}static styles=po;#s=h(this,o,0);get#t(){return c.get.call(this)}set#t(z){return c.set.call(this,z)}__headerSize=(h(this,a),new _e(this,z=>{this.#t=z.borderBoxSize?.[0]?.blockSize??z.contentRect.height},{box:"border-box"}));#n=h(this,T,0);get#e(){return g.get.call(this)}set#e(z){return g.set.call(this,z)}__footerSize=(h(this,d),new _e(this,z=>{this.#e=z.borderBoxSize?.[0]?.blockSize??z.contentRect.height},{box:"border-box"}));#r=h(this,A,!0);get open(){return this.#r}set open(z){this.#r=z}#i=(h(this,L),h(this,U,"screen"));get mode(){return this.#i}set mode(z){this.#i=z}#a=(h(this,C),h(this,k,void 0));get theme(){return this.#a}set theme(z){this.#a=z}#l=(h(this,$),h(this,b,"*"));get pathname(){return this.#l}set pathname(z){this.#l=z}#c=(h(this,P),h(this,p,"*"));get search(){return this.#c}set search(z){this.#c=z}#h=(h(this,v),h(this,M,"*"));get hash(){return this.#h}set hash(z){this.#h=z}#o=(h(this,B),h(this,x,null));get navigationEntry(){return this.#o}set navigationEntry(z){this.#o=z}#u=(h(this,f),h(this,_,void 0));get onactivated(){return this.#u}set onactivated(z){this.#u=z}__activatedNavigationEntry=h(this,N);updated(z){super.updated(z);const{navigationEntry:l}=this;l!=this.__activatedNavigationEntry&&(this.__activatedNavigationEntry=l,l&&(console.log("activated",l),this.dispatchEvent(new go(l))))}render(){return this.inert=!this.open,Y`<style>${K`:host{--page-header-height:${this.#t}px;--page-footer-height:${this.#e}px}`}</style><div class="layer" part="layer"><appn-scroll-view class="root" part="root"><div class="header stuck-top" part="header" ${this.__headerSize.observe()}><slot name="header"></slot></div><div class="body" part="body"><slot></slot></div><div class="footer stuck-bottom" part="footer" ${this.__footerSize.observe()}><slot name="footer"></slot></div></appn-scroll-view></div>`}static{h(n,s)}},n})();class go extends CustomEvent{constructor(t){super("activated",{detail:t})}}const mo=new Map,vo=e=>yt(mo,e,()=>{const t=matchMedia(e),s=new bt.State(t.matches);return t.addEventListener("change",n=>{s.set(n.matches)}),s}),yo=Ct(()=>Qa(vo("(prefers-color-scheme: dark)"),t=>t?"dark":"light")),$t={name:"unstyled-light",class:["unstyled","light"],gridUnit:"4px",colors:{Canvas:"#ffffff",CanvasText:"#000000",...CSS.supports("color: AccentColor")?{Accent:"AccentColor",AccentText:"AccentColorText"}:{Accent:"#2e75ff",AccentText:"#ffffff"},Red:"red",Orange:"orange",Yellow:"yellow",Green:"green",Mint:"darkturquoise",Teal:"teal",Cyan:"cyan",Blue:"blue",Indigo:"indigo",Purple:"purple",Pink:"pink",Brown:"brown"},safeAreaInset:{top:"env(safe-area-inset-top)",right:"env(safe-area-inset-right)",bottom:"env(safe-area-inset-bottom)",left:"env(safe-area-inset-left)"},font:{style:"initial",variantLigatures:"initial",variantCaps:"initial",variantNumeric:"initial",variantEastAsian:"initial",variantAlternates:"initial",variantPosition:"initial",variantEmoji:"initial",weight:"initial",stretch:"initial",size:"initial",family:"initial",opticalSizing:"initial",sizeAdjust:"initial",kerning:"initial",featureSettings:"initial",variationSettings:"initial",lineHeight:"initial"},transition:{common:{enter:{ease:"ease-out",duration:"0.28s"},leave:{ease:"ease-in",duration:"0.2s"}},page:{enter:{ease:"cubic-bezier(0.36,0.66,0.04,1)",duration:"0.28s"},leave:{ease:"cubic-bezier(0.47,0,0.745,0.715)",duration:"0.2s"}},toast:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.4s"},actionSheet:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.4s"},menu:{enter:{ease:"cubic-bezier(0.0,0.0,0.2,1)",duration:"0.28s"},leave:{ease:"cubic-bezier(0.4, 0, 0.6, 1)",duration:"0.2s"}}}},fr=Jt($t,{name:"unstyled-dark",class:["unstyled","dark"],colors:{Canvas:"#000000",CanvasText:"#ffffff"}}),_o=[{name:"--font-weight",syntax:"<integer>",initialValue:"400"},{name:"--font-style",syntax:"*",initialValue:"normal"},{name:"--font-variant-ligatures",syntax:"*",initialValue:"normal"},{name:"--font-variant-caps",syntax:"*",initialValue:"normal"},{name:"--font-variant-numeric",syntax:"*",initialValue:"normal"},{name:"--font-variant-east-asian",syntax:"*",initialValue:"normal"},{name:"--font-variant-alternates",syntax:"*",initialValue:"normal"},{name:"--font-variant-position",syntax:"normal | sub | super",initialValue:"normal"},{name:"--font-variant-emoji",syntax:"normal | text | emoji | unicode",initialValue:"normal"},{name:"--font-stretch",syntax:"<percentage> | ultra-condensed | extra-condensed | condensed | semi-condensed | normal | semi-expanded | expanded | extra-expanded | ultra-expanded",initialValue:"normal"},{name:"--font-size",syntax:"<length> | <percentage> | large | medium | small | x-large | x-small | xx-large | xx-small | smaller | larger",initialValue:"medium"},{name:"--font-family",syntax:"*",initialValue:"sans-serif"},{name:"--font-optical-sizing",syntax:"auto | none",initialValue:"auto"},{name:"--font-size-adjust",syntax:"<number> | none",initialValue:"none"},{name:"--font-kerning",syntax:"auto | normal | none",initialValue:"auto"},{name:"--font-feature-settings",syntax:"*",initialValue:"normal"},{name:"--font-variation-settings",syntax:"*",initialValue:"normal"},{name:"--line-height",syntax:"normal | <number> | <length> | <percentage>",initialValue:"normal"}];for(const e of _o)CSS.registerProperty({...e,inherits:!0});["dark","light"].forEach((e,t)=>{CSS.registerProperty({name:`--color-scheme-${e}`,syntax:"<number>",inherits:!0,initialValue:`${t}`})});for(const e of Qt($t.colors))CSS.registerProperty({name:`--color-${e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()).replace(/^-/,"")}`,syntax:"<color>",inherits:!0,initialValue:$t.colors[e]});for(const e of Qt($t.safeAreaInset))CSS.registerProperty({name:`--safe-area-inset-${e}`,syntax:"<length-percentage>",inherits:!0,initialValue:"0px"});CSS.registerProperty({name:"--grid-unit",syntax:"<length>",inherits:!0,initialValue:$t.gridUnit});CSS.registerProperty({name:"--dpx",syntax:"<length>",inherits:!0,initialValue:`${1/window.devicePixelRatio}px`});const bo=[K`:host{display:contents}::slotted(*){font-style:var(--font-style);font-variant-ligatures:var(--font-variant-ligatures);font-variant-caps:var(--font-variant-caps);font-variant-numeric:var(--font-variant-numeric);font-variant-east-asian:var(--font-variant-east-asian);font-variant-alternates:var(--font-variant-alternates);font-variant-position:var(--font-variant-position);font-variant-emoji:var(--font-variant-emoji);font-weight:var(--font-weight);font-stretch:var(--font-stretch);font-size:var(--font-size);font-family:var(--font-family);font-optical-sizing:var(--font-optical-sizing);font-size-adjust:var(--font-size-adjust);font-kerning:var(--font-kerning);font-feature-settings:var(--font-feature-settings);font-variation-settings:var(--font-variation-settings);line-height:var(--line-height);--font:var(--font-style) var(--font-variant-ligatures) var(--font-variant-caps) var(--font-variant-numeric) var(--font-variant-east-asian) var(--font-weight) var(--font-stretch) var(--font-size)/var(--line-height) var(--font-family);accent-color:var(--color-accent)}:host([data-color-scheme=light]){--color-scheme-light:1;--color-scheme-dark:0}:host([data-color-scheme=dark]){--color-scheme-light:0;--color-scheme-dark:1}`],pr={gridUnit:"8px",safeAreaInset:{bottom:"max(env(safe-area-inset-left, var(--grid-unit)), var(--grid-unit))",left:"max(env(safe-area-inset-left, var(--grid-unit)), var(--grid-unit))"},font:{family:["-apple-system","BlinkMacSystemFont","'Segoe UI'","'Helvetica Neue'","'Noto Sans'","'PingFang SC'","'HarmonyOS Sans SC'","'HONOR Sans SC'","MiSans","'Source Han Sans SC'","'Hiragino Sans GB'","'Microsoft YaHei'","sans-serif"].join(", ")},transition:{common:{enter:{ease:"ease-out",duration:"0.3s"},leave:{ease:"ease-in",duration:"0.3s"}},page:{enter:{ease:"cubic-bezier(0.32,0.72,0,1)",duration:"0.54s"},leave:{ease:"cubic-bezier(0.32,0.72,0,1)",duration:"0.54s"}},toast:{enter:{ease:"cubic-bezier(.155,1.105,.295,1.12)",duration:"0.4s"},leave:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.3s"}},actionSheet:{enter:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.4s"},leave:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.45s"}},menu:{enter:{ease:"cubic-bezier(0.32,0.72,0,1)",duration:"0.3s"},leave:{ease:"cubic-bezier(1, 0, 0.68, 0.28)",duration:"0.45s"}}}},Js={Red:["#ff3b30","#ff453a","#d70015","#ff6961"],Orange:["#ff9500","#ff9f0a","#c93400","#ffb340"],Yellow:["#ffcc00","#ffd60a","#b25000","#ffd426"],Green:["#34c759","#30d158","#248a3d","#30db5b"],Mint:["#00c7be","#66d4cf","#0c817b","#66d4cf"],Teal:["#30b0c7","#40c8e0","#008299","#5de6ff"],Cyan:["#32ade6","#64d2ff","#0071a4","#70d7ff"],Blue:["#007aff","#0a84ff","#0040dd","#409cff"],Indigo:["#5856d6","#5e5ce6","#3634a3","#7d7aff"],Purple:["#af52de","#bf5af2","#8944ab","#da8fff"],Pink:["#ff2d55","#ff375f","#d30f45","#ff6482"],Brown:["#a5845e","#ac8e68","#7f6545","#b59469"]},ke=e=>{const t={};for(const s of Qt(Js))t[s]=Js[s][e];return t},gr=Jt($t,pr,{name:"ios-light",class:["ios","light"],colors:{CanvasText:"#1d1d1f",...ke(0)}}),mr=Jt(fr,pr,{name:"ios-dark",class:["ios","dark"],colors:{Canvas:"#1c1c1e",...ke(1)}}),wo=Jt(gr,{name:"ios-light-accessible",class:["ios","light","accessible"],colors:{...ke(2)}}),Eo=Jt(mr,{name:"ios-dark-accessible",class:["ios","dark","accessible"],colors:{...ke(3)}});/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */ln($t,fr,gr,mr,wo,Eo);(()=>{let e=[et("appn-theme-provider")],t,s=[],n,r=Q,i,o=[],a=[],c,u=[],T=[],d,g=[],w=[],A,L,R=[],U=[],C,E=[],k=[],$;return class extends r{static{n=this}static{const I=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:!0})],c=[W({type:String,reflect:!0,attribute:"color-scheme"})],d=[lr()],L=[W({type:Boolean,reflect:!0,attribute:!0})],C=[ms({context:be})],O(this,null,i,{kind:"accessor",name:"theme",static:!1,private:!1,access:{has:b=>"theme"in b,get:b=>b.theme,set:(b,P)=>{b.theme=P}},metadata:I},o,a),O(this,null,c,{kind:"accessor",name:"colorScheme",static:!1,private:!1,access:{has:b=>"colorScheme"in b,get:b=>b.colorScheme,set:(b,P)=>{b.colorScheme=P}},metadata:I},u,T),O(this,A={get:H(function(){return this.#n},"#colorSchemeState","get"),set:H(function(b){this.#n=b},"#colorSchemeState","set")},d,{kind:"accessor",name:"#colorSchemeState",static:!1,private:!0,access:{has:b=>#e in b,get:b=>b.#e,set:(b,P)=>{b.#e=P}},metadata:I},g,w),O(this,null,L,{kind:"accessor",name:"accessible",static:!1,private:!1,access:{has:b=>"accessible"in b,get:b=>b.accessible,set:(b,P)=>{b.accessible=P}},metadata:I},R,U),O(this,$={get:H(function(){return this.#i},"#themeContext","get"),set:H(function(b){this.#i=b},"#themeContext","set")},C,{kind:"accessor",name:"#themeContext",static:!1,private:!0,access:{has:b=>#a in b,get:b=>b.#a,set:(b,P)=>{b.#a=P}},metadata:I},E,k),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:I},null,s),n=t.value,I&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:I})}static{const I=document.createElement("link");I.rel="stylesheet",I.href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap",document.head.appendChild(I)}static registerTheme=ln;static findTheme=ks;static get allThemes(){return Ir()}static styles=bo;#s=h(this,o,"unstyled");get theme(){return this.#s}set theme(I){this.#s=I}#t=(h(this,a),h(this,u,"auto"));get colorScheme(){return this.#t}set colorScheme(I){this.#t=I}#n=(h(this,T),h(this,g,yo()));get#e(){return A.get.call(this)}set#e(I){return A.set.call(this,I)}get __colorSchemeResult(){return this.colorScheme==="auto"?this.#e.get():this.colorScheme}get isDark(){return this.__colorSchemeResult==="dark"}#r=(h(this,w),h(this,R,!1));get accessible(){return this.#r}set accessible(I){this.#r=I}__findThemeContext=(h(this,U),Ct(I=>{const b=[...this.theme.trim().split(/[\s,]+/).filter(Boolean),I];return this.accessible&&b.push("accessible"),ks(b)},I=>this.theme+I+this.accessible));#i=h(this,E,this.__findThemeContext(this.__colorSchemeResult)??$t);get#a(){return $.get.call(this)}set#a(I){return $.set.call(this,I)}get themeContext(){return this.#a}__themeStyleSheet=(h(this,k),Ct(I=>{const b=new CSSStyleSheet;return b.replaceSync(I),b},I=>I));render(){const I=this.isDark?"dark":"light";this.dataset.colorScheme=I;const b=this.#a=this.__findThemeContext(I)??this.#a;this.dataset.theme=b.name;const{font:P,colors:S,safeAreaInset:p,transition:v}=b;let D="";for(const f of Qt(v)){const y=v[f],_="enter"in y?y.enter:y,N="leave"in y?y.leave:y;D+=`--${f}-enter-ease:${_.ease};--${f}-enter-duration:${_.duration};--${f}-leave-ease:${N};--${f}-leave-duration:${N.duration};`}const M=this.tagName;D&&(D=`${M}{${D}}`);const B=String.raw,G=this.__themeStyleSheet(D+B`${M}{--font-style:${P.style};--font-variant-ligatures:${P.variantLigatures};--font-variant-caps:${P.variantCaps};--font-variant-numeric:${P.variantNumeric};--font-variant-east-asian:${P.variantEastAsian};--font-variant-alternates:${P.variantAlternates};--font-variant-position:${P.variantPosition};--font-variant-emoji:${P.variantEmoji};--font-weight:${P.weight};--font-stretch:${P.stretch};--font-size:${P.size};--font-family:${P.family};--font-optical-sizing:${P.opticalSizing};--font-size-adjust:${P.sizeAdjust};--font-kerning:${P.kerning};--font-feature-settings:${P.featureSettings};--font-variation-settings:${P.variationSettings};--line-height:${P.lineHeight};--color-canvas:${S.Canvas};--color-canvas-text:${S.CanvasText};--color-accent:${S.Accent};--color-accent-text:${S.AccentText};--color-red:${S.Red};--color-orange:${S.Orange};--color-yellow:${S.Yellow};--color-green:${S.Green};--color-mint:${S.Mint};--color-teal:${S.Teal};--color-cyan:${S.Cyan};--color-blue:${S.Blue};--color-indigo:${S.Indigo};--color-purple:${S.Purple};--color-pink:${S.Pink};--color-brown:${S.Brown};--grid-unit:${b.gridUnit};--grid-unit-0.5:calc(var(--grid-unit) / 2);--grid-unit-2:calc(var(--grid-unit) * 2);--grid-unit-3:calc(var(--grid-unit) * 3);--grid-unit-4:calc(var(--grid-unit) * 4);--safe-area-inset-top:${p.top};--safe-area-inset-bottom:${p.bottom};--safe-area-inset-left:${p.left};--safe-area-inset-right:${p.right}}`);return Ar(this.shadowRoot.host).set("appn-theme",G),Y`<slot></slot>`}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function xo(e,t){return(s,n,r)=>{const i=o=>o.renderRoot?.querySelector(e)??null;return mn(s,n,{get(){return i(this)}})}}const So=async(e,t=e?.currentEntry?.id)=>{if(e==null||t==null)return;const s=await e.entries(),n=s.findIndex(r=>r.id===t);if(n>0)return s.slice(0,n)},vr=e=>{const t=new le(e,{context:gs}),s=new le(e,{context:Wt,subscribe:!0});return{task:new un(e,{task:([r,i])=>So(r,i),args:()=>[t.value,s.value?.id]}),navConsumer:t,navigationEntryConsumer:s,get nav(){return t.value},get navigationEntry(){return s.value}}};CSS.registerProperty({name:"--title-clamp",syntax:"<integer>",inherits:!1,initialValue:"1"});const ko=K`:host{display:flex;flex-direction:row;align-items:baseline;padding-left:calc(var(--safe-area-inset-left,0px) * .5);padding-right:calc(var(--safe-area-inset-right,0px) * .5)}.leading{flex-shrink:0;min-width:48px;user-select:none;display:flex;align-self:center}.title{flex:1;flex-shrink:0;overflow:hidden;text-overflow:ellipsis;text-align:center;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--title-clamp,1);height:2em;line-height:1.8}.actions{flex-shrink:0;min-width:48px;user-select:none;display:flex;align-self:center}`,To=K`:host{anchor-name:--leading;display:inline-flex;height:100%;width:100%}.back-button::part(link){width:100%}#nav-history{position-anchor:--leading;left:anchor(left);top:anchor(top);margin:0;backdrop-filter:blur(20px) contrast(0.5) brightness(max(var(--_light-brightness),var(--_dark-brightness)));width:max-content;max-height:calc(100cqh - var(--safe-area-inset-top) - var(--safe-area-inset-bottom));min-width:60cqw;padding:0;flex-direction:column;border-radius:var(--grid-unit);background:unset;border:unset;color:var(--color-canvas-text);box-shadow:0 0 calc(var(--grid-unit) * 4) 0 color-mix(in srgb,var(--color-canvas-text),transparent 80%);transition-property:all;transition-behavior:allow-discrete;transition-duration:var(--menu-leave-duration);transition-timing-function:var(--menu-leave-ease);transform-origin:top left}#nav-history li{list-style:none;transition-duration:var(--common-leave-duration);transition-timing-function:var(--common-leave-ease)}#nav-history li:hover{transition-duration:var(--common-enter-duration);transition-timing-function:var(--common-enter-ease);background-color:color-mix(in srgb,var(--color-canvas),transparent 50%)}#nav-history appn-link::part(link){padding:var(--grid-unit) calc(var(--grid-unit) * 1.5);width:100%}#nav-history hr{all:unset;height:var(--dpx);width:100%;background-color:var(--color-canvas-text);opacity:.2}#nav-history hr:last-child{display:none}#nav-history:popover-open{display:flex;transition-duration:var(--menu-enter-duration);transition-timing-function:var(--menu-enter-ease)}#nav-history:not(:popover-open){scale:0.5;opacity:0;box-shadow:0 0 0 0 transparent;pointer-events:none}`,Co=K`:host{font-variation-settings:'wght' 600}`;/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */const yr=new WeakMap,_r=e=>e?yr.get(e):void 0,$o=(e,t)=>{e&&yr.set(e,t)};(()=>{let e=[et("appn-top-bar")],t,s=[],n,r=Q;return class extends r{static{n=this}static{const i=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;O(null,t={value:n},e,{kind:"class",name:n.name,metadata:i},null,s),n=t.value,i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}static styles=ko;render(){return Y`<div class="leading"><slot name="start"></slot></div><div class="title"><slot></slot></div><div class="actions"><slot name="end"></slot></div>`}static{h(n,s)}},n})();(()=>{let e=[et("appn-nav-back")],t,s=[],n,r=Q,i,o=[],a=[],c;return class extends r{static{n=this}static{const u=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[xo("#nav-history")],O(this,c={get:H(function(){return this.#n},"#navHistoryEle","get"),set:H(function(T){this.#n=T},"#navHistoryEle","set")},i,{kind:"accessor",name:"#navHistoryEle",static:!1,private:!0,access:{has:T=>#e in T,get:T=>T.#e,set:(T,d)=>{T.#e=d}},metadata:u},o,a),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:u},null,s),n=t.value,u&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:u})}static styles=To;#s=vr(this);get#t(){return this.#s}set#t(u){this.#s=u}#n=h(this,o,void 0);get#e(){return c.get.call(this)}set#e(u){return c.set.call(this,u)}firstUpdated(u){super.firstUpdated(u),this.#t.navigationEntry&&(this.dataset.sharedElement="appn-nav-back",this.dataset.sharedElementNewStyle=this.dataset.sharedElementOldStyle="width: fit-content; height: 100%;")}render(){return Y`${this.#t.task.render({complete:u=>{if(!(!u||u.length===0))return Y`<appn-link class="back-button" mode="back" type="text-button" @contextmenu="${T=>{T.preventDefault(),this.#e?.showPopover()}}"><appn-icon name="chevron.backward" widget="bold"></appn-icon><slot></slot></appn-link>${dn(u.length>0,()=>Y`<menu popover id="nav-history">${u.reverse().map(T=>Y`<li><appn-link mode="back" to-key="${T.key}" type="text-button" actionType="pointerup" @navigate="${()=>this.#e?.hidePopover()}">${_r(T)}</appn-link></li><hr>`)}</menu>`)}`}})}<css-starting-style selector="#nav-history:popover-open" cssText="scale:0.5;opacity:0.5;box-shadow:0 0 0 0 transparent;"></css-starting-style>`}constructor(){super(...arguments),h(this,a)}static{h(n,s)}},n})();(()=>{let e=[et("appn-nav-back-text")],t,s=[],n,r=Q;return class extends r{static{n=this}static{const i=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;O(null,t={value:n},e,{kind:"class",name:n.name,metadata:i},null,s),n=t.value,i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),h(n,s)}#s=vr(this);get#t(){return this.#s}set#t(i){this.#s=i}firstUpdated(i){super.firstUpdated(i);const o=this.#t.navigationEntry;if(o){const a=o.index-1;this.dataset.sharedElement=`appn-title-${a}`,this.dataset.sharedElementNewStyle=this.dataset.sharedElementOldStyle="width:fit-content;"}}render(){return Y`<slot>${this.#t.task?.render({complete:i=>!i||i.length===0?void 0:_r(i.at(-1))})}</slot>`}},n})();(()=>{let e=[et("appn-nav-title")],t,s=[],n,r=Q,i,o=[],a=[],c,u=[],T=[],d,g,w=[],A=[];return class extends r{static{n=this}static{const L=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:Number,reflect:!0,attribute:!0})],c=[zt({context:Wt,subscribe:!0})],g=[W({type:String,reflect:!0,attribute:!0})],O(this,null,i,{kind:"accessor",name:"lines",static:!1,private:!1,access:{has:R=>"lines"in R,get:R=>R.lines,set:(R,U)=>{R.lines=U}},metadata:L},o,a),O(this,d={get:H(function(){return this.#t},"#navigationEntry","get"),set:H(function(R){this.#t=R},"#navigationEntry","set")},c,{kind:"accessor",name:"#navigationEntry",static:!1,private:!0,access:{has:R=>#n in R,get:R=>R.#n,set:(R,U)=>{R.#n=U}},metadata:L},u,T),O(this,null,g,{kind:"accessor",name:"pageTitle",static:!1,private:!1,access:{has:R=>"pageTitle"in R,get:R=>R.pageTitle,set:(R,U)=>{R.pageTitle=U}},metadata:L},w,A),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:L},null,s),n=t.value,L&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:L})}static styles=Co;#s=h(this,o,1);get lines(){return this.#s}set lines(L){this.#s=L}#t=(h(this,a),h(this,u,null));get#n(){return d.get.call(this)}set#n(L){return d.set.call(this,L)}#e=(h(this,T),h(this,w,""));get pageTitle(){return this.#e}set pageTitle(L){this.#e=L}firstUpdated(L){super.firstUpdated(L);const R=this.#n;R&&(this.dataset.sharedElement=`appn-title-${R.index}`)}render(){return $o(this.#n,this.pageTitle),Y`<slot>${this.pageTitle}</slot><style>${K`:host{--title-clamp:${this.lines}}`}</style>`}constructor(){super(...arguments),h(this,A)}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */(()=>{let e=[et("appn-view")],t,s=[],n,r=Q;return class extends r{static{n=this}static{const i=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;O(null,t={value:n},e,{kind:"class",name:n.name,metadata:i},null,s),n=t.value,i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}static styles=K`:host{display:flex;flex-direction:column;align-items:flex-start;gap:var(--grid-unit)}`;render(){return Y`<slot></slot>`}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */(()=>{let e=[et("my-element")],t,s=[],n,r=Q,i,o=[],a=[],c,u=[],T=[];return class extends r{static{n=this}static{const d=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W()],c=[W({type:Number})],O(this,null,i,{kind:"accessor",name:"name",static:!1,private:!1,access:{has:g=>"name"in g,get:g=>g.name,set:(g,w)=>{g.name=w}},metadata:d},o,a),O(this,null,c,{kind:"accessor",name:"count",static:!1,private:!1,access:{has:g=>"count"in g,get:g=>g.count,set:(g,w)=>{g.count=w}},metadata:d},u,T),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:d},null,s),n=t.value,d&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}static styles=K`:host{display:block;border:solid 1px gray;padding:16px;max-width:800px}`;#s=h(this,o,"World");get name(){return this.#s}set name(d){this.#s=d}#t=(h(this,a),h(this,u,0));get count(){return this.#t}set count(d){this.#t=d}render(){return Y`<h1>${this.sayHello(this.name)}!</h1><button @click="${this._onClick}" part="button">Click Count: ${this.count}</button><slot></slot>`}_onClick(){this.count++,this.dispatchEvent(new CustomEvent("count-changed"))}sayHello(d){return`Hello, ${d}`}constructor(){super(...arguments),h(this,T)}static{h(n,s)}},n})();
