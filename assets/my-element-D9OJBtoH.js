import{i as Y,s as mt,r as tt,_ as O,a as H,t as et,b as h,x as K,f as It,z as ct,c as Te,n as W,d as _r,B as br,E as Js,e as Qs,Z as wr,g as Ce,h as Er,j as tn,T as en}from"./css-color-mix-D1rePG_O.js";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let sn=class extends Event{constructor(t,s,n,r){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.contextTarget=s,this.callback=n,this.subscribe=r??!1}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let oe=class{constructor(t,s,n,r){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(i,o)=>{this.unsubscribe&&(this.unsubscribe!==o&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=i,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(i,o)),this.unsubscribe=o},this.host=t,s.context!==void 0){const i=s;this.context=i.context,this.callback=i.callback,this.subscribe=i.subscribe??!1}else this.context=s,this.callback=n,this.subscribe=r??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new sn(this.context,this.host,this.t,this.subscribe))}};/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function $t({context:e,subscribe:t}){return(s,n)=>{typeof n=="object"?n.addInitializer(function(){new oe(this,{context:e,callback:r=>{s.set.call(this,r)},subscribe:t})}):s.constructor.addInitializer(r=>{new oe(r,{context:e,callback:i=>{r[n]=i},subscribe:t})})}}const xr={setProperty:e=>e==null||e===""||/^auto$/i.test(e)?"auto":!!e,fromAttribute:e=>e===null||e==="auto"||/^auto$/i.test(e)?"auto":!/^false$/i.test(e),toAttribute:e=>{switch(e){case!0:case!1:return e.toString();default:return"auto"}}},nn=()=>mt(xr),rn=Y`:host{background-color:var(--color-canvas)}:host([data-translucent=yes]){background-color:transparent;--_light-brightness:calc(1.5 * var(--color-scheme-light, 1));--_dark-brightness:calc(0.5 * var(--color-scheme-dark, 0));backdrop-filter:blur(20px) contrast(0.5) brightness(max(var(--_light-brightness),var(--_dark-brightness)))}`,vt=(e,t,s)=>{let n;return e.has(t)?n=e.get(t):(n=s(t,e),e.set(t,n)),n},an=(e,t)=>{let s;return e.has(t)&&(s=e.get(t),e.delete(t)),s},Sr=e=>kr(e,()=>{}),kr=(e,t)=>{for(const s of e)return s;return t()},Tr=(e,t)=>{const s=[];let n=0;for(const r of e){const i=t(r,n++,e);i!=null&&s.push(i)}return s},xs=e=>{if(typeof e=="object"&&e!==null){if(typeof Object.getPrototypeOf=="function"){const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}return Object.prototype.toString.call(e)==="[object Object]"}return!1},ut=(...e)=>e.reduce((t,s)=>{if(Array.isArray(s))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(s).forEach(n=>{["__proto__","constructor","prototype"].includes(n)||(Array.isArray(t[n])&&Array.isArray(s[n])?t[n]=ut.options.mergeArrays?ut.options.uniqueArrayItems?Array.from(new Set(t[n].concat(s[n]))):[...t[n],...s[n]]:s[n]:xs(t[n])&&xs(s[n])?t[n]=ut(t[n],s[n]):t[n]=s[n]===void 0?ut.options.allowUndefinedOverrides?s[n]:t[n]:s[n])}),t},{}),Ke={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};ut.options=Ke;ut.withOptions=(e,...t)=>{ut.options=Object.assign(Object.assign({},Ke),e);const s=ut(...t);return ut.options=Ke,s};const Zt=(e,...t)=>ut.withOptions({mergeArrays:!1,allowUndefinedOverrides:!1},e,...t),_e=Symbol("appn-theme"),ds=new Map,Cr=()=>[...new Set([...ds.values()].map(e=>[...e]).flat())],on=(...e)=>{for(const t of e)for(const s of t.class)vt(ds,s,()=>new Set).add(t)},Ss=e=>{let t;for(const s of e){const n=ds.get(s);if(n==null||n.size===0)continue;if(t==null){t=n;continue}const r=n.intersection(t);r.size!==0&&(t=r)}return t?Sr(t):void 0};/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */(()=>{let e=[et("appn-footer")],t,s=[],n,r=tt,i,o=[],a=[],l,u,T=[],d=[];return class extends r{static{n=this}static{const p=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[$t({context:_e,subscribe:!0})],u=[nn()],O(this,l={get:H(function(){return this.#s},"#theme","get"),set:H(function(E){this.#s=E},"#theme","set")},i,{kind:"accessor",name:"#theme",static:!1,private:!0,access:{has:E=>#t in E,get:E=>E.#t,set:(E,A)=>{E.#t=A}},metadata:p},o,a),O(this,null,u,{kind:"accessor",name:"translucent",static:!1,private:!1,access:{has:E=>"translucent"in E,get:E=>E.translucent,set:(E,A)=>{E.translucent=A}},metadata:p},T,d),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:p},null,s),n=t.value,p&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p})}#s=h(this,o,void 0);get#t(){return l.get.call(this)}set#t(p){return l.set.call(this,p)}#n=(h(this,a),h(this,T,"auto"));get translucent(){return this.#n}set translucent(p){this.#n=p}static styles=[Y`:host{display:flex;flex-direction:column;padding-bottom:var(--safe-area-inset-bottom,0)}`,rn];render(){const p=(this.translucent=="auto"&&this.#t?.class.includes("ios"))??!1;return this.dataset.translucent=p?"yes":"no",K`<slot></slot>`}constructor(){super(...arguments),h(this,d)}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */(()=>{let e=[et("appn-header")],t,s=[],n,r=tt,i,o=[],a=[],l,u,T=[],d=[];return class extends r{static{n=this}static{const p=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[$t({context:_e,subscribe:!0})],u=[nn()],O(this,l={get:H(function(){return this.#s},"#theme","get"),set:H(function(E){this.#s=E},"#theme","set")},i,{kind:"accessor",name:"#theme",static:!1,private:!0,access:{has:E=>#t in E,get:E=>E.#t,set:(E,A)=>{E.#t=A}},metadata:p},o,a),O(this,null,u,{kind:"accessor",name:"translucent",static:!1,private:!1,access:{has:E=>"translucent"in E,get:E=>E.translucent,set:(E,A)=>{E.translucent=A}},metadata:p},T,d),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:p},null,s),n=t.value,p&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p})}#s=h(this,o,void 0);get#t(){return l.get.call(this)}set#t(p){return l.set.call(this,p)}#n=(h(this,a),h(this,T,"auto"));get translucent(){return this.#n}set translucent(p){this.#n=p}static styles=[Y`:host{display:flex;flex-direction:column;padding-top:var(--safe-area-inset-top,0)}`,rn];render(){const p=(this.translucent=="auto"&&this.#t?.class.includes("ios"))??!1;return this.dataset.translucent=p?"yes":"no",K`<slot></slot>`}constructor(){super(...arguments),h(this,d)}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ln={ELEMENT:6},be=e=>(...t)=>({_$litDirective$:e,values:t});let we=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,s,n){this._$Ct=t,this._$AM=s,this._$Ci=n}_$AS(t,s){return this.update(t,s)}update(t,s){return this.render(...s)}};const Jt=(e,t)=>{{const s=Object.getOwnPropertyDescriptors(e),n=[];for(const r in s)s[r].enumerable&&n.push(r);return n}},Ir=new WeakMap,cn=(e=document)=>{let t=!1;const s=()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e.adoptedStyleSheets=e.adoptedStyleSheets}))},n=C=>(...x)=>{const k=e.adoptedStyleSheets[C].apply(e.adoptedStyleSheets,x);return s(),k},r=n("push"),i=n("pop"),o=n("shift"),a=n("unshift"),l=n("splice"),u=C=>{const x=e.adoptedStyleSheets.indexOf(C);x!==-1&&(e.adoptedStyleSheets.splice(x,1),s())},T=It(()=>vt(Ir,e.adoptedStyleSheets,()=>new Map)),d=C=>T().has(C),p=(C,x)=>{const k=T(),I=k.get(C);I!==x&&(R(I,x),k.set(C,x))},E=C=>{const x=T(),k=an(x,C);return k!=null?(u(k),!0):!1},A=C=>T().get(C),L=(C,x)=>{const k=e.adoptedStyleSheets.includes(C);x===!1?k&&u(C):x?k||(e.adoptedStyleSheets.push(C),s()):k?u(C):(e.adoptedStyleSheets.push(C),s())},R=(C,x)=>{if(C==null)e.adoptedStyleSheets.push(x),s();else{const k=e.adoptedStyleSheets.indexOf(C);k!==-1&&(e.adoptedStyleSheets.splice(k,1,x),s())}},U=new Map([["push",r],["pop",i],["shift",o],["unshift",a],["splice",l],["remove",u],["toggle",L],["replace",R],["has",d],["set",p],["delete",E],["get",A]]);return new Proxy(e.adoptedStyleSheets,{get(C,x,k){return U.get(x)||Reflect.get(C,x,k)}})},$r=cn(),zr=e=>{let t="";for(const s of Jt(e)){const n=s.startsWith("--")?s:s.replace(/[A-Z]/g,r=>"-"+r.toLowerCase());t+=`${n}:${e[s]};`}return t},Nr=e=>e?e.nodeType!==Node.DOCUMENT_NODE?e.ownerDocument??document:e:document,Or=new WeakMap,Pr=e=>("adoptedStyleSheets"in e||(e=Nr(e)),vt(Or,e,cn)),Rr=CSS.supports("view-transition-name: none");function Ct(e,t){if(!e||e.length===0)throw new Error("valuesToEnumConverter requires a non-empty array of possible values.");const s=new Set(e),n=t?.defaultValue??e[0];if(!s.has(n))throw new Error(`The effective defaultValue (${n}) is not present in the provided values array.`);const r=new Map,i=new Map;for(const o of s){const a=String(o),l=a.toLowerCase();if(i.set(o,a),r.has(l)){const u=r.get(l);console.warn(`Warning: Multiple values map to the same case-insensitive attribute string: ${l}. Attribute lookup will resolve to the last encountered value (${o}). Previous value was (${u}).`)}r.set(l,o)}return{setProperty(o){return s.has(o)?o:(console.warn(`Invalid value set via property: received "${o}" (type: ${typeof o}). Expected one of [${e.map(a=>JSON.stringify(a)).join(", ")}]. Using default value "${n}".`),n)},fromAttribute(o){if(o===null)return n;const a=o.toLowerCase();return r.has(a)?r.get(a):(console.warn(`Invalid attribute value "${o}" received. Expected value mappable to one of [${e.map(l=>JSON.stringify(l)).join(", ")}]. Using default value "${n}".`),n)},toAttribute(o){return i.has(o)?i.get(o):(console.warn(`Invalid enum value "${o}" provided to toAttribute. Expected one of [${e.map(a=>JSON.stringify(a)).join(", ")}]. Returning null.`),null)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ar=Symbol();let hn=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((t,s)=>{this.o=t,this.h=s}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(t,s,n){this.p=0,this.i=0,(this._=t).addController(this);const r=typeof s=="object"?s:{task:s,args:n};this.v=r.task,this.j=r.args,this.m=r.argsEqual??Lr,this.k=r.onComplete,this.A=r.onError,this.autoRun=r.autoRun??!0,"initialValue"in r&&(this.u=r.initialValue,this.i=2,this.O=this.T?.())}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;const t=this.j();if(!Array.isArray(t))throw Error("The args function must return an array");return t}async S(){const t=this.T(),s=this.O;this.O=t,t===s||t===void 0||s!==void 0&&this.m(s,t)||await this.run(t)}async run(t){let s,n;t??=this.T(),this.O=t,this.i===1?this.q?.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();const r=++this.p;this.q=new AbortController;let i=!1;try{s=await this.v(t,{signal:this.q.signal})}catch(o){i=!0,n=o}if(this.p===r){if(s===Ar)this.i=0;else{if(i===!1){try{this.k?.(s)}catch{}this.i=2,this.o?.(s)}else{try{this.A?.(n)}catch{}this.i=3,this.h?.(n)}this.u=s,this.l=n}this._.requestUpdate()}}abort(t){this.i===1&&this.q?.abort(t)}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(t){switch(this.i){case 0:return t.initial?.();case 1:return t.pending?.();case 2:return t.complete?.(this.value);case 3:return t.error?.(this.error);default:throw Error("Unexpected status: "+this.i)}}};const Lr=(e,t)=>e===t||e.length===t.length&&e.every((s,n)=>!_r(s,t[n]));/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function un(e,t,s){return e?t(e):s?.(e)}const Ye=new Map,dn=new EventTarget,fs=(e,t)=>{if(Ye.has(e))throw new Error(`icon ${e} already defined`);Ye.set(e,t),dn.dispatchEvent(new Dr(e,t))},fn=e=>Ye.get(e),pn=(e,t)=>{dn.addEventListener("appn-icon-define-"+e,s=>{t(s.detail)},{once:!0})};class Dr extends CustomEvent{constructor(t,s){super("appn-icon-define-"+t,{detail:{name:t,icon:s}})}}const ks=async e=>{let t=fn(e);return t==null&&(t=await new Promise(s=>{pn(e,({icon:n})=>{s(n)})})),t},Ur=[Y`:host{display:inline-flex;min-width:1em;min-height:1em;line-height:1;box-sizing:border-box;padding:.15em;align-self:center;object-fit:contain}svg{flex:1}`];fs("",{viewBox:{minX:0,minY:0,width:0,height:0},layers:[]});fs("chevron.backward",{viewBox:{minX:0,minY:0,width:16.8523,height:23.7394},layers:[{type:"path",d:"M0 11.8672C0 12.209 0.123047 12.5098 0.382812 12.7695L11.2246 23.3652C11.457 23.6113 11.7578 23.7344 12.1133 23.7344C12.8242 23.7344 13.3711 23.2012 13.3711 22.4902C13.3711 22.1348 13.2207 21.834 13.002 21.6016L3.04883 11.8672L13.002 2.13281C13.2207 1.90039 13.3711 1.58594 13.3711 1.24414C13.3711 0.533203 12.8242 0 12.1133 0C11.7578 0 11.457 0.123047 11.2246 0.355469L0.382812 10.9648C0.123047 11.2109 0 11.5254 0 11.8672Z",fill:"currentColor"}],variants:[{selector:":dir(rtl)",type:"style",style:{transform:"scaleX(-1)"}},{selector:'[data-font-weight="700"]',type:"icon",viewBox:{minX:0,minY:0,width:18.6604,height:25.037},layers:[{type:"path",d:"M0 12.5098C0 13.1852 0.244306 13.7429 0.804815 14.294L11.1403 24.4109C11.554 24.8327 12.0638 25.0276 12.6564 25.0276C13.8694 25.0276 14.8517 24.0561 14.8517 22.8563C14.8517 22.2491 14.6008 21.6994 14.1485 21.2471L5.14763 12.5018L14.1485 3.77248C14.6088 3.32019 14.8517 2.76245 14.8517 2.17129C14.8517 0.971451 13.8694 0 12.6564 0C12.0558 0 11.554 0.194887 11.1403 0.61664L0.804815 10.7256C0.2523 11.2767 0.0079938 11.8264 0 12.5098Z",fill:"currentColor"}]}]});const jr=["normal","bold",100,200,300,400,500,600,700,800,900,"bolder","lighter"];(()=>{let e=[et("appn-icon")],t,s=[],n,r=tt,i,o=[],a=[],l,u=[],T=[];return class extends r{static{n=this}static{const d=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:!0})],l=[mt(Ct(jr))],O(this,null,i,{kind:"accessor",name:"name",static:!1,private:!1,access:{has:p=>"name"in p,get:p=>p.name,set:(p,E)=>{p.name=E}},metadata:d},o,a),O(this,null,l,{kind:"accessor",name:"widget",static:!1,private:!1,access:{has:p=>"widget"in p,get:p=>p.widget,set:(p,E)=>{p.widget=E}},metadata:d},u,T),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:d},null,s),n=t.value,d&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}static define=fs;static get=fn;static whenDefine=pn;static safeGet=ks;static styles=Ur;#s=h(this,o,null);get name(){return this.#s}set name(d){this.#s=d}#t=(h(this,a),h(this,u,"normal"));get widget(){return this.#t}set widget(d){this.#t=d}__icon=(h(this,T),new hn(this,{task:([d])=>ks(d??""),args:()=>[this.name]}));__effect_widget=It(d=>{const p=ct(d).with("bolder","lighter",E=>{const A=this.style.fontWeight;try{return this.style.fontWeight=E,+getComputedStyle(this).fontWeight}finally{this.style.fontWeight=A}}).with("bold",()=>700).with("normal",()=>400).otherwise(E=>E);this.dataset.fontWeight=p.toString()},d=>d);__effect_icon_style=It(d=>{if(d.variants)return d.variants.filter(A=>A.type==="style").map(({selector:A,style:L})=>`:host(${A}){${zr(L)}}`).join(`
`)},d=>d);render(){return this.__effect_widget(this.widget),this.__icon.render({complete:d=>{const p=d.variants?.find(R=>R.type==="icon"&&this.matches(R.selector)),{viewBox:E,layers:A}=p??d,L=this.__effect_icon_style(d);return K`${un(L,()=>K`<style>${L}</style>`)} <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${E.minX} ${E.minY} ${E.width} ${E.height}"><g>${A.map(R=>ct(R).with({type:"path"},U=>Te`<path ${Ie(U)}>`).with({type:"polyline"},U=>Te`<polyline ${Ie(U)}>`).with({type:"rect"},U=>Te`<rect ${Ie(U)}>`).exhaustive())}</g></svg>`}})}static{h(n,s)}},n})();class Mr extends we{update(t,[s]){const n=t.element;for(const r in s)if(r in n)n[r]=s[r];else{const i=s[r];i!=null&&n.setAttribute(r,String(i))}return this.render(s)}render(t){return""}}const Ie=be(Mr);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:Hr}=wr,Ts=(e,t)=>e?._$litType$!==void 0,Wr=e=>e?._$litType$?.h!=null,Cs=()=>document.createComment(""),Is=(e,t,s)=>{const n=e._$AA.parentNode,r=e._$AB;if(s===void 0){const i=n.insertBefore(Cs(),r),o=n.insertBefore(Cs(),r);s=new Hr(i,o,e,e.options)}else{const i=s._$AB.nextSibling,o=s._$AM,a=o!==e;if(a){let l;s._$AQ?.(e),s._$AM=e,s._$AP!==void 0&&(l=e._$AU)!==o._$AU&&s._$AP(l)}if(i!==r||a){let l=s._$AA;for(;l!==i;){const u=l.nextSibling;n.insertBefore(l,r),l=u}}}return s},Vr={},$s=(e,t=Vr)=>e._$AH=t,zs=e=>e._$AH,qr=e=>{e._$AR()};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ns=e=>Wr(e)?e._$litType$.h:e.strings,ps=be(class extends we{constructor(e){super(e),this.et=new WeakMap}render(e){return[e]}update(e,[t]){const s=Ts(this.it)?Ns(this.it):null,n=Ts(t)?Ns(t):null;if(s!==null&&(n===null||s!==n)){const r=zs(e).pop();let i=this.et.get(s);if(i===void 0){const o=document.createDocumentFragment();i=br(Js,o),i.setConnected(!1),this.et.set(s,i)}$s(i,[r]),Is(i,void 0,r)}if(n!==null){if(s===null||s!==n){const r=this.et.get(n);if(r!==void 0){const i=zs(r).pop();qr(e),Is(e,void 0,i),$s(e,[i])}}this.it=t}else this.it=void 0;return this.render(t)}}),Os=new WeakMap,xt=(e,t={})=>Qs((s,n)=>{if(n.name in s&&!t.override)return;if(!e){const i=n.name,o=typeof i=="symbol"?i.description:i;if(typeof o!="string"||o.startsWith("on")===!1)throw new Error(`eventName is required for property ${String(i)}`);e=o.slice(2)}const r=e;return mt({setProperty(i){const o=vt(Os,this,()=>new Map),a=o.get(r);if(typeof i=="function"||typeof i=="object"&&i!==null)if(a)a.handleEvent=i;else{const l={handleEvent:i};this.addEventListener(r,l),o.set(r,l)}else a&&(this.removeEventListener(r,a),o.delete(r)),i=null;return i},getProperty(){return Os.get(this)?.get(r)?.handleEvent??null},fromAttribute(i){if(i!=null){const o=Function("event",i);this.addEventListener(r,o)}return n.access.get(this)},toAttribute:!1})(s,n)}),gs=Symbol("appn-navigation"),Ht=Symbol("appn-navigation-history-entry");/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fr=e=>e??Js;CSS.registerProperty({name:"--_link-halo-angle",syntax:"<angle>",inherits:!0,initialValue:"0deg"});const Br=Y`:host{display:contents}.link{display:inline-flex;flex-direction:row;align-items:baseline;box-sizing:border-box;-webkit-tap-highlight-color:transparent}button{font:var(--font);color:var(--color-accent);background:0 0;border:none;padding:.45em .75em;border-radius:.75em;cursor:pointer;position:relative;box-shadow:0 1px 5px -3px var(--color-canvas-text);transition-property:all;transition-duration:.3s;transition-timing-function:ease-out;--_link-halo-angle:36deg}button::before{content:'';display:block;position:absolute;inset:0;border-radius:calc(.5em);padding:1px;background:linear-gradient(var(--_link-halo-angle),var(--color-accent),rgb(0 0 0 / 50%),#fff);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;pointer-events:none;box-sizing:border-box;opacity:.5;transition-property:--_link-halo-angle;transition-duration:.5s;transition-timing-function:ease-out}button:not(:disabled):hover{transition-duration:.1s;box-shadow:0 1px 4px -2px var(--color-canvas-text);--_link-halo-angle:180deg}button:not(:disabled):active{transition-duration:.1s;box-shadow:0 0 3px -1px var(--color-canvas-text);transform:translateY(1px);--_link-halo-angle:318deg}button:not(:disabled):focus-within:focus-visible{transition-duration:.1s;box-shadow:0 1px 4px -2px var(--color-canvas-text)}button:disabled{filter:grayscale(.5) contrast(.5);cursor:not-allowed}a{font:var(--font);color:var(--color-accent);text-decoration:none;cursor:pointer;transition-property:all;transition-duration:var(--common-leave-duration);transition-timing-function:var(--common-leave-ease)}.a{text-decoration:underline 1px transparent;text-underline-offset:0.3em}.a:hover,.a:target{transition-duration:.1s;text-decoration-color:currentColor;text-underline-offset:0.1em}.text-button:active{opacity:.5;transition-property:all;transition-duration:var(--common-enter-duration);transition-timing-function:var(--common-enter-ease)}`,Gr=["push","replace","forward","back","back-or-push","forward-or-push"],Kr=["button","submit","a","text-button","contents"],Yr=["click","pointerup"];(()=>{let e=[et("appn-link")],t,s=[],n,r=tt,i,o=[],a=[],l,u=[],T=[],d,p,E=[],A=[],L,R,U=[],C=[],x,k=[],I=[],N,_=[],P=[],S,f=[],v=[],D,M=[],G=[],V,y=[],m=[];return class extends r{static{n=this}static{const w=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[mt(Ct(Kr))],l=[$t({context:gs})],p=[$t({context:Ht,subscribe:!0})],R=[W({type:String,attribute:!0,reflect:!0})],x=[W({type:String,attribute:"to-key",reflect:!0})],N=[W({type:Object,attribute:!0,reflect:!0})],S=[mt(Ct(Gr))],D=[mt(Ct(Yr))],V=[xt()],O(this,null,i,{kind:"accessor",name:"type",static:!1,private:!1,access:{has:b=>"type"in b,get:b=>b.type,set:(b,$)=>{b.type=$}},metadata:w},o,a),O(this,d={get:H(function(){return this.#t},"#nav","get"),set:H(function(b){this.#t=b},"#nav","set")},l,{kind:"accessor",name:"#nav",static:!1,private:!0,access:{has:b=>#n in b,get:b=>b.#n,set:(b,$)=>{b.#n=$}},metadata:w},u,T),O(this,L={get:H(function(){return this.#e},"#navigationEntry","get"),set:H(function(b){this.#e=b},"#navigationEntry","set")},p,{kind:"accessor",name:"#navigationEntry",static:!1,private:!0,access:{has:b=>#r in b,get:b=>b.#r,set:(b,$)=>{b.#r=$}},metadata:w},E,A),O(this,null,R,{kind:"accessor",name:"to",static:!1,private:!1,access:{has:b=>"to"in b,get:b=>b.to,set:(b,$)=>{b.to=$}},metadata:w},U,C),O(this,null,x,{kind:"accessor",name:"toKey",static:!1,private:!1,access:{has:b=>"toKey"in b,get:b=>b.toKey,set:(b,$)=>{b.toKey=$}},metadata:w},k,I),O(this,null,N,{kind:"accessor",name:"state",static:!1,private:!1,access:{has:b=>"state"in b,get:b=>b.state,set:(b,$)=>{b.state=$}},metadata:w},_,P),O(this,null,S,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:b=>"mode"in b,get:b=>b.mode,set:(b,$)=>{b.mode=$}},metadata:w},f,v),O(this,null,D,{kind:"accessor",name:"actionType",static:!1,private:!1,access:{has:b=>"actionType"in b,get:b=>b.actionType,set:(b,$)=>{b.actionType=$}},metadata:w},M,G),O(this,null,V,{kind:"accessor",name:"onnavigate",static:!1,private:!1,access:{has:b=>"onnavigate"in b,get:b=>b.onnavigate,set:(b,$)=>{b.onnavigate=$}},metadata:w},y,m),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:w},null,s),n=t.value,w&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}static styles=Br;#s=h(this,o,"button");get type(){return this.#s}set type(w){this.#s=w}#t=(h(this,a),h(this,u,null));get#n(){return d.get.call(this)}set#n(w){return d.set.call(this,w)}#e=(h(this,T),h(this,E,null));get#r(){return L.get.call(this)}set#r(w){return L.set.call(this,w)}#i=(h(this,A),h(this,U,null));get to(){return this.#i}set to(w){this.#i=w}#a=(h(this,C),h(this,k,null));get toKey(){return this.#a}set toKey(w){this.#a=w}#l=(h(this,I),h(this,_,null));get state(){return this.#l}set state(w){this.#l=w}#c=(h(this,P),h(this,f,"push"));get mode(){return this.#c}set mode(w){this.#c=w}#h=(h(this,v),h(this,M,"click"));get actionType(){return this.#h}set actionType(w){this.#h=w}#o=(h(this,G),h(this,y,void 0));get onnavigate(){return this.#o}set onnavigate(w){this.#o=w}__onClick=(h(this,m),async w=>{w.preventDefault();const b=this.#n,$=this.#r,{to:z,toKey:c,state:g}=this;if(b==null)return;const j=z&&new URL(z,b.baseURI).href,q={to:j,mode:this.mode};await ct(this.mode).with("push",()=>{if(j){const B=new dt({type:"push",url:j,state:g,info:q});this.dispatchEvent(B),B.applyNavigate(b,$)}}).with("replace",()=>{if(j){const B=new dt({type:"replace",url:j,state:g,info:q});this.dispatchEvent(B),B.applyNavigate(b,$)}}).with("forward",()=>{if(j)b.navigate(j,{state:g,info:q});else if(b.canGoForward){const B=new dt({type:"forward",info:q});this.dispatchEvent(B),B.applyNavigate(b,$)}}).with("back",async()=>{if(j||c){const B=await b.findFirstEntry(c?{key:c}:{url:j});if(B){const F=new dt({type:"traverse",key:B.key,info:q});this.dispatchEvent(F),F.applyNavigate(b,$)}}else if(b.canGoBack){const B=new dt({type:"back",info:q});this.dispatchEvent(B),B.applyNavigate(b,$)}}).with("back-or-push",async()=>{if(j||c){const B=await b.findLastEntry(c?{key:c}:{url:j},this.#r);if(B){const F=new dt({type:"traverse",key:B.key,info:q});this.dispatchEvent(F),F.applyNavigate(b,$)}else if(j){const F=new dt({type:"push",url:j,state:g,info:q});this.dispatchEvent(F),F.applyNavigate(b,$)}}}).with("forward-or-push",async()=>{if(j||c){const B=await b.findFirstEntry(c?{key:c}:{url:j},this.#r);if(B){const F=new dt({type:"traverse",key:B.key,info:q});this.dispatchEvent(F),F.applyNavigate(b,$)}else if(j){const F=new dt({type:"push",url:j,state:g,info:q});this.dispatchEvent(F),F.applyNavigate(b,$)}}}).exhaustive()});constructor(){super(),this.addEventListener(this.actionType,this.__onClick)}willUpdate(w){const b=w.get("actionType");b&&(this.removeEventListener(b,this.__onClick),this.addEventListener(this.actionType,this.__onClick)),super.willUpdate(w)}render(){return ps(ct(this.type).with("button","submit",w=>K`<button part="link button" class="link ${w}" role="link" type="${w}"><slot></slot></button>`).with("a","text-button",w=>K`<a part="link a" class="link ${w}" href="${Fr(this.to)}"><slot></slot></a>`).with("contents",()=>K`<slot></slot>`).exhaustive())}static{h(n,s)}},n})();class dt extends CustomEvent{constructor(t){super("navigate",{detail:t,cancelable:!0,bubbles:!0,composed:!0})}#s;get result(){return this.#s}applyNavigate(t,s){if(this.defaultPrevented)return;const{detail:n}=this,r=ct(n).with({type:"push"},i=>t.navigate(i.url,i)).with({type:"replace"},i=>t.navigate(i.url,{...i,history:"replace"})).with({type:"back"},i=>t.back(i)).with({type:"traverse"},i=>t.traverseTo(i.key,i)).with({type:"forward"},i=>t.forward(i)).exhaustive();navigator.vibrate&&r.committed.then(i=>{i.key!==s?.key&&navigator.vibrate([10])}),this.#s=r}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Xr{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,s=!1){const n=s||!Object.is(t,this.o);this.o=t,n&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[s,{disposer:n}]of this.subscriptions)s(this.o,n)},t!==void 0&&(this.value=t)}addCallback(t,s,n){if(!n)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:s});const{disposer:r}=this.subscriptions.get(t);t(this.value,r)}clearCallbacks(){this.subscriptions.clear()}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Zr=class extends Event{constructor(t,s){super("context-provider",{bubbles:!0,composed:!0}),this.context=t,this.contextTarget=s}};class Xe extends Xr{constructor(t,s,n){super(s.context!==void 0?s.initialValue:n),this.onContextRequest=r=>{if(r.context!==this.context)return;const i=r.contextTarget??r.composedPath()[0];i!==this.host&&(r.stopPropagation(),this.addCallback(r.callback,i,r.subscribe))},this.onProviderRequest=r=>{if(r.context!==this.context||(r.contextTarget??r.composedPath()[0])===this.host)return;const i=new Set;for(const[o,{consumerHost:a}]of this.subscriptions)i.has(o)||(i.add(o),a.dispatchEvent(new sn(this.context,a,o,!0)));r.stopPropagation()},this.host=t,s.context!==void 0?this.context=s.context:this.context=s,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new Zr(this.context,this.host))}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ms({context:e}){return(t,s)=>{const n=new WeakMap;if(typeof s=="object")return s.addInitializer(function(){n.set(this,new Xe(this,{context:e}))}),{get(){return t.get.call(this)},set(r){return n.get(this)?.setValue(r),t.set.call(this,r)},init(r){return n.get(this)?.setValue(r),r}};{t.constructor.addInitializer(o=>{n.set(o,new Xe(o,{context:e}))});const r=Object.getOwnPropertyDescriptor(t,s);let i;if(r===void 0){const o=new WeakMap;i={get(){return o.get(this)},set(a){n.get(this).setValue(a),o.set(this,a)},configurable:!0,enumerable:!0}}else{const o=r.set;i={...r,set(a){n.get(this).setValue(a),o?.call(this,a)}}}return void Object.defineProperty(t,s,i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gn=(e,t,s)=>(s.configurable=!0,s.enumerable=!0,s),Jr=["auto","native","shim"];(()=>{var e;let t=[et("css-starting-style")],s,n=[],r,i=tt,o,a=[],l=[],u,T=[],d=[],p,E=[],A=[],L,R=[],U=[],C,x=[],k=[],I,N=[],_=[];var P=class extends i{static{r=this}static{H(this,"CssStartingStyleElement")}static{const S=typeof Symbol=="function"&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;o=[mt(Ct(Jr))],u=[W({type:String,attribute:!0,reflect:!0})],p=[W({type:String,attribute:!0,reflect:!0})],L=[W({type:Boolean,attribute:!0,reflect:!0})],C=[W({type:String,attribute:!0,reflect:!0})],I=[W({type:String,attribute:!0,reflect:!0})],O(this,null,o,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:f=>"mode"in f,get:f=>f.mode,set:(f,v)=>{f.mode=v}},metadata:S},a,l),O(this,null,u,{kind:"accessor",name:"selector",static:!1,private:!1,access:{has:f=>"selector"in f,get:f=>f.selector,set:(f,v)=>{f.selector=v}},metadata:S},T,d),O(this,null,p,{kind:"accessor",name:"slotted",static:!1,private:!1,access:{has:f=>"slotted"in f,get:f=>f.slotted,set:(f,v)=>{f.slotted=v}},metadata:S},E,A),O(this,null,L,{kind:"accessor",name:"host",static:!1,private:!1,access:{has:f=>"host"in f,get:f=>f.host,set:(f,v)=>{f.host=v}},metadata:S},R,U),O(this,null,C,{kind:"accessor",name:"layer",static:!1,private:!1,access:{has:f=>"layer"in f,get:f=>f.layer,set:(f,v)=>{f.layer=v}},metadata:S},x,k),O(this,null,I,{kind:"accessor",name:"cssText",static:!1,private:!1,access:{has:f=>"cssText"in f,get:f=>f.cssText,set:(f,v)=>{f.cssText=v}},metadata:S},N,_),O(null,s={value:r},t,{kind:"class",name:r.name,metadata:S},null,n),P=r=s.value,S&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:S})}static isSupports=typeof CSSStartingStyleRule=="function";static shadowRootOptions={...tt.shadowRootOptions,mode:"closed"};static styles=Y`:host{display:none}`;#s=h(this,a,"auto");get mode(){return this.#s}set mode(S){this.#s=S}#t=(h(this,l),h(this,T,""));get selector(){return this.#t}set selector(S){this.#t=S}#n=(h(this,d),h(this,E,null));get slotted(){return this.#n}set slotted(S){this.#n=S}#e=(h(this,A),h(this,R,!1));get host(){return this.#e}set host(S){this.#e=S}#r=(h(this,U),h(this,x,""));get layer(){return this.#r}set layer(S){this.#r=S}#i=(h(this,k),h(this,N,""));get cssText(){return this.#i}set cssText(S){this.#i=S}__styleEle=(h(this,_),document.createElement("style"));constructor(){super(),this.append(this.__styleEle)}static{e={value:new WeakMap}}__watcher=new MutationObserver(S=>{let f=this.selector,v=this.slotted;v!=null&&(v?f=`${f}:[name=${v}]`:f=`${f}:not([name])`);for(const D of S){for(const M of D.addedNodes)M instanceof Element&&vt(Ce(P,r,"f",e),M,V=>{const y=Object.assign(()=>{Ce(P,r,"f",e).delete(V);for(const m of y.matchs)if(V.matches(m)){V.setAttribute("css-starting-style-hook",""),requestAnimationFrame(()=>{V.removeAttribute("css-starting-style-hook")});break}},{matchs:[]});return queueMicrotask(y),y}).matchs.push(f);for(const M of D.removedNodes)M instanceof Element&&an(Ce(P,r,"f",e),M)&&M.removeAttribute("css-starting-style-hook")}});__watched=null;__effect_watch(S){S?this.__watched!=S&&(this.__watched&&this.__watcher.disconnect(),this.__watched=S,this.__watcher.observe(S,{childList:!0,subtree:!0})):this.__watched&&(this.__watched=null,this.__watcher.disconnect())}__root=null;connectedCallback(){const S=this.getRootNode();"querySelector"in S&&(this.__root=S),super.connectedCallback(),this.host&&S instanceof ShadowRoot&&queueMicrotask(()=>{if(this.dataset.mode==="native")return;const f=S.host;let v=this.selector;f.matches(v)&&(this.__hostEle=f,f.setAttribute("css-starting-style-hook",""),requestAnimationFrame(()=>{f.removeAttribute("css-starting-style-hook")}))})}__hostEle=null;disconnectedCallback(){super.disconnectedCallback(),this.__hostEle&&(this.__hostEle.removeAttribute("css-starting-style-hook"),this.__hostEle=null),this.__effect_watch(null),this.__root=null}render(){const{mode:S,cssText:f,layer:v,selector:D,slotted:M,host:G}=this,V=S==="auto"?P.isSupports?"native":"shim":S;this.dataset.mode=V;let y=ct(V).with("native",()=>{this.__effect_watch(null);let m=D;return M!=null?M?m=`::slotted(${D}:where([name=${M}]))`:m=`::slotted(${D}:not([name]))`:G&&(m=`:host(${m})`),`${m}{@starting-style{${f}}}`}).with("shim",()=>{let m=this.__root;M!=null&&m instanceof ShadowRoot&&(m=m.host),G?this.__effect_watch(null):this.__effect_watch(m);let w=`${D}:where([css-starting-style-hook])`;return M!=null?M?w=`::slotted(${w}:where([name=${M}])`:w=`::slotted(${w}:not([name]))`:G&&(w=`:host(${w})`),`${w}{${f}}`}).exhaustive();v&&(y=`@layer ${v}{${y}}`),this.__styleEle.innerHTML=y}static{h(r,n)}};return P=r})();const st=e=>Er(e);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Qr(e){return(t,s)=>{const{slot:n,selector:r}=e??{},i="slot"+(n?`[name=${n}]`:":not([name])");return gn(t,s,{get(){const o=this.renderRoot?.querySelector(i),a=o?.assignedElements(e)??[];return r===void 0?a:a.filter(l=>l.matches(r))}})}}class ti{#s;#t=!1;#n(t=!this.#t){const s=this.#s;s!=null&&(t?this.#t||(s.push(this.#e),this.#t=!0):this.#t&&(s.remove(this.#e),this.#t=!1))}constructor(t=$r){this.#s=t,this.#n()}get owner(){return this.#s}set owner(t){t!==this.#s&&(this.#n(!1),this.#s=t??null)}#e=new CSSStyleSheet;get unsafeStyleSheet(){return this.#e}#r=[];get size(){return this.#r.length}addRule(t,s){const n=this.#e,r=this.#r,i=n.cssRules.length;if(n.insertRule(t,s??i),i!==n.cssRules.length){const o=n.cssRules.item(s??i);return s==null?r.push(o):s===0?r.unshift(o):r.splice(s,0,o),o}return null}addRules(t,s){$e.replaceSync(t);const n=[];for(let r=$e.cssRules.length-1;r>=0;r--)n[n.length]=this.addRule($e.cssRules[r].cssText,s);return s==null?n:n.reverse()}removeRule(t){let s;if(typeof t=="number"){if(this.#r[s=t]==null)return!1}else if(s=this.#r.indexOf(t),s===-1)return!1;return this.#e.deleteRule(s),this.#r.splice(s,1),!0}atRule(t){return this.#r.at(t)}[Symbol.iterator](){return this.#r[Symbol.iterator]()}#i=new Map;keys(){return this.#i.keys()}hasRule(t){return this.#i.has(t)}getRule(t){return this.#i.get(t)}setRule(t,s,n){this.deleteRule(t);const r=this.addRule(s,n);return r&&this.#i.set(t,r),r}deleteRule(t){const s=this.#i.get(t);return s!=null?(this.removeRule(s),!0):!1}}const $e=new CSSStyleSheet;let le;if(typeof window<"u"&&window.navigation){const e=window.navigation;ei(e),le=e}function ei(e){if(!e)throw new Error("Expected Navigation")}function vs(e){function t(s){return!!s}return t(e)&&(typeof e.type=="string"||typeof e.type=="symbol")}function si(e,t){if(!vs(e))throw new Error("Expected event");if(typeof t<"u"&&e.type!==t)throw new Error(`Expected event type ${String(t)}, got ${e.type.toString()}`)}function ni(e){return vs(e)&&e.parallel!==!1}class mn extends Error{constructor(t){super(`AbortError${t?`: ${t}`:""}`),this.name="AbortError"}}function vn(e){return e instanceof Error&&e.name==="AbortError"}class Q extends Error{constructor(t){super(`InvalidStateError${t?`: ${t}`:""}`),this.name="InvalidStateError"}}function ri(e){return e instanceof Error&&e.name==="InvalidStateError"}function ii(e){function t(s){return typeof s=="object"}return t(e)&&typeof e.aborted=="boolean"&&typeof e.addEventListener=="function"}function se(e){function t(s){return s.hasOwnProperty("signal")}return vs(e)&&t(e)&&ii(e.signal)}function Ps(e,t){if(se(e)&&e.signal.aborted&&t instanceof Error&&vn(t))return!0}const St=Symbol.for("@opennetwork/environment/events/target/listeners"),ze=Symbol.for("@opennetwork/environment/events/target/listeners/ignore"),yn=Symbol.for("@opennetwork/environment/events/target/listeners/match"),Ne=Symbol.for("@opennetwork/environment/events/target/listeners/this"),Ze=Symbol.for("@opennetwork/environment/events/descriptor");function Qt(e,t,s){const n=r(s)?s:void 0;return i=>n?n===i:(!t||t===i.callback)&&e===i.type;function r(i){function o(a){return!!a}return o(i)&&i[Ze]===!0}}function Oe(e){return typeof e=="function"}const ft=Symbol.for("@virtualstate/navigation/event-target/descriptors");class ai{[ft]=[];[ze]=new WeakSet;get[St](){return[...this[ft]??[]]}[yn](t){const s=this[St],n=[...new Set([...s??[],...this[ft]??[]])].filter(i=>i.type===t||i.type==="*").filter(i=>!this[ze]?.has(i)),r=typeof t=="string"?this[`on${t}`]:void 0;return typeof r=="function"&&Oe(r)&&n.push({type:t,callback:r,[Ze]:!0}),n}addEventListener(t,s,n){const r={...n,isListening:()=>!!this[ft]?.find(Qt(t,s)),descriptor:{[Ze]:!0,...n,type:t,callback:s},timestamp:Date.now()};r.isListening()||this[ft]?.push(r.descriptor)}removeEventListener(t,s,n){if(!Oe(s))return;const r=this[St]??this[ft]??[],i=r.findIndex(Qt(t,s,n));if(i===-1)return;const o=this[ft]?.findIndex(Qt(t,s,n))??-1;o!==-1&&this[ft]?.splice(o,1);const a=r[i];a&&this[ze]?.add(a)}hasEventListener(t,s){return s&&!Oe(s)?!1:(this[ft]?.findIndex(Qt(t,s))??-1)>-1}}class ne extends ai{[Ne];constructor(t=void 0){super(),this[Ne]=t}async dispatchEvent(t){const s=this[yn]?.(t.type)??[];if(se(t)&&t.signal.aborted)throw new mn;const n=ni(t),r=[];for(let i=0;i<s.length;i+=1){const o=s[i],a=(async()=>{o.once&&this.removeEventListener(o.type,o.callback,o),await o.callback.call(this[Ne]??this,t)})();if(n)r.push(a);else{try{await a}catch(l){Ps(t,l)||await Promise.reject(l)}if(se(t)&&t.signal.aborted)return}}if(r.length){const o=(await Promise.allSettled(r)).filter(a=>a.status==="rejected");if(o.length){let a=o;if(se(t)&&t.signal.aborted&&(a=a.filter(l=>!Ps(t,l.reason))),a.length===1)throw await Promise.reject(a[0].reason),a[0].reason;if(a.length>1)throw new AggregateError(a.map(({reason:l})=>l))}}}}const oi={EventTarget:ne,AsyncEventTarget:ne,SyncEventTarget:ne};let Pe=oi;const Re=Pe.EventTarget||Pe.SyncEventTarget||Pe.AsyncEventTarget;function li(e){if(typeof e!="function")throw new Error("Could not load EventTarget implementation")}let _n=class extends ne{constructor(...t){if(super(),Re){li(Re);const{dispatchEvent:s}=new Re(...t);this.dispatchEvent=s}}};class bn extends _n{addEventListener(t,s,n){return r(s),super.addEventListener(t,s,typeof n=="boolean"?{once:n}:n);function r(i){if(typeof i!="function")throw new Error("Please us the function variant of event listener")}}removeEventListener(t,s,n){return r(s),super.removeEventListener(t,s);function r(i){if(typeof i!="function")throw new Error("Please us the function variant of event listener")}}}const ci="crypto"in globalThis&&typeof globalThis.crypto.randomUUID=="function",ce=ci?globalThis.crypto.randomUUID.bind(globalThis.crypto):()=>Array.from({length:5},()=>`${Math.random()}`.replace(/^0\./,"")).join("-").replace(".",""),Rs=Symbol.for("@virtualstate/navigation/getState"),Je=Symbol.for("@virtualstate/navigation/entry/navigationType"),he=Symbol.for("@virtualstate/navigation/entry/knownAs"),wn=Symbol.for("@virtualstate/navigation/entry/setState");function En(e){return typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"||typeof e=="string"}function As(e){return!!(e||En(e))}class Ae extends bn{#s;#t;get index(){return typeof this.#s=="number"?this.#s:this.#s()}key;id;url;sameDocument;get[Je](){return this.#n.navigationType}get[he](){const t=new Set(this.#n[he]);return t.add(this.id),t}#n;get[St](){return[...super[St]??[],...this.#n[St]??[]]}constructor(t){super(),this.#n=t,this.key=t.key||ce(),this.id=ce(),this.url=t.url??void 0,this.#s=t.index,this.sameDocument=t.sameDocument??!0,this.#t=t.state??void 0}[Rs](){return this.#n?.getState?.(this)}getState(){let t=this.#t;if(!As(t)){const s=this[Rs]();As(s)&&(t=this.#t=s)}return typeof t>"u"||En(t)?t:(typeof t=="function"&&(console.warn("State passed to Navigation.navigate was a function, this may be unintentional"),console.warn("Unless a state value is primitive, with a standard implementation of Navigation"),console.warn("your state value will be serialized and deserialized before this point, meaning"),console.warn("a function would not be usable.")),{...t})}[wn](t){this.#t=t}}function Ls(e){let t,s;const n=new Promise((r,i)=>{t=r,s=i});return Ds(t),Ds(s),{resolve:t,reject:s,promise:e?n.catch(e):n}}function Ds(e){if(!e)throw new Error("Value not provided")}const xn=typeof AbortController<"u"?AbortController:void 0;if(!xn)throw new Error("AbortController expected to be available or polyfilled");const Sn=xn;function kn(e){return yt(e)&&typeof e.then=="function"}function zt(e,t="Expected value"){if(!e)throw new Error(t)}function hi(e){return e.status==="rejected"}function yt(e){return!!e}const ui="This will be removed when the first major release of @virtualstate/navigation is published",di={EVENT_INTERCEPT_HANDLER:`You are using a non standard interface, please update your code to use event.intercept({ async handler() {} })
${ui}`};let fi=!0;function Us(e,...t){try{fi&&console.trace(di[e],...t)}catch{}}const Ut=Symbol.for("@virtualstate/navigation/rollback"),js=Symbol.for("@virtualstate/navigation/unset"),Qe=Symbol.for("@virtualstate/navigation/transition/parentEventTarget"),wt=Symbol.for("@virtualstate/navigation/transition/deferred/finished"),ht=Symbol.for("@virtualstate/navigation/transition/deferred/committed"),Gt=Symbol.for("@virtualstate/navigation/transition/navigationType"),Xt=Symbol.for("@virtualstate/navigation/transition/entries/initial"),Le=Symbol.for("@virtualstate/navigation/transition/entries/finished"),ue=Symbol.for("@virtualstate/navigation/transition/index/initial"),De=Symbol.for("@virtualstate/navigation/transition/index/finished"),rt=Symbol.for("@virtualstate/navigation/transition/entry"),Ms=Symbol.for("@virtualstate/navigation/transition/isCommitted"),te=Symbol.for("@virtualstate/navigation/transition/isFinished"),Ue=Symbol.for("@virtualstate/navigation/transition/isRejected"),re=Symbol.for("@virtualstate/navigation/transition/known"),Tn=Symbol.for("@virtualstate/navigation/transition/promises"),lt=Symbol.for("@virtualstate/navigation/intercept"),de=Symbol.for("@virtualstate/navigation/transition/isOngoing"),Hs=Symbol.for("@virtualstate/navigation/transition/isPending"),ts=Symbol.for("@virtualstate/navigation/transition/isAsync"),fe=Symbol.for("@virtualstate/navigation/transition/wait"),Ws=Symbol.for("@virtualstate/navigation/transition/promise/resolved"),qt=Symbol.for("@virtualstate/navigation/transition/rejected"),es=Symbol.for("@virtualstate/navigation/transition/commit"),Ot=Symbol.for("@virtualstate/navigation/transition/finish"),pi=Symbol.for("@virtualstate/navigation/transition/start"),gi=Symbol.for("@virtualstate/navigation/transition/start/deadline"),Cn=Symbol.for("@virtualstate/navigation/transition/error"),mi=Symbol.for("@virtualstate/navigation/transition/finally"),Pt=Symbol.for("@virtualstate/navigation/transition/abort"),Wt=Symbol.for("@virtualstate/navigation/transition/intercept/options/commit"),ss=Symbol.for("@virtualstate/navigation/transition/commit/isManual");class vi extends _n{finished;committed;from;navigationType;[ts]=!1;[Wt];#s;[wt]=Ls();[ht]=Ls();get[Hs](){return!!this.#t.size}get[Gt](){return this.#s[Gt]}get[Xt](){return this.#s[Xt]}get[ue](){return this.#s[ue]}get[ss](){return!!(this[Wt]?.includes("after-transition")||this[Wt]?.includes("manual"))}[Le];[De];[Ms]=!1;[te]=!1;[Ue]=!1;[de]=!1;[re]=new Set;[rt];#t=new Set;#n=!1;#e=new Sn;get signal(){return this.#e.signal}get[Tn](){return this.#t}constructor(t){super(),this[Wt]=[],this[wt]=t[wt]??this[wt],this[ht]=t[ht]??this[ht],this.#s=t;const s=this.finished=this[wt].promise,n=this.committed=this[ht].promise;s.catch(i=>i),n.catch(i=>i),this.from=t.from,this.navigationType=t.navigationType,this[Le]=t[Le],this[De]=t[De];const r=t[re];if(r)for(const i of r)this[re].add(i);this[rt]=t[rt],this.addEventListener(es,this.#l,{once:!0}),this.addEventListener(Ot,this.#a,{once:!0}),this.addEventListener(es,this.#r,{once:!0}),this.addEventListener(Ot,this.#i,{once:!0}),this.addEventListener(Cn,this.#c,{once:!0}),this.addEventListener(Pt,()=>{if(!this[te])return this[qt](new mn)}),this.addEventListener("*",this[rt].dispatchEvent.bind(this[rt])),this.addEventListener("*",t[Qe].dispatchEvent.bind(t[Qe]))}rollback=t=>{if(this.#n)throw new Q("Rollback invoked multiple times: Please raise an issue at https://github.com/virtualstate/navigation with the use case where you want to use a rollback multiple times, this may have been unexpected behaviour");return this.#n=!0,this.#s.rollback(t)};#r=()=>{this[Ms]=!0};#i=()=>{this[te]=!0};#a=()=>{this[wt].resolve(this[rt])};#l=()=>{this.signal.aborted||this[ht].resolve(this[rt])};#c=t=>this[qt](t.error);[Ws]=(...t)=>{for(const s of t)this.#t.delete(s)};[qt]=async t=>{if(this[Ue])return;this[Ue]=!0,this[Pt]();const s=this[Gt];if((typeof s=="string"||s===Ut)&&(await this.dispatchEvent({type:"navigateerror",error:t,get message(){return t instanceof Error?t.message:`${t}`}}),s!==Ut&&!(ri(t)||vn(t))))try{await this.rollback()?.finished}catch{throw new Q("Failed to rollback, please raise an issue at https://github.com/virtualstate/navigation/issues")}this[ht].reject(t),this[wt].reject(t)};[lt]=t=>{const s=this,n=i();if(this[de]=!0,!n)return;this[ts]=!0;const r=n.then(()=>({status:"fulfilled",value:void 0})).catch(async o=>(await this[qt](o),{status:"rejected",reason:o}));this.#t.add(r);function i(){if(!t)return;if(kn(t))return Us("EVENT_INTERCEPT_HANDLER"),t;if(typeof t=="function")return Us("EVENT_INTERCEPT_HANDLER"),t();const{handler:o,commit:a}=t;if(a&&typeof a=="string"&&s[Wt].push(a),typeof o=="function")return o()}};[fe]=async()=>{if(!this.#t.size)return this[rt];try{const t=[...this.#t],n=(await Promise.all(t)).filter(r=>r.status==="rejected");if(n.length)throw n.length===1?n[0].reason:typeof AggregateError<"u"?new AggregateError(n.map(({reason:r})=>r)):new Error;return this[Ws](...t),this[Hs]?this[fe]():this[rt]}catch(t){throw await this.#c(t),await Promise.reject(t)}finally{await this[Ot]()}};[Pt](){this.#e.signal.aborted||(this.#e.abort(),this.dispatchEvent({type:Pt,transition:this,entry:this[rt]}))}[Ot]=async()=>{this[te]||await this.dispatchEvent({type:Ot,transition:this,entry:this[rt],intercept:this[lt]})}}function yi(){try{if(typeof window<"u"&&window.location)return window.location.href}catch{}}function ys(e){const t=yi()??"https://html.spec.whatwg.org/";return new URL((e??"").toString(),t)}function _i(){let e,t,s=!1,n="pending";const r=new Promise((i,o)=>{e=a=>{n="fulfilled",s=!0,i(a)},t=a=>{n="rejected",s=!0,o(a)}});return zt(e),zt(t),{get settled(){return s},get status(){return n},resolve:e,reject:t,promise:r}}class In{type;from;navigationType;constructor(t,s){if(this.type=t,!s)throw new TypeError("init required");if(!s.from)throw new TypeError("from required");this.from=s.from,this.navigationType=s.navigationType??void 0}}class bi{type;canIntercept;canTransition;destination;downloadRequest;formData;hashChange;info;signal;userInitiated;navigationType;constructor(t,s){if(this.type=t,!s)throw new TypeError("init required");if(!s.destination)throw new TypeError("destination required");if(!s.signal)throw new TypeError("signal required");this.canIntercept=s.canIntercept??!1,this.canTransition=s.canIntercept??!1,this.destination=s.destination,this.downloadRequest=s.downloadRequest,this.formData=s.formData,this.hashChange=s.hashChange??!1,this.info=s.info,this.signal=s.signal,this.userInitiated=s.userInitiated??!1,this.navigationType=s.navigationType??"push"}commit(){throw new Error("Not implemented")}intercept(t){throw new Error("Not implemented")}preventDefault(){throw new Error("Not implemented")}reportError(t){throw new Error("Not implemented")}scroll(){throw new Error("Not implemented")}transitionWhile(t){return this.intercept(t)}}const $n=Symbol.for("@virtualstate/navigation/formData"),zn=Symbol.for("@virtualstate/navigation/downloadRequest"),wi=Symbol.for("@virtualstate/navigation/canIntercept"),ns=Symbol.for("@virtualstate/navigation/userInitiated"),rs=Symbol.for("@virtualstate/navigation/originalEvent");function Ei(){}function xi(e,t){const s=t.index;return s!==-1?s:-1}function Si(e){const{commit:t,currentIndex:s,options:n,known:r,currentEntry:i,transition:o,transition:{[Xt]:a,[rt]:l,[lt]:u},reportError:T}=e;let{transition:{[Gt]:d}}=e,p=[...a];const E=new Set(r);let A=-1,L=s;if(d===Ut){const{index:$}=n??{index:void 0};if(typeof $!="number")throw new Q("Expected index to be provided for rollback");A=$,L=$}else d==="traverse"||d==="reload"?(A=xi(a,l),L=A):d==="replace"?s===-1?(d="push",A=s+1,L=A):(A=s,L=s):(A=s+1,L=A);if(typeof A!="number"||A===-1)throw new Q("Could not resolve next index");if(!l.url)throw console.trace({navigationType:d,entry:l,options:n}),new Q("Expected entry url");const R={url:l.url,key:l.key,index:A,sameDocument:l.sameDocument,getState(){return l.getState()}};let U=!1;const C=ys(i?.url),x=new URL(R.url),k=C.hash,I=x.hash;if(k!==I){const $=new URL(C.toString());$.hash="";const z=new URL(x.toString());z.hash="",U=$.toString()===z.toString()}let N;const{resolve:_,promise:P}=_i();function S(){zt(N,"Expected contextToCommit"),_(t(N))}const f=new Sn,v=new bi("navigate",{signal:f.signal,info:void 0,...n,canIntercept:n?.[wi]??!0,formData:n?.[$n]??void 0,downloadRequest:n?.[zn]??void 0,hashChange:U,navigationType:n?.navigationType??(typeof d=="string"?d:"replace"),userInitiated:n?.[ns]??!1,destination:R}),D=n?.[rs],M=o[Pt].bind(o);if(D){const $=D;v.intercept=function(c){return $.preventDefault(),u(c)},v.preventDefault=function(){return $.preventDefault(),M()}}else v.intercept=u,v.preventDefault=M;v.transitionWhile=v.intercept,v.commit=S,T&&(v.reportError=T),v.scroll=Ei,D&&(v.originalEvent=D);const G=new In("currententrychange",{from:i,navigationType:v.navigationType});let V=[],y=[],m=[];const w=a.map($=>$.key);if(d===Ut){const{entries:$}=n??{entries:void 0};if(!$)throw new Q("Expected entries to be provided for rollback");p=$,p.forEach(c=>E.add(c));const z=p.map(c=>c.key);y=a.filter(c=>!z.includes(c.key)),m=p.filter(c=>!w.includes(c.key))}else if(d==="replace"||d==="traverse"||d==="reload"){p[R.index]=l,d!=="traverse"&&V.push(l),d==="replace"&&(p=p.slice(0,R.index+1));const $=p.map(z=>z.key);y=a.filter(z=>!$.includes(z.key)),w.includes(l.id)&&(m=[l])}else if(d==="push"){let $=!1;if(p[R.index]&&(p=p.slice(0,R.index),$=!0),p.push(l),m=[l],$){const z=p.map(c=>c.key);y=a.filter(c=>!z.includes(c.key))}}E.add(l);let b;return(V.length||m.length||y.length)&&(b={updatedEntries:V,addedEntries:m,removedEntries:y}),N={entries:p,index:L,known:E,entriesChange:b},{entries:p,known:E,index:L,currentEntryChange:G,destination:R,navigate:v,navigationType:d,waitForCommit:P,commit:S,abortController:f}}function pt(e){if(typeof CustomEvent<"u"&&typeof e.type=="string"){if(e instanceof CustomEvent)return e;const{type:t,detail:s,...n}=e,r=new CustomEvent(t,{detail:s??n});return Object.assign(r,n),si(r,e.type),r}return e}const is=Symbol.for("@virtualstate/navigation/setOptions"),pe=Symbol.for("@virtualstate/navigation/setEntries"),Vs=Symbol.for("@virtualstate/navigation/setCurrentIndex"),as=Symbol.for("@virtualstate/navigation/setCurrentKey"),Nt=Symbol.for("@virtualstate/navigation/getState"),je=Symbol.for("@virtualstate/navigation/setState"),qs=Symbol.for("@virtualstate/navigation/disposeState");function ki(e){return e==="reload"||e==="push"||e==="replace"||e==="traverse"}class _s extends bn{#s=0;#t=[];#n=new Set;#e=-1;#r;#i=new WeakSet;#a="";#l=void 0;#c=void 0;get canGoBack(){return!!this.#t[this.#e-1]}get canGoForward(){return!!this.#t[this.#e+1]}get currentEntry(){return this.#e===-1?(this.#l||(this.#l=new Ae({getState:this[Nt],navigationType:"push",index:-1,sameDocument:!1,url:this.#a.toString()})),this.#l):this.#t[this.#e]}get transition(){const t=this.#r;return t?.signal.aborted?void 0:t}constructor(t={}){super(),this[is](t)}[is](t){this.#c=t,this.#a=ys(t?.baseURL),this.#t=[],t.entries&&this[pe](t.entries),t.currentKey?this[as](t.currentKey):typeof t.currentIndex=="number"&&this[Vs](t.currentIndex)}[as](t){const s=this.#t.findIndex(n=>n.key===t);s!==-1&&(this.#e=s)}[Vs](t){t<=-1||t>=this.#t.length||(this.#e=t)}[pe](t){this.#t=t.map(({key:s,url:n,navigationType:r,state:i,sameDocument:o},a)=>new Ae({getState:this[Nt],navigationType:ki(r)?r:"push",sameDocument:o??!0,index:a,url:n,key:s,state:i})),this.#e===-1&&this.#t.length&&(this.#e=0)}[Nt]=t=>this.#c?.getState?.(t)??void 0;[je]=t=>this.#c?.setState?.(t);[qs]=t=>this.#c?.disposeState?.(t);back(t){if(!this.canGoBack)throw new Q("Cannot go back");const s=this.#t[this.#e-1];return this.#f("traverse",this.#o(s,{...t,navigationType:"traverse"}))}entries(){return[...this.#t]}forward(t){if(!this.canGoForward)throw new Q;const s=this.#t[this.#e+1];return this.#f("traverse",this.#o(s,{...t,navigationType:"traverse"}))}goTo(t,s){return this.traverseTo(t,s)}traverseTo(t,s){const n=this.#t.find(r=>r.key===t);if(n)return this.#f("traverse",this.#o(n,{...s,navigationType:"traverse"}));throw new Q}#h=t=>{function s(r,i){return r.origin===i.origin}const n=this.currentEntry?.url;return n?s(new URL(n),new URL(t)):!0};navigate(t,s){let n=this.#a;this.currentEntry?.url&&(n=this.currentEntry?.url);const r=new URL(t,n).toString();let i="push";(s?.history==="push"||s?.history==="replace")&&(i=s?.history);const o=this.#u({getState:this[Nt],url:r,...s,sameDocument:this.#h(r),navigationType:i});return this.#f(i,o,void 0,s)}#o=(t,s)=>this.#u({...t,getState:this[Nt],index:t?.index??void 0,state:s?.state??t?.getState(),navigationType:t?.[Je]??(typeof s?.navigationType=="string"?s.navigationType:"replace"),...s,get[he](){return t?.[he]},get[St](){return t?.[St]}});#u=t=>{const s=new Ae({...t,index:t.index??(()=>this.#t.indexOf(s))});return s};#f=(t,s,n,r)=>{if(s===this.currentEntry)throw new Q;if(this.#t.findIndex(o=>o.id===s.id)>-1)throw new Q;return this.#p(t,s,n,r)};#p=(t,s,n,r)=>{const i=n??new vi({from:this.currentEntry,navigationType:typeof t=="string"?t:"replace",rollback:u=>this.#b(i,u),[Gt]:t,[Xt]:[...this.#t],[ue]:this.#e,[re]:[...this.#n],[rt]:s,[Qe]:this}),{finished:o,committed:a}=i,l=()=>this.#d(t,s,i,r);return this.#v(i),l().catch(u=>{}),{committed:a,finished:o}};#v=t=>{this.#i.add(t)};#d=(t,s,n,r)=>{try{return this.#s+=1,this.#w(t,s,n,r)}finally{this.#s-=1}};#b=(t,s)=>{const n=t[Xt],r=t[ue],i=n[r],o=i?this.#o(i,s):void 0,a={...s,index:r,known:new Set([...this.#n,...n]),navigationType:o?.[Je]??"replace",entries:n},l=o?Ut:js,u=o??this.#u({getState:this[Nt],navigationType:"replace",index:a.index,sameDocument:!0,...s});return this.#f(l,u,void 0,a)};#w=(t,s,n,r)=>{let i=t;const o=Ti();o&&s.sameDocument&&typeof i=="string"&&o?.mark?.(`same-document-navigation:${s.id}`);let a=!1,l=!1;const{currentEntry:u}=this;this.#r?.finished?.catch(C=>C),this.#r?.[wt]?.promise?.catch(C=>C),this.#r?.[ht]?.promise?.catch(C=>C),this.#r?.[Pt](),this.#r=n;const T=n.dispatchEvent({type:pi,transition:n,entry:s}),d=({entries:C,index:x,known:k})=>{n.signal.aborted||(this.#t=C,k&&(this.#n=new Set([...this.#n,...k])),this.#e=x,this[je](this.currentEntry))},p=async C=>{if(l)return;l=!0,d(C);const{entriesChange:x}=C,k=[n.dispatchEvent(pt({type:es,transition:n,entry:s}))];x&&k.push(this.dispatchEvent(pt({type:"entrieschange",...x}))),await Promise.all(k)},E=async()=>{if(await T,!(typeof r?.index=="number"&&r.entries))throw new Q;const C=this.entries(),x=C.map(_=>_.key),k=r.entries.map(_=>_.key),I=C.filter(_=>!k.includes(_.key)),N=r.entries.filter(_=>!x.includes(_.key));return await p({entries:r.entries,index:r.index,known:r.known,entriesChange:I.length||N.length?{removedEntries:I,addedEntries:N,updatedEntries:[]}:void 0}),await this.dispatchEvent(pt({type:"currententrychange"})),a=!0,s},A=()=>{if(t===js)return E();const C=Si({currentEntry:u,currentIndex:this.#e,options:r,transition:n,known:this.#n,commit:p,reportError:n[qt]}),x=new Promise(queueMicrotask);let k=[];const I=R(C)[Symbol.iterator](),N={[Symbol.iterator]:()=>({next:()=>I.next()})};async function _(){for(const S of N){if(kn(S)&&k.push(Promise.allSettled([S]).then(([f])=>f)),n[ss]||a&&n[ts])return P().then(_);if(n.signal.aborted)break}if(k.length)return P()}async function P(){const S=[...k];if(S.length){k=[];const v=(await Promise.all(S)).filter(hi);if(v.length===1)throw await Promise.reject(v[0]);if(v.length)throw new AggregateError(v,v[0].reason?.message)}else n[de]||await x}return _().then(()=>n[de]?void 0:x).then(()=>s)},L=async()=>this.#y();function*R(C){const x=new Promise(queueMicrotask),{currentEntryChange:k,navigate:I,waitForCommit:N,commit:_,abortController:P}=C,S=P.abort.bind(P);if(n.signal.addEventListener("abort",S,{once:!0}),typeof i=="string"||i===Ut){const f=u?.dispatchEvent(pt({type:"navigatefrom",intercept:n[lt],transitionWhile:n[lt]}));f&&(yield f)}typeof i=="string"&&(yield n.dispatchEvent(I)),n[ss]||_(),yield N,s.sameDocument&&(yield n.dispatchEvent(k)),a=!0,typeof i=="string"&&(yield s.dispatchEvent(pt({type:"navigateto",intercept:n[lt],transitionWhile:n[lt]}))),yield L(),n[Tn].size||(yield x),yield n.dispatchEvent({type:gi,transition:n,entry:s}),yield n[fe](),n.signal.removeEventListener("abort",S),yield n[Ot](),typeof i=="string"&&(yield n.dispatchEvent(pt({type:"finish",intercept:n[lt],transitionWhile:n[lt]})),yield n.dispatchEvent(pt({type:"navigatesuccess",intercept:n[lt],transitionWhile:n[lt]})))}const U=()=>{try{return A()}catch(C){return Promise.reject(C)}};return Promise.allSettled([U()]).then(async([C])=>{C.status==="rejected"&&await n.dispatchEvent({type:Cn,error:C.reason,transition:n,entry:s}),await L(),await n.dispatchEvent({type:mi,transition:n,entry:s}),await n[fe](),this.#r===n&&(this.#r=void 0),s.sameDocument&&typeof i=="string"&&(o.mark(`same-document-navigation-finish:${s.id}`),o.measure(`same-document-navigation:${s.url}`,`same-document-navigation:${s.id}`,`same-document-navigation-finish:${s.id}`))}).then(()=>s)};#y=async()=>{for(const t of this.#n){if(this.#t.findIndex(r=>r.key===t.key)!==-1)continue;this.#n.delete(t);const n=pt({type:"dispose",entry:t});this[qs](t),await t.dispatchEvent(n),await this.dispatchEvent(n)}};reload(t){const{currentEntry:s}=this;if(!s)throw new Q;const n=this.#o(s,t);return this.#f("reload",n,void 0,t)}updateCurrentEntry(t){const{currentEntry:s}=this;if(!s)throw new Q("Expected current entry");s[wn](t.state),this[je](s);const n=new In("currententrychange",{from:s,navigationType:void 0}),r=pt({type:"entrieschange",addedEntries:[],removedEntries:[],updatedEntries:[s]});return Promise.all([this.dispatchEvent(n),this.dispatchEvent(r)])}}function Ti(){return typeof performance<"u"?performance:{now(){return Date.now()},mark(){},measure(){}}}let Me;function Nn(){return le||Me||(Me=new _s)}let On=JSON;function Ci(e){return On.stringify(e)}function Ii(e){return On.parse(e)}const $i=Symbol.for("@virtualstate/navigation/location/checkChange"),os=Symbol.for("@virtualstate/navigation/location/awaitFinished"),Ft=Symbol.for("@virtualstate/navigation/location/transitionURL"),nt=Symbol.for("@virtualstate/navigation/location/url"),zi="https://html.spec.whatwg.org/";class Ni{#s;#t;constructor(t){this.#s=t,this.#t=t.navigation;const s=()=>{this.#e=void 0,this.#r=void 0};this.#t.addEventListener("navigate",()=>{const n=this.#t.transition;n&&r(n)&&n[ht].promise.then(s,s);function r(i){return ht in i}}),this.#t.addEventListener("currententrychange",s)}#n=new WeakMap;#e;#r;get[nt](){if(this.#e)return this.#e;const{currentEntry:t}=this.#t;if(!t)return this.#r=ys(this.#s.baseURL),this.#r;const s=this.#n.get(t);if(s)return s;const n=new URL(t.url??zi);return this.#n.set(t,n),n}get hash(){return this[nt].hash}set hash(t){this.#i("hash",t)}get host(){return this[nt].host}set host(t){this.#i("host",t)}get hostname(){return this[nt].hostname}set hostname(t){this.#i("hostname",t)}get href(){return this[nt].href}set href(t){this.#i("href",t)}get origin(){return this[nt].origin}get pathname(){return this[nt].pathname}set pathname(t){this.#i("pathname",t)}get port(){return this[nt].port}set port(t){this.#i("port",t)}get protocol(){return this[nt].protocol}set protocol(t){this.#i("protocol",t)}get search(){return this[nt].search}set search(t){this.#i("search",t)}#i=(t,s)=>{const n=this[nt].toString();let r;t==="href"?r=new URL(s,n):(r=new URL(n),r[t]=s);const i=r.toString();n!==i&&this.#a(r,()=>this.#t.navigate(i))};replace(t){return this.#a(t,s=>this.#t.navigate(s.toString(),{history:"replace"}))}reload(){return this.#l(this.#t.reload())}assign(t){return this.#a(t,s=>this.#t.navigate(s.toString()))}[Ft](t,s){return this.#a(t,s)}#a=async(t,s)=>{const n=this.#e=typeof t=="string"?new URL(t,this[nt].toString()):t;try{await this.#l(s(n))}finally{this.#e===n&&(this.#e=void 0)}};[os](t){return this.#l(t)}#l=async t=>{if(this.#r=void 0,!t)return;const{committed:s,finished:n}=t;await Promise.all([s||Promise.resolve(void 0),n||Promise.resolve(void 0)])};#c=()=>{const t=this[nt],s=t.toString(),n=this.#t.currentEntry?.url;if(s!==n)return this.#a(t,()=>this.#t.navigate(s))};[$i](){return this.#c()}}const Oi=Symbol.for("@virtualstate/navigation/history/state");class ls extends Ni{#s;#t;constructor(t){super(t),this.#s=t,this.#t=t.navigation}get length(){return this.#t.entries().length}scrollRestoration="manual";get state(){const t=this.#t.currentEntry?.getState();return typeof t=="string"||typeof t=="number"||typeof t=="boolean"?t:this.#s[Oi]??void 0}back(){const t=this.#t.entries(),s=this.#t.currentEntry?.index??-1,r=t[s-1]?.url;if(!r)throw new Q("Cannot go back");return this[Ft](r,()=>this.#t.back())}forward(){const t=this.#t.entries(),s=this.#t.currentEntry?.index??-1,r=t[s+1]?.url;if(!r)throw new Q("Cannot go forward");return this[Ft](r,()=>this.#t.forward())}go(t){if(typeof t!="number"||t===0||isNaN(t))return this[os](this.#t.reload());const s=this.#t.entries(),{currentEntry:n}=this.#t;if(!n)throw new Error(`Could not go ${t}`);const r=n.index+t,i=s[r];if(!i)throw new Error(`Could not go ${t}`);const o=i.key;return this[os](this.#t.traverseTo(o))}replaceState(t,s,n){return n?this[Ft](n,r=>this.#t.navigate(r.toString(),{state:t,history:"replace"})):this.#t.updateCurrentEntry({state:t})}pushState(t,s,n){return n?this[Ft](n,r=>this.#t.navigate(r.toString(),{state:t})):this.#t.updateCurrentEntry({state:t})}}const ge=typeof window>"u"?void 0:window,Fs=typeof self>"u"?void 0:self,kt="__@virtualstate/navigation/key",Pn="__@virtualstate/navigation/meta";function Pi(e=ge){if(!(typeof e>"u"))return e.history}function Rn(e){return yt(e)&&e[Pn]===!0}function Dt(e){return yt(e)&&Rn(e[kt])}function Ri(e,t){t&&(typeof sessionStorage>"u"||sessionStorage.removeItem(e.key))}function Ai(e,t=jt.limit){let s=e.entries();return typeof t=="number"&&(s=s.slice(-t)),s.map(({id:n,key:r,url:i,sameDocument:o})=>({id:n,key:r,url:i,sameDocument:o}))}function Li(e,t,s=jt.limit){return{[Pn]:!0,currentIndex:t.index,key:t.key,entries:Ai(e,s),state:t.getState()}}function ie(e,t,s=jt.limit){return{[kt]:Li(e,t,s)}}function Di(e,t,s,n,r){o();function i(){return ie(e,s,r)}function o(){if(!(typeof sessionStorage>"u"))try{const a=Ci(i());sessionStorage.setItem(s.key,a)}catch{}}}function Ui(e,t){return r()??i();function s(){try{return e.state}catch{return}}function n(){const o=e.originalState??s();return yt(o)?o:void 0}function r(){const o=n();if(Dt(o)&&o[kt].key===t.key)return o[kt].state}function i(){if(!(typeof sessionStorage>"u"))try{const o=sessionStorage.getItem(t.key);if(!o)return;const a=Ii(o);return!yt(a)||!Dt(a)?void 0:a[kt].state}catch{return}}}const jt=Object.freeze({persist:!0,persistState:!0,history:!0,limit:50,patch:!0,interceptEvents:!0});function An(e){return yt(e)&&typeof e[pe]=="function"&&typeof e[as]=="function"}function ji(e){const t=[{key:ce()}],s=e??new _s({entries:t}),n=new ls({navigation:s});return{navigation:s,history:n,apply(){An(e)&&!s.entries().length&&e[pe](t)}}}function Mi(e,t){function s(r,i){o();function o(){if(!Vi(r))return;zt(r);const a=i.getAttribute("target");if(a&&(a==="_blank"||a!==t.name))return;const l={history:"auto",[ns]:!0,[zn]:i.download,[rs]:r};e.navigate(i.href,l)}}function n(r,i){o();function o(){if(r.defaultPrevented)return;const a=r.submitter&&"formMethod"in r.submitter&&r.submitter.formMethod?r.submitter.formMethod:i.method;if(a==="dialog")return;const l=r.submitter&&"formAction"in r.submitter&&r.submitter.formAction?r.submitter.formAction:i.action,u=i.getAttribute("target");if(u&&(u==="_blank"||u!==t.name))return;let T;try{T=new FormData(i)}catch{T=new FormData(void 0)}const d=a==="get"?new URLSearchParams([...T].map(([R,U])=>U instanceof File?[R,U.name]:[R,U])):void 0,p=a==="post"?T:void 0,E=new URL(l,e.currentEntry.url);d&&(E.search=d.toString());const A=r;zt(A);const L={history:"auto",[ns]:!0,[$n]:p,[rs]:A};e.navigate(E.href,L)}}t.addEventListener("click",r=>{if(r.target?.ownerDocument===t.document){const i=Ln(r);yt(i)&&s(r,i)}}),t.addEventListener("submit",r=>{if(r.target?.ownerDocument===t.document){const i=Dn(r);yt(i)&&n(r,i)}})}function Ln(e){return jn(Un(e),"a[href]:not([data-navigation-ignore])")}function Dn(e){return jn(Un(e),"form:not([data-navigation-ignore])")}function Un(e){return e.composedPath?e.composedPath()[0]??e.target:e.target}function Hi(e,t,s){r(),o(),i();function n(a){try{Object.defineProperty(a,"navigation",{value:s})}catch{}if(!a.history)try{Object.defineProperty(a,"history",{value:t})}catch{}}function r(){if(n(e),e===ge){if(Fs)try{Object.defineProperty(Fs,"navigation",{value:s})}catch{}if(typeof globalThis<"u")try{Object.defineProperty(globalThis,"navigation",{value:s})}catch{}}}function i(){if(t instanceof ls)return;const a=new ls({navigation:s}),l=a.pushState.bind(a),u=a.replaceState.bind(a),T=a.go.bind(a),d=a.back.bind(a),p=a.forward.bind(a),E=Object.getPrototypeOf(t),A={pushState:{...Object.getOwnPropertyDescriptor(E,"pushState"),value:l},replaceState:{...Object.getOwnPropertyDescriptor(E,"replaceState"),value:u},go:{...Object.getOwnPropertyDescriptor(E,"go"),value:T},back:{...Object.getOwnPropertyDescriptor(E,"back"),value:d},forward:{...Object.getOwnPropertyDescriptor(E,"forward"),value:p}};Object.defineProperties(E,A);const L=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"state");Object.defineProperty(t,"state",{...L,get(){return a.state}}),Object.defineProperty(t,"originalState",{...L})}function o(){if(!e.PopStateEvent)return;const a=e.PopStateEvent.prototype;if(!a)return;const l=Object.getOwnPropertyDescriptor(a,"state");Object.defineProperty(a,"state",{...l,get(){const u=l.get.call(this);return Dt(u)?u[kt].state:u}}),Object.defineProperty(a,"originalState",{...l})}}function Wi(e=jt){const{persist:t,persistState:s,history:n,limit:r,patch:i,interceptEvents:o,window:a=ge,navigation:l}={...jt,...e},u=t||s,T=a??ge,d=e.history&&typeof e.history!="boolean"?e.history:Pi(T);if(!d)return ji();zt(T,"window required when using polyfill with history, this shouldn't be seen");const p=d?.state;let E={currentIndex:-1,entries:[],key:""};Dt(p)&&(E=p[kt]);let A=E.entries;const L=!!((a||n)&&d);if(!A.length){let I;T.location?.href&&(I=T.location.href);let N;!Dt(p)&&!Rn(p)&&(N=p);const _=ce();A=[{key:_,state:N,url:I}],E.key=_,E.currentIndex=0}const R={entries:A,currentIndex:E?.currentIndex,currentKey:E?.key,getState(I){if(L)return Ui(d,I)},setState(I){L&&I.sameDocument&&Di(U,d,I,u,r)},disposeState(I){L&&Ri(I,u)}},U=l??new _s(R),C=d?.pushState.bind(d),x=d?.replaceState.bind(d),k=d?.go.bind(d);return{navigation:U,history:d,apply(){if(An(U)&&U[is](R),L){const I=new Set,N=new Set;U.addEventListener("navigate",_=>{if(_.destination.sameDocument)return;_.intercept({commit:"after-transition",async handler(){queueMicrotask(()=>{_.signal.aborted||P()})}});function P(){if(yt(_.originalEvent)){const v=Ln(_.originalEvent);if(v)return S(v);{const D=Dn(_.originalEvent);if(D)return f(D)}}location.href=_.destination.url}function S(v){const D=v.cloneNode();D.setAttribute("data-navigation-ignore","1"),D.click()}function f(v){const D=v.cloneNode();D.setAttribute("data-navigation-ignore","1"),D.submit()}}),U.addEventListener("currententrychange",({navigationType:_,from:P})=>{const{currentEntry:S}=U;if(!S)return;const{key:f,url:v}=S;if(N.delete(f)||!S?.sameDocument)return;const D=ie(U,S,r);switch(_||"replace"){case"push":return C(D,"",v);case"replace":return x(D,"",v);case"traverse":const M=S.index-P.index;return I.add(f),k(M)}}),T.addEventListener("popstate",_=>{const{state:P,originalState:S}=_,f=S??P;if(!Dt(f))return;const{[kt]:{key:v}}=f;if(I.delete(v))return;N.add(v);let D;try{D=U.traverseTo(v).committed}catch(M){if(M instanceof Q&&!t)return;throw M}(t||s)&&D.then(M=>{const G=ie(U,M,r);x(G,"",M.url)}).catch(()=>{})})}if(o&&Mi(U,T),i&&Hi(T,d,U),!d.state){const I=ie(U,U.currentEntry,r);x(I,"",U.currentEntry.url)}}}}function Vi(e){return e.button===0&&!e.defaultPrevented&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey}function jn(e,t){let s=n();for(;s;){if(s.matches(t))return zt(s),s;s=s.parentElement??s.getRootNode()?.host}return;function n(){if(e)return e.matches instanceof Function?e:e.parentElement}}function qi(e=jt){const{apply:t,navigation:s}=Wi(e);return t(),s}function Fi(e=Nn()){const t=globalThis;return e!==le&&!Object.hasOwn(t,"navigation")&&typeof window<"u"}const Bs=Nn();if(Fi(Bs))try{qi({navigation:Bs})}catch(e){console.error("Failed to apply polyfill"),console.error(e)}var Kt=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(e,t,s,n,r,i){this.type=e,this.name=t,this.prefix=s,this.value=n,this.suffix=r,this.modifier=i}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},Bi=/[$_\p{ID_Start}]/u,Gi=/[$_\u200C\u200D\p{ID_Continue}]/u,cs=".*";function Ki(e,t){return/^[\x00-\x7F]*$/.test(e)}function Mn(e,t=!1){let s=[],n=0;for(;n<e.length;){let r=e[n],i=function(o){if(!t)throw new TypeError(o);s.push({type:"INVALID_CHAR",index:n,value:e[n++]})};if(r==="*"){s.push({type:"ASTERISK",index:n,value:e[n++]});continue}if(r==="+"||r==="?"){s.push({type:"OTHER_MODIFIER",index:n,value:e[n++]});continue}if(r==="\\"){s.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if(r==="{"){s.push({type:"OPEN",index:n,value:e[n++]});continue}if(r==="}"){s.push({type:"CLOSE",index:n,value:e[n++]});continue}if(r===":"){let o="",a=n+1;for(;a<e.length;){let l=e.substr(a,1);if(a===n+1&&Bi.test(l)||a!==n+1&&Gi.test(l)){o+=e[a++];continue}break}if(!o){i(`Missing parameter name at ${n}`);continue}s.push({type:"NAME",index:n,value:o}),n=a;continue}if(r==="("){let o=1,a="",l=n+1,u=!1;if(e[l]==="?"){i(`Pattern cannot start with "?" at ${l}`);continue}for(;l<e.length;){if(!Ki(e[l])){i(`Invalid character '${e[l]}' at ${l}.`),u=!0;break}if(e[l]==="\\"){a+=e[l++]+e[l++];continue}if(e[l]===")"){if(o--,o===0){l++;break}}else if(e[l]==="("&&(o++,e[l+1]!=="?")){i(`Capturing groups are not allowed at ${l}`),u=!0;break}a+=e[l++]}if(u)continue;if(o){i(`Unbalanced pattern at ${n}`);continue}if(!a){i(`Missing pattern at ${n}`);continue}s.push({type:"REGEX",index:n,value:a}),n=l;continue}s.push({type:"CHAR",index:n,value:e[n++]})}return s.push({type:"END",index:n,value:""}),s}function Hn(e,t={}){let s=Mn(e);t.delimiter??="/#?",t.prefixes??="./";let n=`[^${ot(t.delimiter)}]+?`,r=[],i=0,o=0,a=new Set,l=C=>{if(o<s.length&&s[o].type===C)return s[o++].value},u=()=>l("OTHER_MODIFIER")??l("ASTERISK"),T=C=>{let x=l(C);if(x!==void 0)return x;let{type:k,index:I}=s[o];throw new TypeError(`Unexpected ${k} at ${I}, expected ${C}`)},d=()=>{let C="",x;for(;x=l("CHAR")??l("ESCAPED_CHAR");)C+=x;return C},p=C=>C,E=t.encodePart||p,A="",L=C=>{A+=C},R=()=>{A.length&&(r.push(new Kt(3,"","",E(A),"",3)),A="")},U=(C,x,k,I,N)=>{let _=3;switch(N){case"?":_=1;break;case"*":_=0;break;case"+":_=2;break}if(!x&&!k&&_===3){L(C);return}if(R(),!x&&!k){if(!C)return;r.push(new Kt(3,"","",E(C),"",_));return}let P;k?k==="*"?P=cs:P=k:P=n;let S=2;P===n?(S=1,P=""):P===cs&&(S=0,P="");let f;if(x?f=x:k&&(f=i++),a.has(f))throw new TypeError(`Duplicate name '${f}'.`);a.add(f),r.push(new Kt(S,f,E(C),P,E(I),_))};for(;o<s.length;){let C=l("CHAR"),x=l("NAME"),k=l("REGEX");if(!x&&!k&&(k=l("ASTERISK")),x||k){let N=C??"";t.prefixes.indexOf(N)===-1&&(L(N),N=""),R();let _=u();U(N,x,k,"",_);continue}let I=C??l("ESCAPED_CHAR");if(I){L(I);continue}if(l("OPEN")){let N=d(),_=l("NAME"),P=l("REGEX");!_&&!P&&(P=l("ASTERISK"));let S=d();T("CLOSE");let f=u();U(N,_,P,S,f);continue}R(),T("END")}return r}function ot(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function Gs(e){return e&&e.ignoreCase?"ui":"u"}function Yi(e,t,s){return Wn(Hn(e,s),t,s)}function Rt(e){switch(e){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function Wn(e,t,s={}){s.delimiter??="/#?",s.prefixes??="./",s.sensitive??=!1,s.strict??=!1,s.end??=!0,s.start??=!0,s.endsWith="";let n=s.start?"^":"";for(let a of e){if(a.type===3){a.modifier===3?n+=ot(a.value):n+=`(?:${ot(a.value)})${Rt(a.modifier)}`;continue}t&&t.push(a.name);let l=`[^${ot(s.delimiter)}]+?`,u=a.value;if(a.type===1?u=l:a.type===0&&(u=cs),!a.prefix.length&&!a.suffix.length){a.modifier===3||a.modifier===1?n+=`(${u})${Rt(a.modifier)}`:n+=`((?:${u})${Rt(a.modifier)})`;continue}if(a.modifier===3||a.modifier===1){n+=`(?:${ot(a.prefix)}(${u})${ot(a.suffix)})`,n+=Rt(a.modifier);continue}n+=`(?:${ot(a.prefix)}`,n+=`((?:${u})(?:`,n+=ot(a.suffix),n+=ot(a.prefix),n+=`(?:${u}))*)${ot(a.suffix)})`,a.modifier===0&&(n+="?")}let r=`[${ot(s.endsWith)}]|$`,i=`[${ot(s.delimiter)}]`;if(s.end)return s.strict||(n+=`${i}?`),s.endsWith.length?n+=`(?=${r})`:n+="$",new RegExp(n,Gs(s));s.strict||(n+=`(?:${i}(?=${r}))?`);let o=!1;if(e.length){let a=e[e.length-1];a.type===3&&a.modifier===3&&(o=s.delimiter.indexOf(a)>-1)}return o||(n+=`(?=${i}|${r})`),new RegExp(n,Gs(s))}var Et={delimiter:"",prefixes:"",sensitive:!0,strict:!0},Xi={delimiter:".",prefixes:"",sensitive:!0,strict:!0},Zi={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function Ji(e,t){return e.length?e[0]==="/"?!0:!t||e.length<2?!1:(e[0]=="\\"||e[0]=="{")&&e[1]=="/":!1}function Vn(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}function Qi(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}function qn(e){return!e||e.length<2?!1:e[0]==="["||(e[0]==="\\"||e[0]==="{")&&e[1]==="["}var Fn=["ftp","file","http","https","ws","wss"];function Bn(e){if(!e)return!0;for(let t of Fn)if(e.test(t))return!0;return!1}function ta(e,t){if(e=Vn(e,"#"),t||e==="")return e;let s=new URL("https://example.com");return s.hash=e,s.hash?s.hash.substring(1,s.hash.length):""}function ea(e,t){if(e=Vn(e,"?"),t||e==="")return e;let s=new URL("https://example.com");return s.search=e,s.search?s.search.substring(1,s.search.length):""}function sa(e,t){return t||e===""?e:qn(e)?Yn(e):Kn(e)}function na(e,t){if(t||e==="")return e;let s=new URL("https://example.com");return s.password=e,s.password}function ra(e,t){if(t||e==="")return e;let s=new URL("https://example.com");return s.username=e,s.username}function ia(e,t,s){if(s||e==="")return e;if(t&&!Fn.includes(t))return new URL(`${t}:${e}`).pathname;let n=e[0]=="/";return e=new URL(n?e:"/-"+e,"https://example.com").pathname,n||(e=e.substring(2,e.length)),e}function aa(e,t,s){return Gn(t)===e&&(e=""),s||e===""?e:Xn(e)}function oa(e,t){return e=Qi(e,":"),t||e===""?e:bs(e)}function Gn(e){switch(e){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function bs(e){if(e==="")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol '${e}'.`)}function la(e){if(e==="")return e;let t=new URL("https://example.com");return t.username=e,t.username}function ca(e){if(e==="")return e;let t=new URL("https://example.com");return t.password=e,t.password}function Kn(e){if(e==="")return e;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(e))throw new TypeError(`Invalid hostname '${e}'`);let t=new URL("https://example.com");return t.hostname=e,t.hostname}function Yn(e){if(e==="")return e;if(/[^0-9a-fA-F[\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname '${e}'`);return e.toLowerCase()}function Xn(e){if(e===""||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port '${e}'.`)}function ha(e){if(e==="")return e;let t=new URL("https://example.com");return t.pathname=e[0]!=="/"?"/-"+e:e,e[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}function ua(e){return e===""?e:new URL(`data:${e}`).pathname}function da(e){if(e==="")return e;let t=new URL("https://example.com");return t.search=e,t.search.substring(1,t.search.length)}function fa(e){if(e==="")return e;let t=new URL("https://example.com");return t.hash=e,t.hash.substring(1,t.hash.length)}var pa=class{#s;#t=[];#n={};#e=0;#r=1;#i=0;#a=0;#l=0;#c=0;#h=!1;constructor(e){this.#s=e}get result(){return this.#n}parse(){for(this.#t=Mn(this.#s,!0);this.#e<this.#t.length;this.#e+=this.#r){if(this.#r=1,this.#t[this.#e].type==="END"){if(this.#a===0){this.#f(),this.#m()?this.#o(9,1):this.#_()?this.#o(8,1):this.#o(7,0);continue}else if(this.#a===2){this.#p(5);continue}this.#o(10,0);break}if(this.#l>0)if(this.#T())this.#l-=1;else continue;if(this.#k()){this.#l+=1;continue}switch(this.#a){case 0:this.#b()&&this.#p(1);break;case 1:if(this.#b()){this.#$();let e=7,t=1;this.#w()?(e=2,t=3):this.#h&&(e=2),this.#o(e,t)}break;case 2:this.#y()?this.#p(3):(this.#E()||this.#_()||this.#m())&&this.#p(5);break;case 3:this.#x()?this.#o(4,1):this.#y()&&this.#o(5,1);break;case 4:this.#y()&&this.#o(5,1);break;case 5:this.#C()?this.#c+=1:this.#I()&&(this.#c-=1),this.#S()&&!this.#c?this.#o(6,1):this.#E()?this.#o(7,0):this.#_()?this.#o(8,1):this.#m()&&this.#o(9,1);break;case 6:this.#E()?this.#o(7,0):this.#_()?this.#o(8,1):this.#m()&&this.#o(9,1);break;case 7:this.#_()?this.#o(8,1):this.#m()&&this.#o(9,1);break;case 8:this.#m()&&this.#o(9,1);break}}this.#n.hostname!==void 0&&this.#n.port===void 0&&(this.#n.port="")}#o(e,t){switch(this.#a){case 0:break;case 1:this.#n.protocol=this.#g();break;case 2:break;case 3:this.#n.username=this.#g();break;case 4:this.#n.password=this.#g();break;case 5:this.#n.hostname=this.#g();break;case 6:this.#n.port=this.#g();break;case 7:this.#n.pathname=this.#g();break;case 8:this.#n.search=this.#g();break;case 9:this.#n.hash=this.#g();break}this.#a!==0&&e!==10&&([1,2,3,4].includes(this.#a)&&[6,7,8,9].includes(e)&&(this.#n.hostname??=""),[1,2,3,4,5,6].includes(this.#a)&&[8,9].includes(e)&&(this.#n.pathname??=this.#h?"/":""),[1,2,3,4,5,6,7].includes(this.#a)&&e===9&&(this.#n.search??="")),this.#u(e,t)}#u(e,t){this.#a=e,this.#i=this.#e+t,this.#e+=t,this.#r=0}#f(){this.#e=this.#i,this.#r=0}#p(e){this.#f(),this.#a=e}#v(e){return e<0&&(e=this.#t.length-e),e<this.#t.length?this.#t[e]:this.#t[this.#t.length-1]}#d(e,t){let s=this.#v(e);return s.value===t&&(s.type==="CHAR"||s.type==="ESCAPED_CHAR"||s.type==="INVALID_CHAR")}#b(){return this.#d(this.#e,":")}#w(){return this.#d(this.#e+1,"/")&&this.#d(this.#e+2,"/")}#y(){return this.#d(this.#e,"@")}#x(){return this.#d(this.#e,":")}#S(){return this.#d(this.#e,":")}#E(){return this.#d(this.#e,"/")}#_(){if(this.#d(this.#e,"?"))return!0;if(this.#t[this.#e].value!=="?")return!1;let e=this.#v(this.#e-1);return e.type!=="NAME"&&e.type!=="REGEX"&&e.type!=="CLOSE"&&e.type!=="ASTERISK"}#m(){return this.#d(this.#e,"#")}#k(){return this.#t[this.#e].type=="OPEN"}#T(){return this.#t[this.#e].type=="CLOSE"}#C(){return this.#d(this.#e,"[")}#I(){return this.#d(this.#e,"]")}#g(){let e=this.#t[this.#e],t=this.#v(this.#i).index;return this.#s.substring(t,e.index)}#$(){let e={};Object.assign(e,Et),e.encodePart=bs;let t=Yi(this.#g(),void 0,e);this.#h=Bn(t)}},He=["protocol","username","password","hostname","port","pathname","search","hash"],bt="*";function Ks(e,t){if(typeof e!="string")throw new TypeError("parameter 1 is not of type 'string'.");let s=new URL(e,t);return{protocol:s.protocol.substring(0,s.protocol.length-1),username:s.username,password:s.password,hostname:s.hostname,port:s.port,pathname:s.pathname,search:s.search!==""?s.search.substring(1,s.search.length):void 0,hash:s.hash!==""?s.hash.substring(1,s.hash.length):void 0}}function gt(e,t){return t?Bt(e):e}function Vt(e,t,s){let n;if(typeof t.baseURL=="string")try{n=new URL(t.baseURL),t.protocol===void 0&&(e.protocol=gt(n.protocol.substring(0,n.protocol.length-1),s)),!s&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&(e.username=gt(n.username,s)),!s&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&t.password===void 0&&(e.password=gt(n.password,s)),t.protocol===void 0&&t.hostname===void 0&&(e.hostname=gt(n.hostname,s)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&(e.port=gt(n.port,s)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&(e.pathname=gt(n.pathname,s)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&(e.search=gt(n.search.substring(1,n.search.length),s)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&t.hash===void 0&&(e.hash=gt(n.hash.substring(1,n.hash.length),s))}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol=="string"&&(e.protocol=oa(t.protocol,s)),typeof t.username=="string"&&(e.username=ra(t.username,s)),typeof t.password=="string"&&(e.password=na(t.password,s)),typeof t.hostname=="string"&&(e.hostname=sa(t.hostname,s)),typeof t.port=="string"&&(e.port=aa(t.port,e.protocol,s)),typeof t.pathname=="string"){if(e.pathname=t.pathname,n&&!Ji(e.pathname,s)){let r=n.pathname.lastIndexOf("/");r>=0&&(e.pathname=gt(n.pathname.substring(0,r+1),s)+e.pathname)}e.pathname=ia(e.pathname,e.protocol,s)}return typeof t.search=="string"&&(e.search=ea(t.search,s)),typeof t.hash=="string"&&(e.hash=ta(t.hash,s)),e}function Bt(e){return e.replace(/([+*?:{}()\\])/g,"\\$1")}function ga(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function ma(e,t){t.delimiter??="/#?",t.prefixes??="./",t.sensitive??=!1,t.strict??=!1,t.end??=!0,t.start??=!0,t.endsWith="";let s=".*",n=`[^${ga(t.delimiter)}]+?`,r=/[$_\u200C\u200D\p{ID_Continue}]/u,i="";for(let o=0;o<e.length;++o){let a=e[o];if(a.type===3){if(a.modifier===3){i+=Bt(a.value);continue}i+=`{${Bt(a.value)}}${Rt(a.modifier)}`;continue}let l=a.hasCustomName(),u=!!a.suffix.length||!!a.prefix.length&&(a.prefix.length!==1||!t.prefixes.includes(a.prefix)),T=o>0?e[o-1]:null,d=o<e.length-1?e[o+1]:null;if(!u&&l&&a.type===1&&a.modifier===3&&d&&!d.prefix.length&&!d.suffix.length)if(d.type===3){let p=d.value.length>0?d.value[0]:"";u=r.test(p)}else u=!d.hasCustomName();if(!u&&!a.prefix.length&&T&&T.type===3){let p=T.value[T.value.length-1];u=t.prefixes.includes(p)}u&&(i+="{"),i+=Bt(a.prefix),l&&(i+=`:${a.name}`),a.type===2?i+=`(${a.value})`:a.type===1?l||(i+=`(${n})`):a.type===0&&(!l&&(!T||T.type===3||T.modifier!==3||u||a.prefix!=="")?i+="*":i+=`(${s})`),a.type===1&&l&&a.suffix.length&&r.test(a.suffix[0])&&(i+="\\"),i+=Bt(a.suffix),u&&(i+="}"),a.modifier!==3&&(i+=Rt(a.modifier))}return i}var va=class{#s;#t={};#n={};#e={};#r={};#i=!1;constructor(e={},t,s){try{let n;if(typeof t=="string"?n=t:s=t,typeof e=="string"){let a=new pa(e);if(a.parse(),e=a.result,n===void 0&&typeof e.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");e.baseURL=n}else{if(!e||typeof e!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(n)throw new TypeError("parameter 1 is not of type 'string'.")}typeof s>"u"&&(s={ignoreCase:!1});let r={ignoreCase:s.ignoreCase===!0},i={pathname:bt,protocol:bt,username:bt,password:bt,hostname:bt,port:bt,search:bt,hash:bt};this.#s=Vt(i,e,!0),Gn(this.#s.protocol)===this.#s.port&&(this.#s.port="");let o;for(o of He){if(!(o in this.#s))continue;let a={},l=this.#s[o];switch(this.#n[o]=[],o){case"protocol":Object.assign(a,Et),a.encodePart=bs;break;case"username":Object.assign(a,Et),a.encodePart=la;break;case"password":Object.assign(a,Et),a.encodePart=ca;break;case"hostname":Object.assign(a,Xi),qn(l)?a.encodePart=Yn:a.encodePart=Kn;break;case"port":Object.assign(a,Et),a.encodePart=Xn;break;case"pathname":Bn(this.#t.protocol)?(Object.assign(a,Zi,r),a.encodePart=ha):(Object.assign(a,Et,r),a.encodePart=ua);break;case"search":Object.assign(a,Et,r),a.encodePart=da;break;case"hash":Object.assign(a,Et,r),a.encodePart=fa;break}try{this.#r[o]=Hn(l,a),this.#t[o]=Wn(this.#r[o],this.#n[o],a),this.#e[o]=ma(this.#r[o],a),this.#i=this.#i||this.#r[o].some(u=>u.type===2)}catch{throw new TypeError(`invalid ${o} pattern '${this.#s[o]}'.`)}}}catch(n){throw new TypeError(`Failed to construct 'URLPattern': ${n.message}`)}}test(e={},t){let s={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return!1;try{typeof e=="object"?s=Vt(s,e,!1):s=Vt(s,Ks(e,t),!1)}catch{return!1}let n;for(n of He)if(!this.#t[n].exec(s[n]))return!1;return!0}exec(e={},t){let s={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return;try{typeof e=="object"?s=Vt(s,e,!1):s=Vt(s,Ks(e,t),!1)}catch{return null}let n={};t?n.inputs=[e,t]:n.inputs=[e];let r;for(r of He){let i=this.#t[r].exec(s[r]);if(!i)return null;let o={};for(let[a,l]of this.#n[r].entries())if(typeof l=="string"||typeof l=="number"){let u=i[a+1];o[l]=u}n[r]={input:s[r]??"",groups:o}}return n}static compareComponent(e,t,s){let n=(a,l)=>{for(let u of["type","modifier","prefix","value","suffix"]){if(a[u]<l[u])return-1;if(a[u]!==l[u])return 1}return 0},r=new Kt(3,"","","","",3),i=new Kt(0,"","","","",3),o=(a,l)=>{let u=0;for(;u<Math.min(a.length,l.length);++u){let T=n(a[u],l[u]);if(T)return T}return a.length===l.length?0:n(a[u]??r,l[u]??r)};return!t.#e[e]&&!s.#e[e]?0:t.#e[e]&&!s.#e[e]?o(t.#r[e],[i]):!t.#e[e]&&s.#e[e]?o([i],s.#r[e]):o(t.#r[e],s.#r[e])}get protocol(){return this.#e.protocol}get username(){return this.#e.username}get password(){return this.#e.password}get hostname(){return this.#e.hostname}get port(){return this.#e.port}get pathname(){return this.#e.pathname}get search(){return this.#e.search}get hash(){return this.#e.hash}get hasRegExpGroups(){return this.#i}};globalThis.URLPattern||(globalThis.URLPattern=va);const Ys=(e,t)=>{try{const s=e instanceof URL?e:new URL(e),n=t instanceof URL?t:new URL(t,document.baseURI);if(s.origin!==n.origin)return null;const r=s.pathname,i=n.pathname;let o,a=i;if(a.endsWith("/")||(a+="/"),r.startsWith(a))o=r.slice(a.length);else if(r===i&&!i.endsWith("/"))o="";else if(r===i&&i.endsWith("/"))o="";else return null;return{pathname:o,search:s.search,hash:s.hash}}catch(s){return console.error("Error parsing URLs for relative parts:",s),null}},Zn=st("100%"),Jn=st("0%"),Qn=st("100%"),tr=st("100%"),er=st("100%"),ya=st("-38%"),_a=st("0%"),ba=st("100%"),wa=st("100%"),Ea=st("100%");st("0%");st("0%");st("90%");st("90%");st("50%");CSS.registerProperty({name:"--page-translate-x",syntax:"<length-percentage>",inherits:!1,initialValue:"0px"});CSS.registerProperty({name:"--page-translate-y",syntax:"<length-percentage>",inherits:!1,initialValue:"0px"});CSS.registerProperty({name:"--page-scale-x",syntax:"<percentage>",inherits:!1,initialValue:"100%"});CSS.registerProperty({name:"--page-scale-y",syntax:"<percentage>",inherits:!1,initialValue:"100%"});const xa=Y`:host{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;grid-template-areas:'stack';width:100cqw;height:100cqh;overflow:hidden;background-color:var(--color-canvas)}::slotted(*){grid-area:stack;z-index:var(--index,1)}slot[name=router]{display:none}:host([stack]){perspective:calc(var(--z,1200) * 1px);transform-style:preserve-3d;perspective-origin:calc(var(--x,50) * 1%) calc(var(--y,50) * 1%)}:host([stack-direction=horizontal]){--x:130}:host([stack-direction=vertical]){--y:130}::slotted(*){transform-style:preserve-3d;user-select:none}::slotted(*){--page-translate-z:calc((var(--present-index, -1) - var(--index, 0)) * -36px);translate:var(--page-translate-x,0) var(--page-translate-y,0) var(--page-translate-z);scale:var(--page-scale-x,100%) var(--page-scale-y,100%)}`,Sa=Tr([Y`:host{place-self:stretch;display:grid;transition-property:all;transition-behavior:allow-discrete}:host([data-tense=future]){--page-translate-x:${Zn};--page-translate-y:${Jn};--page-scale-x:${Qn};--page-scale-y:${tr};--page-opacity:${er}}:host([data-tense=past]){--page-translate-x:${ya};--page-translate-y:${_a};--page-scale-x:${ba};--page-scale-y:${wa};--page-opacity:${Ea}}`,Rr?Y``:Y`:host([data-from-tense=present]){transition-duration:var(--page-leave-duration);transition-timing-function:var(--page-leave-ease)}:host([data-tense=present]){transition-duration:var(--page-enter-duration);transition-timing-function:var(--page-enter-ease)}`],e=>e),ka=[null,"horizontal","vertical"];(()=>{let e=[et("appn-navigation-provider")],t,s=[],n,r=tt,i,o=[],a=[],l,u=[],T=[],d,p=[],E=[],A,L=[],R=[],U,C=[],x=[],k,I=[],N=[],_,P=[],S=[],f,v=[],D=[],M,G=[],V=[];return class extends r{static{n=this}static{const y=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:"base-uri"})],l=[ms({context:Ht})],d=[xt()],A=[xt()],U=[xt()],k=[xt()],_=[W({type:Boolean,reflect:!0,attribute:!0})],f=[mt({...Ct(ka),attribute:"stack-direction"})],M=[Qr({slot:"router",flatten:!0})],O(this,null,i,{kind:"accessor",name:"baseURI",static:!1,private:!1,access:{has:m=>"baseURI"in m,get:m=>m.baseURI,set:(m,w)=>{m.baseURI=w}},metadata:y},o,a),O(this,null,l,{kind:"accessor",name:"currentEntry",static:!1,private:!1,access:{has:m=>"currentEntry"in m,get:m=>m.currentEntry,set:(m,w)=>{m.currentEntry=w}},metadata:y},u,T),O(this,null,d,{kind:"accessor",name:"onnavigate",static:!1,private:!1,access:{has:m=>"onnavigate"in m,get:m=>m.onnavigate,set:(m,w)=>{m.onnavigate=w}},metadata:y},p,E),O(this,null,A,{kind:"accessor",name:"onnavigatesuccess",static:!1,private:!1,access:{has:m=>"onnavigatesuccess"in m,get:m=>m.onnavigatesuccess,set:(m,w)=>{m.onnavigatesuccess=w}},metadata:y},L,R),O(this,null,U,{kind:"accessor",name:"onnavigateerror",static:!1,private:!1,access:{has:m=>"onnavigateerror"in m,get:m=>m.onnavigateerror,set:(m,w)=>{m.onnavigateerror=w}},metadata:y},C,x),O(this,null,k,{kind:"accessor",name:"oncurrententrychange",static:!1,private:!1,access:{has:m=>"oncurrententrychange"in m,get:m=>m.oncurrententrychange,set:(m,w)=>{m.oncurrententrychange=w}},metadata:y},I,N),O(this,null,_,{kind:"accessor",name:"stack",static:!1,private:!1,access:{has:m=>"stack"in m,get:m=>m.stack,set:(m,w)=>{m.stack=w}},metadata:y},P,S),O(this,null,f,{kind:"accessor",name:"stackDirection",static:!1,private:!1,access:{has:m=>"stackDirection"in m,get:m=>m.stackDirection,set:(m,w)=>{m.stackDirection=w}},metadata:y},v,D),O(this,null,M,{kind:"accessor",name:"routersElements",static:!1,private:!1,access:{has:m=>"routersElements"in m,get:m=>m.routersElements,set:(m,w)=>{m.routersElements=w}},metadata:y},G,V),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:y},null,s),n=t.value,y&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:y})}static styles=xa;__nav=window.navigation;__previousEntry=null;__currentEntry=this.__nav.currentEntry;constructor(){super(),new Xe(this,{context:gs,initialValue:this}),this.__nav.addEventListener("navigate",y=>{y.canIntercept&&(this.__previousEntry=this.__nav.currentEntry,y.intercept({handler:()=>(this.__currentEntry=this.__nav.currentEntry,this.__effectRoutes(y.navigationType))}))}),this.__nav.addEventListener("currententrychange",y=>{this.currentEntry=this.__nav.currentEntry})}#s=h(this,o,location.href);get baseURI(){return this.#s}set baseURI(y){this.#s=y}async entries(){return this.__nav.entries().filter(w=>w.url?Ys(w.url,this.baseURI):!1)}async findFirstEntry(y,m){const w=await this.entries(),b=m?w.indexOf(m):0;for(let $=b>0?b:0;$<w.length;$++){const z=w[$],c=ct(z).with(y,g=>g).otherwise(()=>null);if(c)return c}return null}async findLastEntry(y,m){const w=await this.entries(),b=m?w.indexOf(m):w.length-1;for(let $=b<w.length?b:w.length-1;$>=0;$--){const z=w[$],c=ct(z).with(y,g=>g).otherwise(()=>null);if(c)return c}return null}#t=(h(this,a),h(this,u,this.__nav.currentEntry));get currentEntry(){return this.#t}set currentEntry(y){this.#t=y}#n=(h(this,T),-1);get currentEntryIndex(){return this.#n}updateCurrentEntry(y){this.__nav.updateCurrentEntry(y)}get transition(){return this.__nav.transition}get activation(){return this.__nav.activation??null}get canGoBack(){return this.__nav.canGoBack}get canGoForward(){return this.__nav.canGoForward}navigate(y,m){return this.__nav.navigate(y,m)}reload(y){return this.__nav.reload(y)}traverseTo(y,m){return this.__nav.traverseTo(y,m)}back(y){return this.__nav.back(y)}forward(y){return this.__nav.forward(y)}#e=h(this,p,void 0);get onnavigate(){return this.#e}set onnavigate(y){this.#e=y}#r=(h(this,E),h(this,L,void 0));get onnavigatesuccess(){return this.#r}set onnavigatesuccess(y){this.#r=y}#i=(h(this,R),h(this,C,void 0));get onnavigateerror(){return this.#i}set onnavigateerror(y){this.#i=y}#a=(h(this,x),h(this,I,void 0));get oncurrententrychange(){return this.#a}set oncurrententrychange(y){this.#a=y}#l=(h(this,N),h(this,P,!1));get stack(){return this.#l}set stack(y){this.#l=y}#c=(h(this,S),h(this,v,null));get stackDirection(){return this.#c}set stackDirection(y){this.#c=y}setCamera(y,m,w){this.style.setProperty("--x",`${y}`),this.style.setProperty("--y",`${m}`),this.style.setProperty("--z",`${w}`)}#h=(h(this,D),h(this,G,void 0));get routersElements(){return this.#h}set routersElements(y){this.#h=y}__effectRoutes=(h(this,V),async y=>{const m=async b=>{const $=this.routersElements.filter(j=>j instanceof HTMLTemplateElement),z=this.__nav.entries(),c=b==="prepare"?this.__previousEntry:this.__currentEntry,g=c?z.indexOf(c):-1;if(this.#n=g,g!==-1){if(b!=="finished")for(const j of z)await this.__effectRoute(j,$,{allEntries:z,currentEntry:c,currentEntryIndex:g,navigationType:y});this.__effectPagesSharedElement({previousEntry:this.__previousEntry,subsequentEntry:this.__currentEntry,mode:b})}};await m("prepare"),await document.startViewTransition(()=>m("enter")).finished,await m("finished")});__effectRoute=async(y,m,w)=>{const b=y.url;if(!b)return;const $=Ys(b,this.baseURI);if($)for(const z of m){const{pathname:c="*",search:g="*",hash:j="*"}=z.dataset;if(new URLPattern({pathname:c,search:g,hash:j}).exec($)){const F=z.dataset.target?ct(z.ownerDocument.getElementById(z.dataset.target)).when(Z=>Z instanceof HTMLTemplateElement,Z=>Z).otherwise(()=>(console.warn(`no found templateElement by id: ${JSON.stringify(z.dataset.target)}`),null)):z;if(!F)break;const it=this.querySelector(`appn-navigation-history-entry[data-index="${y.index}"]`);let at;if(it)at=it,it.navigationEntry=y,it.templateEle!==F&&(it.templateEle=F,it.hash=$.hash,it.innerHTML="",it.appendChild(F.content.cloneNode(!0)));else{const Z=new Ta;at=Z,Z.navigationEntry=y,Z.templateEle=F,Z.pathname=$.pathname,Z.search=$.search,Z.hash=$.hash,Z.appendChild(F.content.cloneNode(!0))}at.navigationType=w.navigationType??null,at.presentEntryIndex=w.currentEntryIndex,at.parentElement||await this.appendChild(at);break}}};__effectPagesSharedElement=async y=>{const m={},w=$=>{if($){const z=this.querySelector(`appn-navigation-history-entry[data-index="${$.index}"]`);if(z)return{node:z,navEntry:$}}};m.previous=w(y.previousEntry),m.subsequent=w(y.subsequentEntry);const b=$=>$.node.querySelectorAll("[data-shared-element],[data-shared-element-old],[data-shared-element-new]");if(y.mode==="finished"){for(const $ of[m.previous,m.subsequent])if($){const z=b($);$.node.style.viewTransitionName="";for(const c of z)c.style.viewTransitionName="",c.removeAttribute("data-shared-element-state")}}else if(y.mode==="prepare"){const $=new Map,z=[m.previous?.navEntry.index??0,m.subsequent?.navEntry.index??0].sort(),[c,g]=z,j=(g-c)*10+1;for(const q of[m.subsequent,m.previous])if(q){const B=b(q),F=q.node.style.viewTransitionName="appn-"+q.navEntry.index,it=(q.navEntry.index-c)*10;this.sharedElementCss.setRule(`group(${F})`,`::view-transition-group(${F}){z-index:${it};}`);for(const at of B){const{dataset:Z}=at,ke=Z.sharedElementOld||Z.sharedElement||"";this.__setSharedElement(ke,at,$,`z-index:${j};`)}}}else if(y.mode==="enter"){const $=new Map,z=[m.previous?.navEntry.index??0,m.subsequent?.navEntry.index??0].sort(),[c,g]=z,j=(g-c)*10+1;for(const q of[m.previous,m.subsequent])if(q){const B=b(q),F=q.node.style.viewTransitionName="appn-"+q.navEntry.index,it=(q.navEntry.index-c)*10;this.sharedElementCss.setRule(`group(${F})`,`::view-transition-group(${F}){z-index:${it};}`);for(const at of B){const{dataset:Z}=at,ke=Z.sharedElementNew||Z.sharedElement||"";this.__setSharedElement(ke,at,$,`z-index:${j};`)}}}};sharedElementCss=(y=>(y.addRule('[data-shared-element-state="old"]{visibility: hidden;!important;}'),y))(new ti);__setSharedElement(y,m,w,b){if(y){const $=w.get(y);$&&($.style.viewTransitionName="",$.dataset.sharedElementState="old"),w.set(y,m),m.style.viewTransitionName=y,m.dataset.sharedElementState="new";const z=m.dataset,c=z.sharedElementStyle;this.sharedElementCss.setRule(`group(${y})`,`::view-transition-group(${y}){${b}${c??""}}`);const g=z.sharedElementOldStyle;g&&this.sharedElementCss.setRule(`old(${y})`,`::view-transition-old(${y}){${g}}`);const j=z.sharedElementNewStyle;j&&this.sharedElementCss.setRule(`new(${y})`,`::view-transition-new(${y}){${j}}`)}}render(){return this.__html}__html=ps(K`<slot name="router" @slotchange="${()=>this.__effectRoutes()}"></slot><slot></slot><css-starting-style slotted="" selector="appn-navigation-history-entry[data-tense='present'][data-from-tense='future']" cssText="--page-translate-x: ${Zn};--page-translate-y: ${Jn};--page-scale-x: ${Qn};--page-scale-y: ${tr};--page-opacity: ${er};"></css-starting-style>`);static{h(n,s)}},n})();let Ta=(()=>{let e=[et("appn-navigation-history-entry")],t,s=[],n,r=tt,i,o=[],a=[],l,u=[],T=[],d,p=[],E=[],A,L=[],R=[],U,C=[],x=[],k,I=[],N=[],_,P=[],S=[];return class extends r{static{n=this}static{const f=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:!0})],l=[W({type:String,reflect:!0,attribute:!0})],d=[W({type:String,reflect:!0,attribute:!0})],A=[W({type:Object})],U=[mt(Ct([null,"reload","push","replace","traverse"]))],k=[W({type:Number,reflect:!0,attribute:!0})],_=[ms({context:Ht})],O(this,null,i,{kind:"accessor",name:"pathname",static:!1,private:!1,access:{has:v=>"pathname"in v,get:v=>v.pathname,set:(v,D)=>{v.pathname=D}},metadata:f},o,a),O(this,null,l,{kind:"accessor",name:"search",static:!1,private:!1,access:{has:v=>"search"in v,get:v=>v.search,set:(v,D)=>{v.search=D}},metadata:f},u,T),O(this,null,d,{kind:"accessor",name:"hash",static:!1,private:!1,access:{has:v=>"hash"in v,get:v=>v.hash,set:(v,D)=>{v.hash=D}},metadata:f},p,E),O(this,null,A,{kind:"accessor",name:"templateEle",static:!1,private:!1,access:{has:v=>"templateEle"in v,get:v=>v.templateEle,set:(v,D)=>{v.templateEle=D}},metadata:f},L,R),O(this,null,U,{kind:"accessor",name:"navigationType",static:!1,private:!1,access:{has:v=>"navigationType"in v,get:v=>v.navigationType,set:(v,D)=>{v.navigationType=D}},metadata:f},C,x),O(this,null,k,{kind:"accessor",name:"presentEntryIndex",static:!1,private:!1,access:{has:v=>"presentEntryIndex"in v,get:v=>v.presentEntryIndex,set:(v,D)=>{v.presentEntryIndex=D}},metadata:f},I,N),O(this,null,_,{kind:"accessor",name:"navigationEntry",static:!1,private:!1,access:{has:v=>"navigationEntry"in v,get:v=>v.navigationEntry,set:(v,D)=>{v.navigationEntry=D}},metadata:f},P,S),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:f},null,s),n=t.value,f&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})}static styles=Sa;#s=h(this,o,void 0);get pathname(){return this.#s}set pathname(f){this.#s=f}#t=(h(this,a),h(this,u,void 0));get search(){return this.#t}set search(f){this.#t=f}#n=(h(this,T),h(this,p,void 0));get hash(){return this.#n}set hash(f){this.#n=f}#e=(h(this,E),h(this,L,void 0));get templateEle(){return this.#e}set templateEle(f){this.#e=f}#r=(h(this,R),h(this,C,null));get navigationType(){return this.#r}set navigationType(f){this.#r=f}#i=(h(this,x),h(this,I,-1));get presentEntryIndex(){return this.#i}set presentEntryIndex(f){this.#i=f}#a=(h(this,N),h(this,P,null));get navigationEntry(){return this.#a}set navigationEntry(f){this.#a=f}render(){this.dataset.key=this.navigationEntry?.key;const f=this.navigationEntry?.index??-1,v=this.presentEntryIndex;this.style.setProperty("--index",this.dataset.index=`${f}`),this.style.setProperty("--present-index",`${v}`);let D=this.dataset.tense;if(D==null){const G=ct(this.navigationType).with("push",()=>1).with("traverse",()=>-1).otherwise(()=>0);f>v-G?D="future":f<v-G?D="past":D="present"}this.dataset.fromTense=D;const M=v===-1?void 0:ct(f).with(v,()=>"present").otherwise(()=>f<v?"past":"future");return this.dataset.tense=M,this.inert=M!=="present",K`<slot></slot>`}constructor(){super(...arguments),h(this,S)}static{h(n,s)}},n})();var Ca=Object.defineProperty,Ia=(e,t,s)=>t in e?Ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,We=(e,t,s)=>(Ia(e,typeof t!="symbol"?t+"":t,s),s),$a=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},Ve=(e,t)=>{if(Object(t)!==t)throw TypeError('Cannot use the "in" operator on this value');return e.has(t)},ee=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},Xs=(e,t,s)=>($a(e,t,"access private method"),s);/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function sr(e,t){return Object.is(e,t)}/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let X=null,Yt=!1,ae=1;const me=Symbol("SIGNAL");function At(e){const t=X;return X=e,t}function za(){return X}function Na(){return Yt}const ws={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ee(e){if(Yt)throw new Error(typeof ngDevMode<"u"&&ngDevMode?"Assertion error: signal read during notification phase":"");if(X===null)return;X.consumerOnSignalRead(e);const t=X.nextProducerIndex++;if(Mt(X),t<X.producerNode.length&&X.producerNode[t]!==e&&hs(X)){const s=X.producerNode[t];xe(s,X.producerIndexOfThis[t])}X.producerNode[t]!==e&&(X.producerNode[t]=e,X.producerIndexOfThis[t]=hs(X)?ir(e,X,t):0),X.producerLastReadVersion[t]=e.version}function Oa(){ae++}function nr(e){if(!(!e.dirty&&e.lastCleanEpoch===ae)){if(!e.producerMustRecompute(e)&&!Da(e)){e.dirty=!1,e.lastCleanEpoch=ae;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ae}}function rr(e){if(e.liveConsumerNode===void 0)return;const t=Yt;Yt=!0;try{for(const s of e.liveConsumerNode)s.dirty||Ra(s)}finally{Yt=t}}function Pa(){return X?.consumerAllowSignalWrites!==!1}function Ra(e){var t;e.dirty=!0,rr(e),(t=e.consumerMarkedDirty)==null||t.call(e.wrapper??e)}function Aa(e){return e&&(e.nextProducerIndex=0),At(e)}function La(e,t){if(At(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(hs(e))for(let s=e.nextProducerIndex;s<e.producerNode.length;s++)xe(e.producerNode[s],e.producerIndexOfThis[s]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Da(e){Mt(e);for(let t=0;t<e.producerNode.length;t++){const s=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==s.version||(nr(s),n!==s.version))return!0}return!1}function ir(e,t,s){var n;if(Es(e),Mt(e),e.liveConsumerNode.length===0){(n=e.watched)==null||n.call(e.wrapper);for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=ir(e.producerNode[r],e,r)}return e.liveConsumerIndexOfThis.push(s),e.liveConsumerNode.push(t)-1}function xe(e,t){var s;if(Es(e),Mt(e),typeof ngDevMode<"u"&&ngDevMode&&t>=e.liveConsumerNode.length)throw new Error(`Assertion error: active consumer index ${t} is out of bounds of ${e.liveConsumerNode.length} consumers)`);if(e.liveConsumerNode.length===1){(s=e.unwatched)==null||s.call(e.wrapper);for(let r=0;r<e.producerNode.length;r++)xe(e.producerNode[r],e.producerIndexOfThis[r])}const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Mt(i),i.producerIndexOfThis[r]=t}}function hs(e){var t;return e.consumerIsAlwaysLive||(((t=e?.liveConsumerNode)==null?void 0:t.length)??0)>0}function Mt(e){e.producerNode??(e.producerNode=[]),e.producerIndexOfThis??(e.producerIndexOfThis=[]),e.producerLastReadVersion??(e.producerLastReadVersion=[])}function Es(e){e.liveConsumerNode??(e.liveConsumerNode=[]),e.liveConsumerIndexOfThis??(e.liveConsumerIndexOfThis=[])}/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ar(e){if(nr(e),Ee(e),e.value===us)throw e.error;return e.value}function Ua(e){const t=Object.create(ja);t.computation=e;const s=()=>ar(t);return s[me]=t,s}const qe=Symbol("UNSET"),Fe=Symbol("COMPUTING"),us=Symbol("ERRORED"),ja={...ws,value:qe,dirty:!0,error:null,equal:sr,producerMustRecompute(e){return e.value===qe||e.value===Fe},producerRecomputeValue(e){if(e.value===Fe)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Fe;const s=Aa(e);let n,r=!1;try{n=e.computation.call(e.wrapper),r=t!==qe&&t!==us&&e.equal.call(e.wrapper,t,n)}catch(i){n=us,e.error=i}finally{La(e,s)}if(r){e.value=t;return}e.value=n,e.version++}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ma(){throw new Error}let Ha=Ma;function Wa(){Ha()}/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Va(e){const t=Object.create(Ba);t.value=e;const s=()=>(Ee(t),t.value);return s[me]=t,s}function qa(){return Ee(this),this.value}function Fa(e,t){Pa()||Wa(),e.equal.call(e.wrapper,e.value,t)||(e.value=t,Ga(e))}const Ba={...ws,equal:sr,value:void 0};function Ga(e){e.version++,Oa(),rr(e)}/**
 * @license
 * Copyright 2024 Bloomberg Finance L.P.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=Symbol("node");var _t;(e=>{var t,s,n,r;class i{constructor(l,u={}){ee(this,s),We(this,t);const d=Va(l)[me];if(this[J]=d,d.wrapper=this,u){const p=u.equals;p&&(d.equal=p),d.watched=u[e.subtle.watched],d.unwatched=u[e.subtle.unwatched]}}get(){if(!(0,e.isState)(this))throw new TypeError("Wrong receiver type for Signal.State.prototype.get");return qa.call(this[J])}set(l){if(!(0,e.isState)(this))throw new TypeError("Wrong receiver type for Signal.State.prototype.set");if(Na())throw new Error("Writes to signals not permitted during Watcher callback");const u=this[J];Fa(u,l)}}t=J,s=new WeakSet,e.isState=a=>typeof a=="object"&&Ve(s,a),e.State=i;class o{constructor(l,u){ee(this,r),We(this,n);const d=Ua(l)[me];if(d.consumerAllowSignalWrites=!0,this[J]=d,d.wrapper=this,u){const p=u.equals;p&&(d.equal=p),d.watched=u[e.subtle.watched],d.unwatched=u[e.subtle.unwatched]}}get(){if(!(0,e.isComputed)(this))throw new TypeError("Wrong receiver type for Signal.Computed.prototype.get");return ar(this[J])}}n=J,r=new WeakSet,e.isComputed=a=>typeof a=="object"&&Ve(r,a),e.Computed=o,(a=>{var l,u,T,d;function p(x){let k,I=null;try{I=At(null),k=x()}finally{At(I)}return k}a.untrack=p;function E(x){var k;if(!(0,e.isComputed)(x)&&!(0,e.isWatcher)(x))throw new TypeError("Called introspectSources without a Computed or Watcher argument");return((k=x[J].producerNode)==null?void 0:k.map(I=>I.wrapper))??[]}a.introspectSources=E;function A(x){var k;if(!(0,e.isComputed)(x)&&!(0,e.isState)(x))throw new TypeError("Called introspectSinks without a Signal argument");return((k=x[J].liveConsumerNode)==null?void 0:k.map(I=>I.wrapper))??[]}a.introspectSinks=A;function L(x){if(!(0,e.isComputed)(x)&&!(0,e.isState)(x))throw new TypeError("Called hasSinks without a Signal argument");const k=x[J].liveConsumerNode;return k?k.length>0:!1}a.hasSinks=L;function R(x){if(!(0,e.isComputed)(x)&&!(0,e.isWatcher)(x))throw new TypeError("Called hasSources without a Computed or Watcher argument");const k=x[J].producerNode;return k?k.length>0:!1}a.hasSources=R;class U{constructor(k){ee(this,u),ee(this,T),We(this,l);let I=Object.create(ws);I.wrapper=this,I.consumerMarkedDirty=k,I.consumerIsAlwaysLive=!0,I.consumerAllowSignalWrites=!1,I.producerNode=[],this[J]=I}watch(...k){if(!(0,e.isWatcher)(this))throw new TypeError("Called unwatch without Watcher receiver");Xs(this,T,d).call(this,k);const I=this[J];I.dirty=!1;const N=At(I);for(const _ of k)Ee(_[J]);At(N)}unwatch(...k){if(!(0,e.isWatcher)(this))throw new TypeError("Called unwatch without Watcher receiver");Xs(this,T,d).call(this,k);const I=this[J];Mt(I);for(let N=I.producerNode.length-1;N>=0;N--)if(k.includes(I.producerNode[N].wrapper)){xe(I.producerNode[N],I.producerIndexOfThis[N]);const _=I.producerNode.length-1;if(I.producerNode[N]=I.producerNode[_],I.producerIndexOfThis[N]=I.producerIndexOfThis[_],I.producerNode.length--,I.producerIndexOfThis.length--,I.nextProducerIndex--,N<I.producerNode.length){const P=I.producerIndexOfThis[N],S=I.producerNode[N];Es(S),S.liveConsumerIndexOfThis[P]=N}}}getPending(){if(!(0,e.isWatcher)(this))throw new TypeError("Called getPending without Watcher receiver");return this[J].producerNode.filter(I=>I.dirty).map(I=>I.wrapper)}}l=J,u=new WeakSet,T=new WeakSet,d=function(x){for(const k of x)if(!(0,e.isComputed)(k)&&!(0,e.isState)(k))throw new TypeError("Called watch/unwatch without a Computed or State argument")},e.isWatcher=x=>Ve(u,x),a.Watcher=U;function C(){var x;return(x=za())==null?void 0:x.wrapper}a.currentComputed=C,a.watched=Symbol("watched"),a.unwatched=Symbol("unwatched")})(e.subtle||(e.subtle={}))})(_t||(_t={}));let Be=!1,ve=new _t.subtle.Watcher(()=>{Be||(Be=!0,queueMicrotask(()=>{Be=!1,Ka()}))});function Ka(){for(const e of ve.getPending())e.get();ve.watch()}function Ya(e){let t=new _t.Computed(()=>e());return ve.watch(t),t.get(),()=>{ve.unwatch(t)}}class Xa{__cb;constructor(t,s){s&&s.length?this.__cb=()=>{for(const n of s)n.get();t()}:this.__cb=t}__off;connect(){this.__off==null&&(this.__off=Ya(this.__cb))}disconnect(){this.__off?.(),this.__off=void 0}toReactiveController(){return{hostConnected:()=>{this.connect()},hostDisconnected:()=>{this.disconnect()}}}}const Za=(e,t)=>new _t.Computed(()=>t(e.get())),or=()=>Qs((e,t)=>{t.addInitializer(function(){const n=new Xa(()=>{s?.get(),this.requestUpdate()});this.addController({hostConnected(){n.connect()},hostDisconnected(){n.disconnect()}})});let s;return{init:n=>s=n,get:()=>s,set:n=>{s=n}}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Lt(e){return W({...e,state:!0,attribute:!1})}const Ja=(e,t)=>{const s=e.indexOf(t);return s!==-1&&e.splice(s,1),s};class Qa extends we{constructor(t){if(super(t),t.type!==ln.ELEMENT)throw new Error("The `resizeDirective` directive must be used on property of Element or SVGElement.")}update(t,[s]){return s.bindElement(t.element),en}render(t){return""}}const to=be(Qa);class ye{__resizeObserver;__options;__host;__callback;constructor(t,s,n){this.__host=t,this.__host.addController(this),this.__callback=s,this.__options=n,this.__resizeObserver=new ResizeObserver(r=>{this.__callback(r[0])})}hostConnected(){this.__bindingElement&&this.bindElement(this.__bindingElement)}hostDisconnected(){this.__resizeObserver.disconnect()}__bindingElement;get bindingElement(){return this.__bindingElement}bindElement(t){return this.__bindingElement!==t&&(this.__bindingElement!=null&&this.__resizeObserver.unobserve(this.__bindingElement),this.__bindingElement=t,this.__resizeObserver.observe(t,this.__options)),this}unbindElement(t=this.__bindingElement){return this.__bindingElement===t&&this.__bindingElement&&this.__bindingElement!=null&&(this.__resizeObserver.unobserve(this.__bindingElement),this.__bindingElement=void 0),this.__bindingElement==null}observe(){return to(this)}}class lr extends HTMLElement{isOverlayState;constructor(t,s={}){super(),this.isOverlayState=t,this.attachShadow({mode:"open"});const n=String.raw;this.shadowRoot.innerHTML=n`<style>:host{position:absolute;top:-9999px;width:100px;height:100px;overflow:scroll;pointer-events:none;visibility:hidden;scrollbar-width:${s.scrollbarWidth??"auto"}}.scroll-view,:host{position:absolute;top:-9999px;overflow:scroll;pointer-events:none;visibility:hidden}:host{width:0;height:0}.scroll-view{width:100px;height:100px;scrollbar-width:auto}.scroll-view-thin{width:100px;height:100px;scrollbar-width:thin}</style><div class="scroll-view"></div><div class="scroll-view-thin"></div>`,this.__scrollViewEle=this.shadowRoot.querySelector(".scroll-view"),this.__scrollViewThinEle=this.shadowRoot.querySelector(".scroll-view-thin")}scrollbarAutoWidth=new _t.State(16);scrollbarThinWidth=new _t.State(11);__scrollViewEle;__scrollViewThinEle;__resizeObserver;connectedCallback(){this.__resizeObserver=new ResizeObserver(t=>{for(const n of t){const r=t[0].borderBoxSize[0].inlineSize-t[0].contentBoxSize[0].inlineSize;n.target.className==="scroll-view"?this.scrollbarAutoWidth.set(r):n.target.className==="scroll-view-thin"&&this.scrollbarThinWidth.set(r)}const s=this.scrollbarAutoWidth.get()===0;this.isOverlayState.set(s)}),this.__resizeObserver.observe(this.__scrollViewEle),this.__resizeObserver.observe(this.__scrollViewThinEle)}disconnectedCallback(){this.__resizeObserver?.disconnect(),this.__resizeObserver=void 0}}customElements.define("iappn-scrollbar-tracker",lr);const eo=It(()=>{const e=new _t.State(matchMedia("(hover: none) and (pointer: coarse)").matches),t=new lr(e);return document.body.appendChild(t),e}),cr=new WeakMap,so=(e,t,s)=>{const n=vt(cr,e,()=>new WeakMap);vt(n,t,()=>[]).push(s)},hr=(e,t,s)=>{const n=cr.get(e),r=n?.get(t);if(r!=null)return s===void 0?([s]=r.splice(0,1),r.length===0&&n?.delete(t)):Ja(r,s),s},ur=typeof window>"u"?!0:"onscrollend"in window,no=tn(()=>ur?(e,t)=>e.removeEventListener("scrollend",t):(e,t)=>{hr(e,t)?.()}),ro=tn(()=>{if(ur)return(n,r)=>(n.addEventListener("scrollend",r),()=>n.removeEventListener("scrollend",r));const e=new WeakMap,t=new Set;document.addEventListener("touchstart",n=>{for(const r of n.changedTouches)t.add(r.identifier)},{passive:!0}),document.addEventListener("touchend",n=>{for(const r of n.changedTouches)t.delete(r.identifier)},{passive:!0}),document.addEventListener("touchcancel",n=>{for(const r of n.changedTouches)t.delete(r.identifier)},{passive:!0}),document.addEventListener("pointerdown",n=>{t.add(n.pointerId)},{passive:!0}),document.addEventListener("pointerup",n=>{t.delete(n.pointerId)},{passive:!0}),document.addEventListener("pointercancel",n=>{t.delete(n.pointerId)},{passive:!0});const s=n=>{const r={scrollport:n,timeout:0,scrollListener:i=>{clearTimeout(r.timeout),r.timeout=setTimeout(()=>{t.size?setTimeout(r.scrollListener,100):(r.scrollport.dispatchEvent(new Event("scrollend")),r.timeout=0)},100)},listeners:0,start(){r.listeners===0&&n.addEventListener("scroll",r.scrollListener),r.listeners++},stop(){r.listeners--,r.listeners===0&&n.removeEventListener("scroll",r.scrollListener)}};return r};return(n,r)=>{n.addEventListener("scrollend",r);const i=vt(e,n,s);i.start();const o=()=>{hr(n,r,o),n.removeEventListener("scrollend",r),i.stop()};return so(n,r,o),o}});class io extends we{constructor(t){if(super(t),t.type!==ln.ELEMENT)throw new Error("The `scrollDirective` directive must be used on property of Element or SVGElement.")}update(t,[s]){return s.bindElement(t.element),en}render(t){return""}}const ao=be(io);class Ge{__scrollObserver;__host;__callback;__options;constructor(t,s,n){this.__host=t,this.__host.addController(this),this.__callback=s,this.__options=n,this.__scrollObserver=new oo(this.__callback)}hostConnected(){this.__bindingElement&&this.bindElement(this.__bindingElement)}hostDisconnected(){this.__scrollObserver.disconnect()}__bindingElement;get bindingElement(){return this.__bindingElement}bindElement(t){return this.__bindingElement!==t&&(this.__bindingElement!=null&&this.__scrollObserver.unobserve(this.__bindingElement),this.__bindingElement=t,this.__scrollObserver.observe(t,this.__options),this.__options?.init?.(t)),this}unbindElement(t=this.__bindingElement){return this.__bindingElement===t&&this.__bindingElement&&this.__bindingElement!=null&&(this.__scrollObserver.unobserve(this.__bindingElement),this.__bindingElement=void 0),this.__bindingElement==null}observe(){return ao(this)}}class oo{__callback;constructor(t){this.__callback=t}__onscroll=t=>{this.__callback(t)};__onscrollend=t=>{this.__callback(t)};__eles=new Map;observe(t,s={}){this.__eles.has(t)||(this.__eles.set(t,s),t.addEventListener("scroll",this.__onscroll),ro(t,this.__onscrollend))}unobserve(t){this.__eles.has(t)&&(this.__eles.delete(t),t.removeEventListener("scroll",this.__onscroll),no(t,this.__onscrollend))}disconnect(){for(const t of[...this.__eles.keys()])this.unobserve(t)}}const lo=[{name:"--scrollbar-blur-color",syntax:"<color>",initialValue:"#0001"},{name:"--scrollbar-color",syntax:"<color>",initialValue:"#0003"},{name:"--scrollbar-hover-color",syntax:"<color>",initialValue:"#0006"},{name:"--scrollbar-size",syntax:"<length>",initialValue:"6px"}];for(const e of lo)CSS.registerProperty({...e,inherits:!0});const co=Y`  @media (prefers-color-scheme: dark) {    :host {      --scrollbar-blur-color: #fff1;      --scrollbar-color: #fff3;      --scrollbar-hover-color: #fff6;    }  }  :host(:not(:hover):not(:focus-within)) {    --scrollbar-color: var(--scrollbar-blur-color);  }  :host {    display: block;    overflow: auto;    position: relative;    overflow: scroll;    scroll-behavior: smooth;    container-type: size;    container-type: size scroll-state;    container-name: scrollview;  }  .content {    width: max-content;    height: max-content;    z-index: 1;    position: relative;    transform: translateZ(0); // 渲染成独立的层  }  .scrollbar-sticky {    position: sticky;    z-index: 2;    width: 0;    height: 0;    top: 0;    left: 0;    /* 原生滚动条不会被影响 */    pointer-events: none;  }  .scrollbar-wrapper {    width: var(--view-width);    height: var(--view-height);    position: relative;  }  .scrollbar {    // 这里禁用平滑滚动    scroll-behavior: auto;    -ms-overflow-style: auto;    position: absolute;    pointer-events: all;  }  .axis-y {    overflow-x: clip;    overflow-y: auto;    right: 0;    top: 0;    width: var(--scrollbar-track-size);    height: calc(100% - var(--scrollbar-track-size)); /* 为 corner 预留位置 */  }  .axis-x {    overflow-x: auto;    overflow-y: clip;    left: 0;    bottom: 0;    height: var(--scrollbar-track-size);    width: calc(100% - var(--scrollbar-track-size)); /* 为 corner 预留位置 */  }`;(()=>{let e=[et("appn-scroll-view")],t,s=[],n,r=tt,i,o=[],a=[],l,u=[],T=[],d,p=[],E=[],A,L=[],R=[],U,C=[],x=[],k,I,N=[],_=[],P,S,f=[],v=[],D,M,G=[],V=[],y,m,w=[],b=[],$;var z=class extends r{static{n=this}static{const c=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:"scrollbar-size"})],l=[W({type:String})],d=[xt()],A=[xt()],U=[Lt()],I=[Lt()],S=[Lt()],M=[Lt()],m=[or()],O(this,null,i,{kind:"accessor",name:"scrollbarSize",static:!1,private:!1,access:{has:g=>"scrollbarSize"in g,get:g=>g.scrollbarSize,set:(g,j)=>{g.scrollbarSize=j}},metadata:c},o,a),O(this,null,l,{kind:"accessor",name:"scrollbarColor",static:!1,private:!1,access:{has:g=>"scrollbarColor"in g,get:g=>g.scrollbarColor,set:(g,j)=>{g.scrollbarColor=j}},metadata:c},u,T),O(this,null,d,{kind:"accessor",name:"onscrollend",static:!1,private:!1,access:{has:g=>"onscrollend"in g,get:g=>g.onscrollend,set:(g,j)=>{g.onscrollend=j}},metadata:c},p,E),O(this,null,A,{kind:"accessor",name:"onscroll",static:!1,private:!1,access:{has:g=>"onscroll"in g,get:g=>g.onscroll,set:(g,j)=>{g.onscroll=j}},metadata:c},L,R),O(this,k={get:H(function(){return this.#r},"#contentWidth","get"),set:H(function(g){this.#r=g},"#contentWidth","set")},U,{kind:"accessor",name:"#contentWidth",static:!1,private:!0,access:{has:g=>#i in g,get:g=>g.#i,set:(g,j)=>{g.#i=j}},metadata:c},C,x),O(this,P={get:H(function(){return this.#a},"#contentHeight","get"),set:H(function(g){this.#a=g},"#contentHeight","set")},I,{kind:"accessor",name:"#contentHeight",static:!1,private:!0,access:{has:g=>#l in g,get:g=>g.#l,set:(g,j)=>{g.#l=j}},metadata:c},N,_),O(this,D={get:H(function(){return this.#c},"#hostWidth","get"),set:H(function(g){this.#c=g},"#hostWidth","set")},S,{kind:"accessor",name:"#hostWidth",static:!1,private:!0,access:{has:g=>#h in g,get:g=>g.#h,set:(g,j)=>{g.#h=j}},metadata:c},f,v),O(this,y={get:H(function(){return this.#o},"#hostHeight","get"),set:H(function(g){this.#o=g},"#hostHeight","set")},M,{kind:"accessor",name:"#hostHeight",static:!1,private:!0,access:{has:g=>#u in g,get:g=>g.#u,set:(g,j)=>{g.#u=j}},metadata:c},G,V),O(this,$={get:H(function(){return this.#f},"#scrollbarOverlayState","get"),set:H(function(g){this.#f=g},"#scrollbarOverlayState","set")},m,{kind:"accessor",name:"#scrollbarOverlayState",static:!1,private:!0,access:{has:g=>#p in g,get:g=>g.#p,set:(g,j)=>{g.#p=j}},metadata:c},w,b),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:c},null,s),z=n=t.value,c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})}static styles=co;#s=h(this,o,"auto");get scrollbarSize(){return this.#s}set scrollbarSize(c){this.#s=c}#t=(h(this,a),h(this,u,""));get scrollbarColor(){return this.#t}set scrollbarColor(c){this.#t=c}#n=(h(this,T),h(this,p,void 0));get onscrollend(){return this.#n}set onscrollend(c){this.#n=c}#e=(h(this,E),h(this,L,void 0));get onscroll(){return this.#e}set onscroll(c){this.#e=c}#r=(h(this,R),h(this,C,0));get#i(){return k.get.call(this)}set#i(c){return k.set.call(this,c)}#a=(h(this,x),h(this,N,0));get#l(){return P.get.call(this)}set#l(c){return P.set.call(this,c)}__contentSize=(h(this,_),new ye(this,c=>{const g=c.borderBoxSize[0];this.#i=g.inlineSize,this.#l=g.blockSize}));#c=h(this,f,0);get#h(){return D.get.call(this)}set#h(c){return D.set.call(this,c)}#o=(h(this,v),h(this,G,0));get#u(){return y.get.call(this)}set#u(c){return y.set.call(this,c)}__hostSize=(h(this,V),new ye(this,c=>{const g=c.borderBoxSize[0];this.#h=g.inlineSize,this.#u=g.blockSize}));__currentScrollElement;__canEffectScrollEvent(c){const g=this.__currentScrollElement==null||this.__currentScrollElement===c.target;return c.type==="scrollend"?this.__currentScrollElement=void 0:this.__currentScrollElement===void 0&&(this.__currentScrollElement=c.target),g}__axisYScroll=new Ge(this,c=>{this.__canEffectScrollEvent(c)&&this.scrollTo({top:c.target.scrollTop,behavior:"instant"})},{init:c=>{c.scrollTop=this.scrollTop}});__axisXScroll=new Ge(this,c=>{this.__canEffectScrollEvent(c)&&this.scrollTo({left:c.target.scrollLeft,behavior:"instant"})},{init:c=>{c.scrollLeft=this.scrollLeft}});__hostScroll=new Ge(this,c=>{if(this.__canEffectScrollEvent(c)){const g=this.__axisXScroll.bindingElement,j=this.__axisYScroll.bindingElement;if(g&&j){const q=c.target;j.scrollTop=q.scrollTop,g.scrollLeft=q.scrollLeft}}});__getScrollbarSizePx(){switch(this.scrollbarSize){case"auto":return 10;case"thin":return 6;case"none":return 0;default:return 10}}static __supportsCssScrollbar=CSS.supports("scrollbar-width: none")&&CSS.supports("scrollbar-color: currentColor transparent");#f=h(this,w,eo());get#p(){return $.get.call(this)}set#p(c){return $.set.call(this,c)}get canOverlayScrollbar(){return this.#p.get()}render(){this.__hostSize.bindElement(this);const{canOverlayScrollbar:c}=this,g=[];if(c)this.__hostScroll.unbindElement(this);else{this.__hostScroll.bindElement(this);const j=this.__getScrollbarSizePx();if(g.push(Y`
        :host {
          --scrollbar-size: ${j}px;
        }
        .mock-content {
          width: calc(${this.#i}px - var(--scrollbar-track-size));
          height: calc(${this.#l}px - var(--scrollbar-track-size));
        }
      `),z.__supportsCssScrollbar){const q=j+4;g.push(Y`
          :host {
            scrollbar-width: none;
            --scrollbar-track-size: ${q}px;
          }
          .scrollbar {
            scrollbar-width: ${st(this.scrollbarSize)};
            scrollbar-color: var(--scrollbar-color) transparent;
            transition-property: scrollbar-color;
            transition-duration: 250ms;
            transition-timing-function: ease-out;
          }
          .scrollbar:hover {
            scrollbar-color: var(--scrollbar-hover-color) transparent;
          }
        `)}else g.push(Y`
          :host {
            --scrollbar-track-size: ${j}px;
          }
          :host::-webkit-scrollbar {
            width: 0px;
            height: 0px;
          }

          .scrollbar::-webkit-scrollbar {
            width: ${j}px;
            height: ${j}px;
          }
          .scrollbar::-webkit-scrollbar-thumb {
            background-color: var(--scrollbar-color);
            border-radius: ${j}px;
            border: 2px solid transparent;
            /**不支持动画 */
          }
          .scrollbar:hover::-webkit-scrollbar-thumb {
            background-color: var(--scrollbar-hover-color);
          }
          .scrollbar::-webkit-scrollbar-track {
            background-color: transparent;
          }
          .scrollbar::-webkit-scrollbar-corner {
            background-color: transparent;
          }
        `)}return K`
      <style>
        ${g}

        /* 盒子的宽高，用于子元素计算滚动内容 */
        :host {
          --view-width: ${this.#h}px;
          --view-height: ${this.#u}px;
        }
      </style>
      <div class="scrollbar-sticky">
        ${ps(c?null:K`<div class="scrollbar-wrapper">
                <div part="scrollbar axis-y" class="scrollbar axis-y" role="scrollbar" ${this.__axisYScroll.observe()}>
                  <div class="mock-content" .inert=${!0}></div>
                </div>
                <div part="scrollbar axis-x" class="scrollbar axis-x" role="scrollbar" ${this.__axisXScroll.observe()}>
                  <div class="mock-content" .inert=${!0}></div>
                </div>
              </div>`)}
      </div>
      <div part="content" class="content" ${this.__contentSize.observe()}>
        <slot></slot>
      </div>
    `}constructor(){super(...arguments),h(this,b)}static{h(n,s)}};return z=n})();const ho=Y`::slotted(appn-view){padding-left:var(--safe-area-inset-left,0);padding-right:var(--safe-area-inset-right,0)}`;for(const e of["header","footer"])CSS.registerProperty({name:`--page-${e}-height`,syntax:"<length-percentage>",inherits:!0,initialValue:"0px"});const uo=[Y`:host{display:contents}.layer{margin:0;border:0;padding:0;width:fit-content;height:fit-content;overflow:hidden;color:var(--color-canvas-text);background-color:var(--color-canvas);box-sizing:border-box;box-shadow:0 0 2px -1px var(--color-canvas-text)}:host([mode=block]) .layer{position:relative}:host([mode=screen]) .layer{width:100%;height:100%}:host([mode=screen]) .layer::backdrop{background-color:var(--color-canvas-text);background-color:color-mix(in hsl,var(--color-canvas-text),transparent 80%)}.root{display:grid;grid-template-columns:1fr;grid-template-rows:min-content 1fr min-content;gap:0 0;width:100%;height:100%}.scrollable{overflow:auto;scroll-behavior:smooth;scrollbar-width:none;scrollbar-color:var(--color-canvas-text) transparent;scrollbar-color:color-mix(in hsl,var(--color-canvas-text),transparent 75.3%) transparent;position:absolute}.scrollable::after{content:' ';overflow:scroll;position:absolute;width:10px;height:100%;right:0;top:0}.header{width:100cqw;grid-area:1/1/2/2;z-index:3;position:sticky;top:0}.body{width:100cqw;grid-area:1/1/4/2;z-index:1;box-sizing:border-box}.footer{width:100cqw;grid-area:3/1/4/2;z-index:2;position:sticky;bottom:0}::slotted(*){transform:translateZ(0)}`,ho];/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */(()=>{let e=[et("appn-page")],t,s=[],n,r=tt,i,o=[],a=[],l,u,T=[],d=[],p,E,A=[],L=[],R,U=[],C=[],x,k=[],I=[],N,_=[],P=[],S,f=[],v=[],D,M=[],G=[],V,y=[],m=[],w,b=[],$=[];return class extends r{static{n=this}static{const z=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[Lt()],u=[Lt()],E=[W({type:Boolean,reflect:!0,attribute:!0})],R=[W({type:String,reflect:!0,attribute:!0})],x=[$t({context:_e,subscribe:!0})],N=[W({type:String,reflect:!0,attribute:!0})],S=[W({type:String,reflect:!0,attribute:!0})],D=[W({type:String,reflect:!0,attribute:!0})],V=[$t({context:Ht,subscribe:!0})],w=[xt()],O(this,l={get:H(function(){return this.#s},"#headerHeight","get"),set:H(function(c){this.#s=c},"#headerHeight","set")},i,{kind:"accessor",name:"#headerHeight",static:!1,private:!0,access:{has:c=>#t in c,get:c=>c.#t,set:(c,g)=>{c.#t=g}},metadata:z},o,a),O(this,p={get:H(function(){return this.#n},"#footerHeight","get"),set:H(function(c){this.#n=c},"#footerHeight","set")},u,{kind:"accessor",name:"#footerHeight",static:!1,private:!0,access:{has:c=>#e in c,get:c=>c.#e,set:(c,g)=>{c.#e=g}},metadata:z},T,d),O(this,null,E,{kind:"accessor",name:"open",static:!1,private:!1,access:{has:c=>"open"in c,get:c=>c.open,set:(c,g)=>{c.open=g}},metadata:z},A,L),O(this,null,R,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:c=>"mode"in c,get:c=>c.mode,set:(c,g)=>{c.mode=g}},metadata:z},U,C),O(this,null,x,{kind:"accessor",name:"theme",static:!1,private:!1,access:{has:c=>"theme"in c,get:c=>c.theme,set:(c,g)=>{c.theme=g}},metadata:z},k,I),O(this,null,N,{kind:"accessor",name:"pathname",static:!1,private:!1,access:{has:c=>"pathname"in c,get:c=>c.pathname,set:(c,g)=>{c.pathname=g}},metadata:z},_,P),O(this,null,S,{kind:"accessor",name:"search",static:!1,private:!1,access:{has:c=>"search"in c,get:c=>c.search,set:(c,g)=>{c.search=g}},metadata:z},f,v),O(this,null,D,{kind:"accessor",name:"hash",static:!1,private:!1,access:{has:c=>"hash"in c,get:c=>c.hash,set:(c,g)=>{c.hash=g}},metadata:z},M,G),O(this,null,V,{kind:"accessor",name:"navigationEntry",static:!1,private:!1,access:{has:c=>"navigationEntry"in c,get:c=>c.navigationEntry,set:(c,g)=>{c.navigationEntry=g}},metadata:z},y,m),O(this,null,w,{kind:"accessor",name:"onactivated",static:!1,private:!1,access:{has:c=>"onactivated"in c,get:c=>c.onactivated,set:(c,g)=>{c.onactivated=g}},metadata:z},b,$),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:z},null,s),n=t.value,z&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:z})}static __all=Object.freeze([]);static get all(){return this.__all}static styles=uo;#s=h(this,o,0);get#t(){return l.get.call(this)}set#t(z){return l.set.call(this,z)}__headerSize=(h(this,a),new ye(this,z=>{this.#t=z.borderBoxSize?.[0]?.blockSize??z.contentRect.height},{box:"border-box"}));#n=h(this,T,0);get#e(){return p.get.call(this)}set#e(z){return p.set.call(this,z)}__footerSize=(h(this,d),new ye(this,z=>{this.#e=z.borderBoxSize?.[0]?.blockSize??z.contentRect.height},{box:"border-box"}));#r=h(this,A,!0);get open(){return this.#r}set open(z){this.#r=z}#i=(h(this,L),h(this,U,"screen"));get mode(){return this.#i}set mode(z){this.#i=z}#a=(h(this,C),h(this,k,void 0));get theme(){return this.#a}set theme(z){this.#a=z}#l=(h(this,I),h(this,_,"*"));get pathname(){return this.#l}set pathname(z){this.#l=z}#c=(h(this,P),h(this,f,"*"));get search(){return this.#c}set search(z){this.#c=z}#h=(h(this,v),h(this,M,"*"));get hash(){return this.#h}set hash(z){this.#h=z}#o=(h(this,G),h(this,y,null));get navigationEntry(){return this.#o}set navigationEntry(z){this.#o=z}#u=(h(this,m),h(this,b,void 0));get onactivated(){return this.#u}set onactivated(z){this.#u=z}__activatedNavigationEntry=h(this,$);updated(z){super.updated(z);const{navigationEntry:c}=this;c!=this.__activatedNavigationEntry&&(this.__activatedNavigationEntry=c,c&&(console.log("activated",c),this.dispatchEvent(new fo(c))))}render(){return this.inert=!this.open,K`
      <style>
        :host {
          --page-header-height: ${this.#t}px;
          --page-footer-height: ${this.#e}px;
        }
      </style>
      <div class="layer" part="layer">
        <appn-scroll-view class="root" part="root">
          <div class="header stuck-top" part="header" ${this.__headerSize.observe()}>
            <slot name="header"></slot>
          </div>
          <div class="body" part="body">
            <slot></slot>
          </div>
          <div class="footer stuck-bottom" part="footer" ${this.__footerSize.observe()}>
            <slot name="footer"></slot>
          </div>
        </appn-scroll-view>
      </div>
    `}static{h(n,s)}},n})();class fo extends CustomEvent{constructor(t){super("activated",{detail:t})}}const po=new Map,go=e=>vt(po,e,()=>{const t=matchMedia(e),s=new _t.State(t.matches);return t.addEventListener("change",n=>{s.set(n.matches)}),s}),mo=It(()=>Za(go("(prefers-color-scheme: dark)"),t=>t?"dark":"light")),Tt={name:"unstyled-light",class:["unstyled","light"],gridUnit:"4px",colors:{Canvas:"#ffffff",CanvasText:"#000000",...CSS.supports("color: AccentColor")?{Accent:"AccentColor",AccentText:"AccentColorText"}:{Accent:"#2e75ff",AccentText:"#ffffff"},Red:"red",Orange:"orange",Yellow:"yellow",Green:"green",Mint:"darkturquoise",Teal:"teal",Cyan:"cyan",Blue:"blue",Indigo:"indigo",Purple:"purple",Pink:"pink",Brown:"brown"},safeAreaInset:{top:"env(safe-area-inset-top)",right:"env(safe-area-inset-right)",bottom:"env(safe-area-inset-bottom)",left:"env(safe-area-inset-left)"},font:{style:"initial",variantLigatures:"initial",variantCaps:"initial",variantNumeric:"initial",variantEastAsian:"initial",variantAlternates:"initial",variantPosition:"initial",variantEmoji:"initial",weight:"initial",stretch:"initial",size:"initial",family:"initial",opticalSizing:"initial",sizeAdjust:"initial",kerning:"initial",featureSettings:"initial",variationSettings:"initial",lineHeight:"initial"},transition:{common:{enter:{ease:"ease-out",duration:"0.28s"},leave:{ease:"ease-in",duration:"0.2s"}},page:{enter:{ease:"cubic-bezier(0.36,0.66,0.04,1)",duration:"0.28s"},leave:{ease:"cubic-bezier(0.47,0,0.745,0.715)",duration:"0.2s"}},toast:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.4s"},actionSheet:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.4s"},menu:{enter:{ease:"cubic-bezier(0.0,0.0,0.2,1)",duration:"0.28s"},leave:{ease:"cubic-bezier(0.4, 0, 0.6, 1)",duration:"0.2s"}}}},dr=Zt(Tt,{name:"unstyled-dark",class:["unstyled","dark"],colors:{Canvas:"#000000",CanvasText:"#ffffff"}}),vo=[{name:"--font-weight",syntax:"<integer>",initialValue:"400"},{name:"--font-style",syntax:"*",initialValue:"normal"},{name:"--font-variant-ligatures",syntax:"*",initialValue:"normal"},{name:"--font-variant-caps",syntax:"*",initialValue:"normal"},{name:"--font-variant-numeric",syntax:"*",initialValue:"normal"},{name:"--font-variant-east-asian",syntax:"*",initialValue:"normal"},{name:"--font-variant-alternates",syntax:"*",initialValue:"normal"},{name:"--font-variant-position",syntax:"normal | sub | super",initialValue:"normal"},{name:"--font-variant-emoji",syntax:"normal | text | emoji | unicode",initialValue:"normal"},{name:"--font-stretch",syntax:"<percentage> | ultra-condensed | extra-condensed | condensed | semi-condensed | normal | semi-expanded | expanded | extra-expanded | ultra-expanded",initialValue:"normal"},{name:"--font-size",syntax:"<length> | <percentage> | large | medium | small | x-large | x-small | xx-large | xx-small | smaller | larger",initialValue:"medium"},{name:"--font-family",syntax:"*",initialValue:"sans-serif"},{name:"--font-optical-sizing",syntax:"auto | none",initialValue:"auto"},{name:"--font-size-adjust",syntax:"<number> | none",initialValue:"none"},{name:"--font-kerning",syntax:"auto | normal | none",initialValue:"auto"},{name:"--font-feature-settings",syntax:"*",initialValue:"normal"},{name:"--font-variation-settings",syntax:"*",initialValue:"normal"},{name:"--line-height",syntax:"normal | <number> | <length> | <percentage>",initialValue:"normal"}];for(const e of vo)CSS.registerProperty({...e,inherits:!0});["dark","light"].forEach((e,t)=>{CSS.registerProperty({name:`--color-scheme-${e}`,syntax:"<number>",inherits:!0,initialValue:`${t}`})});for(const e of Jt(Tt.colors))CSS.registerProperty({name:`--color-${e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()).replace(/^-/,"")}`,syntax:"<color>",inherits:!0,initialValue:Tt.colors[e]});for(const e of Jt(Tt.safeAreaInset))CSS.registerProperty({name:`--safe-area-inset-${e}`,syntax:"<length-percentage>",inherits:!0,initialValue:"0px"});CSS.registerProperty({name:"--grid-unit",syntax:"<length>",inherits:!0,initialValue:Tt.gridUnit});CSS.registerProperty({name:"--dpx",syntax:"<length>",inherits:!0,initialValue:`${1/window.devicePixelRatio}px`});const yo=[Y`:host{display:contents}::slotted(*){font-style:var(--font-style);font-variant-ligatures:var(--font-variant-ligatures);font-variant-caps:var(--font-variant-caps);font-variant-numeric:var(--font-variant-numeric);font-variant-east-asian:var(--font-variant-east-asian);font-variant-alternates:var(--font-variant-alternates);font-variant-position:var(--font-variant-position);font-variant-emoji:var(--font-variant-emoji);font-weight:var(--font-weight);font-stretch:var(--font-stretch);font-size:var(--font-size);font-family:var(--font-family);font-optical-sizing:var(--font-optical-sizing);font-size-adjust:var(--font-size-adjust);font-kerning:var(--font-kerning);font-feature-settings:var(--font-feature-settings);font-variation-settings:var(--font-variation-settings);line-height:var(--line-height);--font:var(--font-style) var(--font-variant-ligatures) var(--font-variant-caps) var(--font-variant-numeric) var(--font-variant-east-asian) var(--font-weight) var(--font-stretch) var(--font-size)/var(--line-height) var(--font-family);accent-color:var(--color-accent)}:host([data-color-scheme=light]){--color-scheme-light:1;--color-scheme-dark:0}:host([data-color-scheme=dark]){--color-scheme-light:0;--color-scheme-dark:1}`],fr={gridUnit:"8px",safeAreaInset:{bottom:"max(env(safe-area-inset-left, var(--grid-unit)), var(--grid-unit))",left:"max(env(safe-area-inset-left, var(--grid-unit)), var(--grid-unit))"},font:{family:["-apple-system","BlinkMacSystemFont","'Helvetica Neue'","'Segoe UI'","'PingFang SC'","'HarmonyOS Sans SC'","'HONOR Sans SC'","MiSans","'Source Han Sans SC'","'Hiragino Sans GB'","'Microsoft YaHei'","sans-serif"].join(", ")},transition:{common:{enter:{ease:"ease-out",duration:"0.3s"},leave:{ease:"ease-in",duration:"0.3s"}},page:{enter:{ease:"cubic-bezier(0.32,0.72,0,1)",duration:"0.54s"},leave:{ease:"cubic-bezier(0.32,0.72,0,1)",duration:"0.54s"}},toast:{enter:{ease:"cubic-bezier(.155,1.105,.295,1.12)",duration:"0.4s"},leave:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.3s"}},actionSheet:{enter:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.4s"},leave:{ease:"cubic-bezier(.36,.66,.04,1)",duration:"0.45s"}},menu:{enter:{ease:"cubic-bezier(0.32,0.72,0,1)",duration:"0.3s"},leave:{ease:"cubic-bezier(1, 0, 0.68, 0.28)",duration:"0.45s"}}}},Zs={Red:["#ff3b30","#ff453a","#d70015","#ff6961"],Orange:["#ff9500","#ff9f0a","#c93400","#ffb340"],Yellow:["#ffcc00","#ffd60a","#b25000","#ffd426"],Green:["#34c759","#30d158","#248a3d","#30db5b"],Mint:["#00c7be","#66d4cf","#0c817b","#66d4cf"],Teal:["#30b0c7","#40c8e0","#008299","#5de6ff"],Cyan:["#32ade6","#64d2ff","#0071a4","#70d7ff"],Blue:["#007aff","#0a84ff","#0040dd","#409cff"],Indigo:["#5856d6","#5e5ce6","#3634a3","#7d7aff"],Purple:["#af52de","#bf5af2","#8944ab","#da8fff"],Pink:["#ff2d55","#ff375f","#d30f45","#ff6482"],Brown:["#a5845e","#ac8e68","#7f6545","#b59469"]},Se=e=>{const t={};for(const s of Jt(Zs))t[s]=Zs[s][e];return t},pr=Zt(Tt,fr,{name:"ios-light",class:["ios","light"],colors:{CanvasText:"#1d1d1f",...Se(0)}}),gr=Zt(dr,fr,{name:"ios-dark",class:["ios","dark"],colors:{Canvas:"#1c1c1e",...Se(1)}}),_o=Zt(pr,{name:"ios-light-accessible",class:["ios","light","accessible"],colors:{...Se(2)}}),bo=Zt(gr,{name:"ios-dark-accessible",class:["ios","dark","accessible"],colors:{...Se(3)}});/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */on(Tt,dr,pr,gr,_o,bo);(()=>{let e=[et("appn-theme-provider")],t,s=[],n,r=tt,i,o=[],a=[],l,u=[],T=[],d,p=[],E=[],A,L,R=[],U=[],C,x=[],k=[],I;return class extends r{static{n=this}static{const N=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:String,reflect:!0,attribute:!0})],l=[W({type:String,reflect:!0,attribute:"color-scheme"})],d=[or()],L=[W({type:Boolean,reflect:!0,attribute:!0})],C=[ms({context:_e})],O(this,null,i,{kind:"accessor",name:"theme",static:!1,private:!1,access:{has:_=>"theme"in _,get:_=>_.theme,set:(_,P)=>{_.theme=P}},metadata:N},o,a),O(this,null,l,{kind:"accessor",name:"colorScheme",static:!1,private:!1,access:{has:_=>"colorScheme"in _,get:_=>_.colorScheme,set:(_,P)=>{_.colorScheme=P}},metadata:N},u,T),O(this,A={get:H(function(){return this.#n},"#colorSchemeState","get"),set:H(function(_){this.#n=_},"#colorSchemeState","set")},d,{kind:"accessor",name:"#colorSchemeState",static:!1,private:!0,access:{has:_=>#e in _,get:_=>_.#e,set:(_,P)=>{_.#e=P}},metadata:N},p,E),O(this,null,L,{kind:"accessor",name:"accessible",static:!1,private:!1,access:{has:_=>"accessible"in _,get:_=>_.accessible,set:(_,P)=>{_.accessible=P}},metadata:N},R,U),O(this,I={get:H(function(){return this.#i},"#themeContext","get"),set:H(function(_){this.#i=_},"#themeContext","set")},C,{kind:"accessor",name:"#themeContext",static:!1,private:!0,access:{has:_=>#a in _,get:_=>_.#a,set:(_,P)=>{_.#a=P}},metadata:N},x,k),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:N},null,s),n=t.value,N&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:N})}static registerTheme=on;static findTheme=Ss;static get allThemes(){return Cr()}static styles=yo;#s=h(this,o,"unstyled");get theme(){return this.#s}set theme(N){this.#s=N}#t=(h(this,a),h(this,u,"auto"));get colorScheme(){return this.#t}set colorScheme(N){this.#t=N}#n=(h(this,T),h(this,p,mo()));get#e(){return A.get.call(this)}set#e(N){return A.set.call(this,N)}get __colorSchemeResult(){return this.colorScheme==="auto"?this.#e.get():this.colorScheme}get isDark(){return this.__colorSchemeResult==="dark"}#r=(h(this,E),h(this,R,!1));get accessible(){return this.#r}set accessible(N){this.#r=N}__findThemeContext=(h(this,U),It(N=>{const _=[...this.theme.trim().split(/[\s,]+/).filter(Boolean),N];return this.accessible&&_.push("accessible"),Ss(_)},N=>this.theme+N+this.accessible));#i=h(this,x,this.__findThemeContext(this.__colorSchemeResult)??Tt);get#a(){return I.get.call(this)}set#a(N){return I.set.call(this,N)}get themeContext(){return this.#a}__transitionStyleSheet=(h(this,k),It(N=>{const _=new CSSStyleSheet;return _.replaceSync(N),_},N=>N));render(){const N=this.isDark?"dark":"light";this.dataset.colorScheme=N;const _=this.#a=this.__findThemeContext(N)??this.#a;this.dataset.theme=_.name;const{font:P,colors:S,safeAreaInset:f,transition:v}=_;let D="";for(const V of Jt(v)){const y=v[V],m="enter"in y?y.enter:y,w="leave"in y?y.leave:y;D+=`--${V}-enter-ease:${m.ease};--${V}-enter-duration:${m.duration};--${V}-leave-ease:${w};--${V}-leave-duration:${w.duration};`}D&&(D=`:host{${D}}`);const M=this.__transitionStyleSheet(D);return Pr(this.shadowRoot).set("transition",M),K`<style>:host{--font-style:${P.style};--font-variant-ligatures:${P.variantLigatures};--font-variant-caps:${P.variantCaps};--font-variant-numeric:${P.variantNumeric};--font-variant-east-asian:${P.variantEastAsian};--font-variant-alternates:${P.variantAlternates};--font-variant-position:${P.variantPosition};--font-variant-emoji:${P.variantEmoji};--font-weight:${P.weight};--font-stretch:${P.stretch};--font-size:${P.size};--font-family:${P.family};--font-optical-sizing:${P.opticalSizing};--font-size-adjust:${P.sizeAdjust};--font-kerning:${P.kerning};--font-feature-settings:${P.featureSettings};--font-variation-settings:${P.variationSettings};--line-height:${P.lineHeight};--color-canvas:${S.Canvas};--color-canvas-text:${S.CanvasText};--color-accent:${S.Accent};--color-accent-text:${S.AccentText};--color-red:${S.Red};--color-orange:${S.Orange};--color-yellow:${S.Yellow};--color-green:${S.Green};--color-mint:${S.Mint};--color-teal:${S.Teal};--color-cyan:${S.Cyan};--color-blue:${S.Blue};--color-indigo:${S.Indigo};--color-purple:${S.Purple};--color-pink:${S.Pink};--color-brown:${S.Brown};--grid-unit:${_.gridUnit};--grid-unit-0.5:calc(var(--grid-unit) / 2);--grid-unit-2:calc(var(--grid-unit) * 2);--grid-unit-3:calc(var(--grid-unit) * 3);--grid-unit-4:calc(var(--grid-unit) * 4);--safe-area-inset-top:${f.top};--safe-area-inset-bottom:${f.bottom};--safe-area-inset-left:${f.left};--safe-area-inset-right:${f.right}}${M}</style><slot></slot>`}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function wo(e,t){return(s,n,r)=>{const i=o=>o.renderRoot?.querySelector(e)??null;return gn(s,n,{get(){return i(this)}})}}const Eo=async(e,t=e?.currentEntry?.id)=>{if(e==null||t==null)return;const s=await e.entries(),n=s.findIndex(r=>r.id===t);if(n>0)return s.slice(0,n)},mr=e=>{const t=new oe(e,{context:gs}),s=new oe(e,{context:Ht,subscribe:!0});return{task:new hn(e,{task:([r,i])=>Eo(r,i),args:()=>[t.value,s.value?.id]}),navConsumer:t,navigationEntryConsumer:s,get nav(){return t.value},get navigationEntry(){return s.value}}};CSS.registerProperty({name:"--title-clamp",syntax:"<integer>",inherits:!1,initialValue:"1"});const xo=Y`:host{display:flex;flex-direction:row;align-items:baseline;padding-left:calc(var(--safe-area-inset-left,0px) * .5);padding-right:calc(var(--safe-area-inset-right,0px) * .5)}.leading{flex-shrink:0;min-width:48px;user-select:none;display:flex;align-self:center}.title{flex:1;overflow:hidden;text-overflow:ellipsis;text-align:center;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--title-clamp,1);height:2em;line-height:1.8}.actions{flex-shrink:0;min-width:48px;display:flex;align-self:center}`,So=Y`:host{anchor-name:--leading;display:inline-flex;height:100%}#nav-history{position-anchor:--leading;left:anchor(left);top:anchor(top);margin:0;backdrop-filter:blur(20px) contrast(0.5) brightness(max(var(--_light-brightness),var(--_dark-brightness)));width:max-content;max-height:calc(100cqh - var(--safe-area-inset-top) - var(--safe-area-inset-bottom));min-width:60cqw;padding:0;flex-direction:column;border-radius:var(--grid-unit);background:unset;border:unset;color:var(--color-canvas-text);box-shadow:0 0 calc(var(--grid-unit) * 4) 0 color-mix(in srgb,var(--color-canvas-text),transparent 80%);transition-property:all;transition-behavior:allow-discrete;transition-duration:var(--menu-leave-duration);transition-timing-function:var(--menu-leave-ease);transform-origin:top left}#nav-history li{list-style:none;transition-duration:var(--common-leave-duration);transition-timing-function:var(--common-leave-ease)}#nav-history li:hover{transition-duration:var(--common-enter-duration);transition-timing-function:var(--common-enter-ease);background-color:color-mix(in srgb,var(--color-canvas),transparent 50%)}#nav-history appn-link::part(link){padding:var(--grid-unit) calc(var(--grid-unit) * 1.5);width:100%}#nav-history hr{all:unset;height:var(--dpx);width:100%;background-color:var(--color-canvas-text);opacity:.2}#nav-history hr:last-child{display:none}#nav-history:popover-open{display:flex;transition-duration:var(--menu-enter-duration);transition-timing-function:var(--menu-enter-ease)}#nav-history:not(:popover-open){scale:0.5;opacity:0;box-shadow:0 0 0 0 transparent;pointer-events:none}`,ko=Y`:host{font-weight:600}`;/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */const vr=new WeakMap,yr=e=>e?vr.get(e):void 0,To=(e,t)=>{e&&vr.set(e,t)};(()=>{let e=[et("appn-top-bar")],t,s=[],n,r=tt;return class extends r{static{n=this}static{const i=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;O(null,t={value:n},e,{kind:"class",name:n.name,metadata:i},null,s),n=t.value,i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}static styles=xo;render(){return K`<div class="leading"><slot name="start"></slot></div><div class="title"><slot></slot></div><div class="actions"><slot name="end"></slot></div>`}static{h(n,s)}},n})();(()=>{let e=[et("appn-nav-back")],t,s=[],n,r=tt,i,o=[],a=[],l;return class extends r{static{n=this}static{const u=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[wo("#nav-history")],O(this,l={get:H(function(){return this.#n},"#navHistoryEle","get"),set:H(function(T){this.#n=T},"#navHistoryEle","set")},i,{kind:"accessor",name:"#navHistoryEle",static:!1,private:!0,access:{has:T=>#e in T,get:T=>T.#e,set:(T,d)=>{T.#e=d}},metadata:u},o,a),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:u},null,s),n=t.value,u&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:u})}static styles=So;#s=mr(this);get#t(){return this.#s}set#t(u){this.#s=u}#n=h(this,o,void 0);get#e(){return l.get.call(this)}set#e(u){return l.set.call(this,u)}firstUpdated(u){super.firstUpdated(u),this.#t.navigationEntry&&(this.dataset.sharedElement="appn-nav-back",this.dataset.sharedElementNewStyle="width:fit-content;",this.dataset.sharedElementOldStyle="width:fit-content;")}render(){return K`${this.#t.task.render({complete:u=>{if(!(!u||u.length===0))return K`<appn-link class="back-button" mode="back" type="text-button" @contextmenu="${T=>{T.preventDefault(),this.#e?.showPopover()}}"><appn-icon name="chevron.backward" widget="bold"></appn-icon><slot></slot></appn-link>${un(u.length>0,()=>K`<menu popover id="nav-history">${u.reverse().map(T=>K`<li><appn-link mode="back" to-key="${T.key}" type="text-button" actionType="pointerup" @navigate="${()=>this.#e?.hidePopover()}">${yr(T)}</appn-link></li><hr>`)}</menu>`)}`}})}<css-starting-style selector="#nav-history:popover-open" cssText="scale:0.5;opacity:0.5;box-shadow:0 0 0 0 transparent;"></css-starting-style>`}constructor(){super(...arguments),h(this,a)}static{h(n,s)}},n})();(()=>{let e=[et("appn-nav-back-text")],t,s=[],n,r=tt;return class extends r{static{n=this}static{const i=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;O(null,t={value:n},e,{kind:"class",name:n.name,metadata:i},null,s),n=t.value,i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),h(n,s)}#s=mr(this);get#t(){return this.#s}set#t(i){this.#s=i}firstUpdated(i){super.firstUpdated(i);const o=this.#t.navigationEntry;if(o){const a=o.index-1;this.dataset.sharedElement=`appn-title-${a}`,this.dataset.sharedElementNewStyle="width:fit-content;",this.dataset.sharedElementOldStyle="width:fit-content;"}}render(){return K`<slot>${this.#t.task?.render({complete:i=>!i||i.length===0?void 0:yr(i.at(-1))})}</slot>`}},n})();(()=>{let e=[et("appn-nav-title")],t,s=[],n,r=tt,i,o=[],a=[],l,u=[],T=[],d,p,E=[],A=[];return class extends r{static{n=this}static{const L=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W({type:Number,reflect:!0,attribute:!0})],l=[$t({context:Ht,subscribe:!0})],p=[W({type:String,reflect:!0,attribute:!0})],O(this,null,i,{kind:"accessor",name:"lines",static:!1,private:!1,access:{has:R=>"lines"in R,get:R=>R.lines,set:(R,U)=>{R.lines=U}},metadata:L},o,a),O(this,d={get:H(function(){return this.#t},"#navigationEntry","get"),set:H(function(R){this.#t=R},"#navigationEntry","set")},l,{kind:"accessor",name:"#navigationEntry",static:!1,private:!0,access:{has:R=>#n in R,get:R=>R.#n,set:(R,U)=>{R.#n=U}},metadata:L},u,T),O(this,null,p,{kind:"accessor",name:"pageTitle",static:!1,private:!1,access:{has:R=>"pageTitle"in R,get:R=>R.pageTitle,set:(R,U)=>{R.pageTitle=U}},metadata:L},E,A),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:L},null,s),n=t.value,L&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:L})}static styles=ko;#s=h(this,o,1);get lines(){return this.#s}set lines(L){this.#s=L}#t=(h(this,a),h(this,u,null));get#n(){return d.get.call(this)}set#n(L){return d.set.call(this,L)}#e=(h(this,T),h(this,E,""));get pageTitle(){return this.#e}set pageTitle(L){this.#e=L}firstUpdated(L){super.firstUpdated(L);const R=this.#n;R&&(this.dataset.sharedElement=`appn-title-${R.index}`)}render(){return To(this.#n,this.pageTitle),K`<slot>${this.pageTitle}</slot><style>:host{--title-clamp:${this.lines}}</style>`}constructor(){super(...arguments),h(this,A)}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2025 Gaubee
 * SPDX-License-Identifier: MIT
 */(()=>{let e=[et("appn-view")],t,s=[],n,r=tt;return class extends r{static{n=this}static{const i=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;O(null,t={value:n},e,{kind:"class",name:n.name,metadata:i},null,s),n=t.value,i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}static styles=Y`:host{display:flex;flex-direction:column;align-items:flex-start;gap:var(--grid-unit)}`;render(){return K`<slot></slot>`}static{h(n,s)}},n})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */(()=>{let e=[et("my-element")],t,s=[],n,r=tt,i,o=[],a=[],l,u=[],T=[];return class extends r{static{n=this}static{const d=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[W()],l=[W({type:Number})],O(this,null,i,{kind:"accessor",name:"name",static:!1,private:!1,access:{has:p=>"name"in p,get:p=>p.name,set:(p,E)=>{p.name=E}},metadata:d},o,a),O(this,null,l,{kind:"accessor",name:"count",static:!1,private:!1,access:{has:p=>"count"in p,get:p=>p.count,set:(p,E)=>{p.count=E}},metadata:d},u,T),O(null,t={value:n},e,{kind:"class",name:n.name,metadata:d},null,s),n=t.value,d&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}static styles=Y`:host{display:block;border:solid 1px gray;padding:16px;max-width:800px}`;#s=h(this,o,"World");get name(){return this.#s}set name(d){this.#s=d}#t=(h(this,a),h(this,u,0));get count(){return this.#t}set count(d){this.#t=d}render(){return K`<h1>${this.sayHello(this.name)}!</h1><button @click="${this._onClick}" part="button">Click Count: ${this.count}</button><slot></slot>`}_onClick(){this.count++,this.dispatchEvent(new CustomEvent("count-changed"))}sayHello(d){return`Hello, ${d}`}constructor(){super(...arguments),h(this,T)}static{h(n,s)}},n})();
