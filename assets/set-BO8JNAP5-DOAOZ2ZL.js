import{f as m,u as g}from"./_dnt.polyfills--JVbbcbr-CSw9Ua_j.js";import{m as w,a as T}from"./map-xliCluot-c5CG0Dnr.js";const C=(s,t,e=s)=>new Proxy(e,{get(n,r){return r in n?n[r]:n[r]=t(n,r)}}),N=(s,t)=>{{const e=Object.getOwnPropertyDescriptors(s),n=[];for(const r in e)e[r].enumerable&&n.push(r);return n}},P=new WeakMap,_=(s=document)=>{let t=!1;const e=()=>{t||(t=!0,queueMicrotask(()=>{t=!1,s.adoptedStyleSheets=s.adoptedStyleSheets}))},n=o=>(...i)=>{const u=s.adoptedStyleSheets[o].apply(s.adoptedStyleSheets,i);return e(),u},r=n("push"),l=n("pop"),a=n("shift"),c=n("unshift"),E=n("splice"),h=o=>{const i=s.adoptedStyleSheets.indexOf(o);i!==-1&&(s.adoptedStyleSheets.splice(i,1),e())},d=m(()=>w(P,s.adoptedStyleSheets,()=>new Map)),R=o=>d().has(o),b=(o,i)=>{const u=d(),S=u.get(o);S!==i&&(y(S,i),u.set(o,i))},k=o=>{const i=d(),u=T(i,o);return u!=null?(h(u),!0):!1},M=o=>d().get(o),$=(o,i)=>{const u=s.adoptedStyleSheets.includes(o);i===!1?u&&h(o):i?u||(s.adoptedStyleSheets.push(o),e()):u?h(o):(s.adoptedStyleSheets.push(o),e())},y=(o,i)=>{if(o==null)s.adoptedStyleSheets.push(i),e();else{const u=s.adoptedStyleSheets.indexOf(o);u!==-1&&(s.adoptedStyleSheets.splice(u,1,i),e())}},A=new Map([["push",r],["pop",l],["shift",a],["unshift",c],["splice",E],["remove",h],["toggle",$],["replace",y],["has",R],["set",b],["delete",k],["get",M]]);return new Proxy(s.adoptedStyleSheets,{get(o,i,u){return A.get(i)||Reflect.get(o,i,u)}})},L=_(),v=s=>{let t="";for(const e of N(s)){const n=e.startsWith("--")?e:e.replace(/[A-Z]/g,r=>"-"+r.toLowerCase());t+=`${n}:${s[e]};`}return t},z=s=>s?s.nodeType!==Node.DOCUMENT_NODE?s.ownerDocument??document:s:document,D=new WeakMap,K=s=>("adoptedStyleSheets"in s||(s=z(s)),w(D,s,_)),Q="ontouchstart"in document.body&&typeof TouchEvent<"u";class O{#e;#s=!1;#o(t=!this.#s){const e=this.#e;e!=null&&(t?this.#s||(e.push(this.#n),this.#s=!0):this.#s&&(e.remove(this.#n),this.#s=!1))}constructor(t=L){this.#e=t,this.#o()}get owner(){return this.#e}set owner(t){t!==this.#e&&(this.#o(!1),this.#e=t??null,this.#o(!0))}#n=new CSSStyleSheet;get unsafeStyleSheet(){return this.#n}#t=[];get size(){return this.#t.length}addRule(t,e){const n=this.#n,r=this.#t,l=n.cssRules.length;if(n.insertRule(t,e??l),l!==n.cssRules.length){const a=n.cssRules.item(e??l);return e==null?r.push(a):e===0?r.unshift(a):r.splice(e,0,a),a}return null}addRules(t,e){p.replaceSync(t);const n=[];for(let r=p.cssRules.length-1;r>=0;r--)n[n.length]=this.addRule(p.cssRules[r].cssText,e);return e==null?n:n.reverse()}removeRule(t){let e;if(typeof t=="number"){if(this.#t[e=t]==null)return!1}else if(e=this.#t.indexOf(t),e===-1)return!1;return this.#n.deleteRule(e),this.#t.splice(e,1),!0}atRule(t){return this.#t.at(t)}[Symbol.iterator](){return this.#t[Symbol.iterator]()}#r=new Map;keys(){return this.#r.keys()}hasRule(t){return this.#r.has(t)}getRule(t){return this.#r.get(t)}setRule(t,e,n){this.deleteRule(t);const r=this.addRule(e,n);return r&&this.#r.set(t,r),r}deleteRule(t){const e=this.#r.get(t);return e!=null?(this.removeRule(e),!0):!1}}const p=new CSSStyleSheet,V=g(AbortSignal.prototype.throwIfAborted??=function(){if(this.aborted)throw this.reason}),X={set(s,t){s.dataset.sharedElementLifecycle=t},get(s){return s.dataset.sharedElementLifecycle},delete(s){delete s.dataset.sharedElementLifecycle}},f=[{key:"group",alias:null,prop:"sharedElementGroupStyle"},{key:"new",alias:"both",prop:"sharedElementNewStyle"},{key:"old",alias:"both",prop:"sharedElementOldStyle"},{key:"imagePair",alias:null,prop:"sharedElementImagePairStyle"}],q=new Map(f.map(s=>[s.key,s.prop]));class x{set(t,e=null,n){if(e==null)return this.unset(t);const{dataset:r}=t;r.sharedElement=e;for(const l of f){const a=n?n[l.key]||l.alias&&n[l.alias]:null;a?r[l.prop]=a:delete r[l.prop]}}get(t){const{dataset:e}=t,n=e.sharedElement;if(n){let r;return{name:n,get styles(){return r??=C({},(l,a)=>{const c=q.get(a);return c?e[c]??"":""})}}}}unset(t){const{dataset:e}=t;if(e.sharedElement){delete e.sharedElement;for(const n of f)delete e[n.prop]}}queryAll(t,e){let n=[].slice.call(t.querySelectorAll(e?.selector??"[data-shared-element]"));return e?.filter&&(n=n.filter(e.filter)),n}queryAllWithConfig(t,e){const n=this.queryAll(t,e),r=[];for(const l of n){const a=this.get(l);r.push(Object.assign(a,{element:l}))}return r}}const ee=new x;class te{selectorPrefix="::view-transition";getSelector(t="group",e="*"){return`${this.selectorPrefix}-${t}(${e})`}setAnimationStyle(t=this.getSelector(),e=null){const n=`--user-${t}`;e==null?this.css.deleteRule(n):this.css.setRule(n,`${t}{${v(e)}}`)}animationDuration=350;animationEasing="cubic-bezier(0.2, 0.9, 0.5, 1)";#e=m(()=>{const t=String.raw,e=new O;return e.addRule(t`[data-shared-element-state=old]{visibility:hidden!important}`),e.addRule(t`${this.getSelector("group","*")}{animation-timing-function:${this.animationEasing};animation-duration:${this.animationDuration}ms}`),e});get css(){return this.#e()}__getPagesContext(t,e){const n={},r=l=>{if(l){const a=e.queryNavEntryNode(l,t);if(a)return{navEntryNode:a,navEntry:l}}};return n.from=r(e.from),n.dest=r(e.dest),n}}const I=s=>g(Set.prototype[s]),W=I("intersection"),j=s=>s,F=s=>Symbol.iterator in s?s:{[Symbol.iterator](){return s}},B=j((s,t)=>{G(t);let e,n;s.size<=t.size?(e=s,n=t):(e=t.keys(),n=s);const r=new Set;for(const l of F(e))n.has(l)&&r.add(l);return r});function G(s){if(!H(s))throw new TypeError;const t=s.size,e=Number(t);if(Number.isNaN(e))throw new TypeError;if(typeof s.has!="function")throw new TypeError;if(typeof s.keys!="function")throw new TypeError}function H(s){if(s===null)return!1;const t=typeof s;return t==="object"||t==="function"}const U="intersection"in Set.prototype,Y=([s,t])=>U?s:t,se=Y([W,B]);export{te as S,V as a,X as b,se as c,v as d,K as g,Q as i,N as o,ee as s};
