import{S as c,i as d,p as r}from"./index-BOy_PJl2.js";import"./css-color-mix-Dql-TA3k.js";class h{finished;ready;updateCallbackDone;__skipTransitionCallback;__skipped=!1;skipTransition(){this.__skipped||(this.__skipped=!0,this.__skipTransitionCallback())}constructor(t,e,n,i){this.finished=t,this.ready=e,this.updateCallbackDone=n,this.__skipTransitionCallback=i}}class f extends c{getSelector(t,e){return super.getSelector(t,e).replace(/[:(*)]/g,n=>`\\${n}`)}isSharedElementAnimation(t){const{effect:e}=t;if(e instanceof KeyframeEffect&&e.target&&d(e.target.classList,n=>n.startsWith(this.selectorPrefix)))return t}async transition(t,e,n){await e?.first?.();const i=r(),l=r(),s=r(),a=new h(i.promise,l.promise,s.promise,()=>{});(async()=>{try{await e.last?.(),s.resolve()}catch(p){s.reject(p)}})(),await e?.start?.(a),await a.finished,await e.finish?.(a)}constructor(){super();const t=String.raw;this.css.addRules(t`appn-navigation-history-entry[data-from-tense=present]{transition-duration:var(--page-leave-duration);transition-timing-function:var(--page-leave-ease)}appn-navigation-history-entry[data-tense=present]{transition-duration:var(--page-enter-duration);transition-timing-function:var(--page-enter-ease)}`)}effectPagesSharedElement(t,e){throw new Error("Method not implemented.")}}const _=new f;export{f as SharedElementPonyfill,_ as sharedElementPonyfill};
